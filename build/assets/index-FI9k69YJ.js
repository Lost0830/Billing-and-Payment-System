function Ab(r,s){for(var a=0;a<s.length;a++){const o=s[a];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in r)){const d=Object.getOwnPropertyDescriptor(o,l);d&&Object.defineProperty(r,l,d.get?d:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function a(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(l){if(l.ep)return;l.ep=!0;const d=a(l);fetch(l.href,d)}})();function Tx(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Cu={exports:{}},Ui={},Pu={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function Rb(){if(Xh)return mt;Xh=1;var r=Symbol.for("react.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.iterator;function S(A){return A===null||typeof A!="object"?null:(A=g&&A[g]||A["@@iterator"],typeof A=="function"?A:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,b={};function j(A,T,z){this.props=A,this.context=T,this.refs=b,this.updater=z||C}j.prototype.isReactComponent={},j.prototype.setState=function(A,T){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,T,"setState")},j.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function E(){}E.prototype=j.prototype;function I(A,T,z){this.props=A,this.context=T,this.refs=b,this.updater=z||C}var M=I.prototype=new E;M.constructor=I,N(M,j.prototype),M.isPureReactComponent=!0;var D=Array.isArray,q=Object.prototype.hasOwnProperty,Q={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function V(A,T,z){var O,R={},X=null,B=null;if(T!=null)for(O in T.ref!==void 0&&(B=T.ref),T.key!==void 0&&(X=""+T.key),T)q.call(T,O)&&!U.hasOwnProperty(O)&&(R[O]=T[O]);var Y=arguments.length-2;if(Y===1)R.children=z;else if(1<Y){for(var he=Array(Y),Ne=0;Ne<Y;Ne++)he[Ne]=arguments[Ne+2];R.children=he}if(A&&A.defaultProps)for(O in Y=A.defaultProps,Y)R[O]===void 0&&(R[O]=Y[O]);return{$$typeof:r,type:A,key:X,ref:B,props:R,_owner:Q.current}}function ie(A,T){return{$$typeof:r,type:A.type,key:T,ref:A.ref,props:A.props,_owner:A._owner}}function le(A){return typeof A=="object"&&A!==null&&A.$$typeof===r}function we(A){var T={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(z){return T[z]})}var Z=/\/+/g;function ne(A,T){return typeof A=="object"&&A!==null&&A.key!=null?we(""+A.key):T.toString(36)}function fe(A,T,z,O,R){var X=typeof A;(X==="undefined"||X==="boolean")&&(A=null);var B=!1;if(A===null)B=!0;else switch(X){case"string":case"number":B=!0;break;case"object":switch(A.$$typeof){case r:case s:B=!0}}if(B)return B=A,R=R(B),A=O===""?"."+ne(B,0):O,D(R)?(z="",A!=null&&(z=A.replace(Z,"$&/")+"/"),fe(R,T,z,"",function(Ne){return Ne})):R!=null&&(le(R)&&(R=ie(R,z+(!R.key||B&&B.key===R.key?"":(""+R.key).replace(Z,"$&/")+"/")+A)),T.push(R)),1;if(B=0,O=O===""?".":O+":",D(A))for(var Y=0;Y<A.length;Y++){X=A[Y];var he=O+ne(X,Y);B+=fe(X,T,z,he,R)}else if(he=S(A),typeof he=="function")for(A=he.call(A),Y=0;!(X=A.next()).done;)X=X.value,he=O+ne(X,Y++),B+=fe(X,T,z,he,R);else if(X==="object")throw T=String(A),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return B}function me(A,T,z){if(A==null)return A;var O=[],R=0;return fe(A,O,"","",function(X){return T.call(z,X,R++)}),O}function se(A){if(A._status===-1){var T=A._result;T=T(),T.then(function(z){(A._status===0||A._status===-1)&&(A._status=1,A._result=z)},function(z){(A._status===0||A._status===-1)&&(A._status=2,A._result=z)}),A._status===-1&&(A._status=0,A._result=T)}if(A._status===1)return A._result.default;throw A._result}var te={current:null},L={transition:null},k={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:L,ReactCurrentOwner:Q};function K(){throw Error("act(...) is not supported in production builds of React.")}return mt.Children={map:me,forEach:function(A,T,z){me(A,function(){T.apply(this,arguments)},z)},count:function(A){var T=0;return me(A,function(){T++}),T},toArray:function(A){return me(A,function(T){return T})||[]},only:function(A){if(!le(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},mt.Component=j,mt.Fragment=a,mt.Profiler=l,mt.PureComponent=I,mt.StrictMode=o,mt.Suspense=y,mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,mt.act=K,mt.cloneElement=function(A,T,z){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var O=N({},A.props),R=A.key,X=A.ref,B=A._owner;if(T!=null){if(T.ref!==void 0&&(X=T.ref,B=Q.current),T.key!==void 0&&(R=""+T.key),A.type&&A.type.defaultProps)var Y=A.type.defaultProps;for(he in T)q.call(T,he)&&!U.hasOwnProperty(he)&&(O[he]=T[he]===void 0&&Y!==void 0?Y[he]:T[he])}var he=arguments.length-2;if(he===1)O.children=z;else if(1<he){Y=Array(he);for(var Ne=0;Ne<he;Ne++)Y[Ne]=arguments[Ne+2];O.children=Y}return{$$typeof:r,type:A.type,key:R,ref:X,props:O,_owner:B}},mt.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:d,_context:A},A.Consumer=A},mt.createElement=V,mt.createFactory=function(A){var T=V.bind(null,A);return T.type=A,T},mt.createRef=function(){return{current:null}},mt.forwardRef=function(A){return{$$typeof:f,render:A}},mt.isValidElement=le,mt.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:se}},mt.memo=function(A,T){return{$$typeof:x,type:A,compare:T===void 0?null:T}},mt.startTransition=function(A){var T=L.transition;L.transition={};try{A()}finally{L.transition=T}},mt.unstable_act=K,mt.useCallback=function(A,T){return te.current.useCallback(A,T)},mt.useContext=function(A){return te.current.useContext(A)},mt.useDebugValue=function(){},mt.useDeferredValue=function(A){return te.current.useDeferredValue(A)},mt.useEffect=function(A,T){return te.current.useEffect(A,T)},mt.useId=function(){return te.current.useId()},mt.useImperativeHandle=function(A,T,z){return te.current.useImperativeHandle(A,T,z)},mt.useInsertionEffect=function(A,T){return te.current.useInsertionEffect(A,T)},mt.useLayoutEffect=function(A,T){return te.current.useLayoutEffect(A,T)},mt.useMemo=function(A,T){return te.current.useMemo(A,T)},mt.useReducer=function(A,T,z){return te.current.useReducer(A,T,z)},mt.useRef=function(A){return te.current.useRef(A)},mt.useState=function(A){return te.current.useState(A)},mt.useSyncExternalStore=function(A,T,z){return te.current.useSyncExternalStore(A,T,z)},mt.useTransition=function(){return te.current.useTransition()},mt.version="18.3.1",mt}var Jh;function Im(){return Jh||(Jh=1,Pu.exports=Rb()),Pu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function Tb(){if(Zh)return Ui;Zh=1;var r=Im(),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function u(f,y,x){var v,g={},S=null,C=null;x!==void 0&&(S=""+x),y.key!==void 0&&(S=""+y.key),y.ref!==void 0&&(C=y.ref);for(v in y)o.call(y,v)&&!d.hasOwnProperty(v)&&(g[v]=y[v]);if(f&&f.defaultProps)for(v in y=f.defaultProps,y)g[v]===void 0&&(g[v]=y[v]);return{$$typeof:s,type:f,key:S,ref:C,props:g,_owner:l.current}}return Ui.Fragment=a,Ui.jsx=u,Ui.jsxs=u,Ui}var eg;function Ib(){return eg||(eg=1,Cu.exports=Tb()),Cu.exports}var e=Ib(),Cl={},Eu={exports:{}},kn={},Du={exports:{}},ku={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function _b(){return tg||(tg=1,(function(r){function s(L,k){var K=L.length;L.push(k);e:for(;0<K;){var A=K-1>>>1,T=L[A];if(0<l(T,k))L[A]=k,L[K]=T,K=A;else break e}}function a(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var k=L[0],K=L.pop();if(K!==k){L[0]=K;e:for(var A=0,T=L.length,z=T>>>1;A<z;){var O=2*(A+1)-1,R=L[O],X=O+1,B=L[X];if(0>l(R,K))X<T&&0>l(B,R)?(L[A]=B,L[X]=K,A=X):(L[A]=R,L[O]=K,A=O);else if(X<T&&0>l(B,K))L[A]=B,L[X]=K,A=X;else break e}}return k}function l(L,k){var K=L.sortIndex-k.sortIndex;return K!==0?K:L.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var y=[],x=[],v=1,g=null,S=3,C=!1,N=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(L){for(var k=a(x);k!==null;){if(k.callback===null)o(x);else if(k.startTime<=L)o(x),k.sortIndex=k.expirationTime,s(y,k);else break;k=a(x)}}function D(L){if(b=!1,M(L),!N)if(a(y)!==null)N=!0,se(q);else{var k=a(x);k!==null&&te(D,k.startTime-L)}}function q(L,k){N=!1,b&&(b=!1,E(V),V=-1),C=!0;var K=S;try{for(M(k),g=a(y);g!==null&&(!(g.expirationTime>k)||L&&!we());){var A=g.callback;if(typeof A=="function"){g.callback=null,S=g.priorityLevel;var T=A(g.expirationTime<=k);k=r.unstable_now(),typeof T=="function"?g.callback=T:g===a(y)&&o(y),M(k)}else o(y);g=a(y)}if(g!==null)var z=!0;else{var O=a(x);O!==null&&te(D,O.startTime-k),z=!1}return z}finally{g=null,S=K,C=!1}}var Q=!1,U=null,V=-1,ie=5,le=-1;function we(){return!(r.unstable_now()-le<ie)}function Z(){if(U!==null){var L=r.unstable_now();le=L;var k=!0;try{k=U(!0,L)}finally{k?ne():(Q=!1,U=null)}}else Q=!1}var ne;if(typeof I=="function")ne=function(){I(Z)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,me=fe.port2;fe.port1.onmessage=Z,ne=function(){me.postMessage(null)}}else ne=function(){j(Z,0)};function se(L){U=L,Q||(Q=!0,ne())}function te(L,k){V=j(function(){L(r.unstable_now())},k)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_continueExecution=function(){N||C||(N=!0,se(q))},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return a(y)},r.unstable_next=function(L){switch(S){case 1:case 2:case 3:var k=3;break;default:k=S}var K=S;S=k;try{return L()}finally{S=K}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(L,k){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=S;S=L;try{return k()}finally{S=K}},r.unstable_scheduleCallback=function(L,k,K){var A=r.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?A+K:A):K=A,L){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=K+T,L={id:v++,callback:k,priorityLevel:L,startTime:K,expirationTime:T,sortIndex:-1},K>A?(L.sortIndex=K,s(x,L),a(y)===null&&L===a(x)&&(b?(E(V),V=-1):b=!0,te(D,K-A))):(L.sortIndex=T,s(y,L),N||C||(N=!0,se(q))),L},r.unstable_shouldYield=we,r.unstable_wrapCallback=function(L){var k=S;return function(){var K=S;S=k;try{return L.apply(this,arguments)}finally{S=K}}}})(ku)),ku}var ng;function Mb(){return ng||(ng=1,Du.exports=_b()),Du.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function Ob(){if(rg)return kn;rg=1;var r=Im(),s=Mb();function a(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function d(t,n){u(t,n),u(t+"Capture",n)}function u(t,n){for(l[t]=n,t=0;t<n.length;t++)o.add(n[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},g={};function S(t){return y.call(g,t)?!0:y.call(v,t)?!1:x.test(t)?g[t]=!0:(v[t]=!0,!1)}function C(t,n,i,c){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N(t,n,i,c){if(n===null||typeof n>"u"||C(t,n,i,c))return!0;if(c)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function b(t,n,i,c,m,h,w){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=m,this.mustUseProperty=i,this.propertyName=t,this.type=n,this.sanitizeURL=h,this.removeEmptyString=w}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){j[t]=new b(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];j[n]=new b(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){j[t]=new b(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){j[t]=new b(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){j[t]=new b(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){j[t]=new b(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){j[t]=new b(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){j[t]=new b(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){j[t]=new b(t,5,!1,t.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function I(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(E,I);j[n]=new b(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(E,I);j[n]=new b(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(E,I);j[n]=new b(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){j[t]=new b(t,1,!1,t.toLowerCase(),null,!1,!1)}),j.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){j[t]=new b(t,1,!1,t.toLowerCase(),null,!0,!0)});function M(t,n,i,c){var m=j.hasOwnProperty(n)?j[n]:null;(m!==null?m.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(N(n,i,m,c)&&(i=null),c||m===null?S(n)&&(i===null?t.removeAttribute(n):t.setAttribute(n,""+i)):m.mustUseProperty?t[m.propertyName]=i===null?m.type===3?!1:"":i:(n=m.attributeName,c=m.attributeNamespace,i===null?t.removeAttribute(n):(m=m.type,i=m===3||m===4&&i===!0?"":""+i,c?t.setAttributeNS(c,n,i):t.setAttribute(n,i))))}var D=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),Q=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),we=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),L=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var K=Object.assign,A;function T(t){if(A===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);A=n&&n[1]||""}return`
`+A+t}var z=!1;function O(t,n){if(!t||z)return"";z=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(ee){var c=ee}Reflect.construct(t,[],n)}else{try{n.call()}catch(ee){c=ee}t.call(n.prototype)}else{try{throw Error()}catch(ee){c=ee}t()}}catch(ee){if(ee&&c&&typeof ee.stack=="string"){for(var m=ee.stack.split(`
`),h=c.stack.split(`
`),w=m.length-1,_=h.length-1;1<=w&&0<=_&&m[w]!==h[_];)_--;for(;1<=w&&0<=_;w--,_--)if(m[w]!==h[_]){if(w!==1||_!==1)do if(w--,_--,0>_||m[w]!==h[_]){var F=`
`+m[w].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=w&&0<=_);break}}}finally{z=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?T(t):""}function R(t){switch(t.tag){case 5:return T(t.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return t=O(t.type,!1),t;case 11:return t=O(t.type.render,!1),t;case 1:return t=O(t.type,!0),t;default:return""}}function X(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case Q:return"Portal";case ie:return"Profiler";case V:return"StrictMode";case ne:return"Suspense";case fe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case we:return(t.displayName||"Context")+".Consumer";case le:return(t._context.displayName||"Context")+".Provider";case Z:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case me:return n=t.displayName||null,n!==null?n:X(t.type)||"Memo";case se:n=t._payload,t=t._init;try{return X(t(n))}catch{}}return null}function B(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(n);case 8:return n===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Y(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function he(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ne(t){var n=he(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),c=""+t[n];if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var m=i.get,h=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return m.call(this)},set:function(w){c=""+w,h.call(this,w)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qe(t){t._valueTracker||(t._valueTracker=Ne(t))}function Je(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),c="";return t&&(c=he(t)?t.checked?"true":"false":t.value),t=c,t!==i?(n.setValue(t),!0):!1}function yt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kt(t,n){var i=n.checked;return K({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function H(t,n){var i=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;i=Y(n.value!=null?n.value:i),t._wrapperState={initialChecked:c,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ge(t,n){n=n.checked,n!=null&&M(t,"checked",n,!1)}function ht(t,n){Ge(t,n);var i=Y(n.value),c=n.type;if(i!=null)c==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Xe(t,n.type,i):n.hasOwnProperty("defaultValue")&&Xe(t,n.type,Y(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function ae(t,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,i||n===t.value||(t.value=n),t.defaultValue=n}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function Xe(t,n,i){(n!=="number"||yt(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var Oe=Array.isArray;function $e(t,n,i,c){if(t=t.options,n){n={};for(var m=0;m<i.length;m++)n["$"+i[m]]=!0;for(i=0;i<t.length;i++)m=n.hasOwnProperty("$"+t[i].value),t[i].selected!==m&&(t[i].selected=m),m&&c&&(t[i].defaultSelected=!0)}else{for(i=""+Y(i),n=null,m=0;m<t.length;m++){if(t[m].value===i){t[m].selected=!0,c&&(t[m].defaultSelected=!0);return}n!==null||t[m].disabled||(n=t[m])}n!==null&&(n.selected=!0)}}function nt(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(a(91));return K({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(a(92));if(Oe(i)){if(1<i.length)throw Error(a(93));i=i[0]}n=i}n==null&&(n=""),i=n}t._wrapperState={initialValue:Y(i)}}function tt(t,n){var i=Y(n.value),c=Y(n.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),n.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),c!=null&&(t.defaultValue=""+c)}function jt(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function W(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function be(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?W(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Be,He=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,c,m){MSApp.execUnsafeLocalFunction(function(){return t(n,i,c,m)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Be=Be||document.createElement("div"),Be.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Be.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function ft(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Et=["Webkit","ms","Moz","O"];Object.keys(zt).forEach(function(t){Et.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),zt[n]=zt[t]})});function Ze(t,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||zt.hasOwnProperty(t)&&zt[t]?(""+n).trim():n+"px"}function Nt(t,n){t=t.style;for(var i in n)if(n.hasOwnProperty(i)){var c=i.indexOf("--")===0,m=Ze(i,n[i],c);i==="float"&&(i="cssFloat"),c?t.setProperty(i,m):t[i]=m}}var At=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pt(t,n){if(n){if(At[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(a(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(a(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(a(61))}if(n.style!=null&&typeof n.style!="object")throw Error(a(62))}}function Ht(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qn=null;function $t(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var P=null,de=null,Re=null;function Ue(t){if(t=Ei(t)){if(typeof P!="function")throw Error(a(280));var n=t.stateNode;n&&(n=$o(n),P(t.stateNode,t.type,n))}}function Ee(t){de?Re?Re.push(t):Re=[t]:de=t}function Le(){if(de){var t=de,n=Re;if(Re=de=null,Ue(t),n)for(t=0;t<n.length;t++)Ue(n[t])}}function Te(t,n){return t(n)}function ot(){}var bt=!1;function St(t,n,i){if(bt)return t(n,i);bt=!0;try{return Te(t,n,i)}finally{bt=!1,(de!==null||Re!==null)&&(ot(),Le())}}function vt(t,n){var i=t.stateNode;if(i===null)return null;var c=$o(i);if(c===null)return null;i=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var Bn=!1;if(f)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{Bn=!1}function ut(t,n,i,c,m,h,w,_,F){var ee=Array.prototype.slice.call(arguments,3);try{n.apply(i,ee)}catch(ge){this.onError(ge)}}var Lt=!1,Vt=null,Xn=!1,Vc=null,Lw={onError:function(t){Lt=!0,Vt=t}};function Fw(t,n,i,c,m,h,w,_,F){Lt=!1,Vt=null,ut.apply(Lw,arguments)}function zw(t,n,i,c,m,h,w,_,F){if(Fw.apply(this,arguments),Lt){if(Lt){var ee=Vt;Lt=!1,Vt=null}else throw Error(a(198));Xn||(Xn=!0,Vc=ee)}}function zs(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function wf(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function jf(t){if(zs(t)!==t)throw Error(a(188))}function $w(t){var n=t.alternate;if(!n){if(n=zs(t),n===null)throw Error(a(188));return n!==t?null:t}for(var i=t,c=n;;){var m=i.return;if(m===null)break;var h=m.alternate;if(h===null){if(c=m.return,c!==null){i=c;continue}break}if(m.child===h.child){for(h=m.child;h;){if(h===i)return jf(m),t;if(h===c)return jf(m),n;h=h.sibling}throw Error(a(188))}if(i.return!==c.return)i=m,c=h;else{for(var w=!1,_=m.child;_;){if(_===i){w=!0,i=m,c=h;break}if(_===c){w=!0,c=m,i=h;break}_=_.sibling}if(!w){for(_=h.child;_;){if(_===i){w=!0,i=h,c=m;break}if(_===c){w=!0,c=h,i=m;break}_=_.sibling}if(!w)throw Error(a(189))}}if(i.alternate!==c)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?t:n}function bf(t){return t=$w(t),t!==null?Nf(t):null}function Nf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Nf(t);if(n!==null)return n;t=t.sibling}return null}var Sf=s.unstable_scheduleCallback,Cf=s.unstable_cancelCallback,Bw=s.unstable_shouldYield,Uw=s.unstable_requestPaint,Bt=s.unstable_now,Hw=s.unstable_getCurrentPriorityLevel,Wc=s.unstable_ImmediatePriority,Pf=s.unstable_UserBlockingPriority,wo=s.unstable_NormalPriority,Vw=s.unstable_LowPriority,Ef=s.unstable_IdlePriority,jo=null,pr=null;function Ww(t){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(jo,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:Kw,qw=Math.log,Gw=Math.LN2;function Kw(t){return t>>>=0,t===0?32:31-(qw(t)/Gw|0)|0}var bo=64,No=4194304;function ci(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function So(t,n){var i=t.pendingLanes;if(i===0)return 0;var c=0,m=t.suspendedLanes,h=t.pingedLanes,w=i&268435455;if(w!==0){var _=w&~m;_!==0?c=ci(_):(h&=w,h!==0&&(c=ci(h)))}else w=i&~m,w!==0?c=ci(w):h!==0&&(c=ci(h));if(c===0)return 0;if(n!==0&&n!==c&&(n&m)===0&&(m=c&-c,h=n&-n,m>=h||m===16&&(h&4194240)!==0))return n;if((c&4)!==0&&(c|=i&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=c;0<n;)i=31-Jn(n),m=1<<i,c|=t[i],n&=~m;return c}function Yw(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qw(t,n){for(var i=t.suspendedLanes,c=t.pingedLanes,m=t.expirationTimes,h=t.pendingLanes;0<h;){var w=31-Jn(h),_=1<<w,F=m[w];F===-1?((_&i)===0||(_&c)!==0)&&(m[w]=Yw(_,n)):F<=n&&(t.expiredLanes|=_),h&=~_}}function qc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Df(){var t=bo;return bo<<=1,(bo&4194240)===0&&(bo=64),t}function Gc(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function di(t,n,i){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Jn(n),t[n]=i}function Xw(t,n){var i=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<i;){var m=31-Jn(i),h=1<<m;n[m]=0,c[m]=-1,t[m]=-1,i&=~h}}function Kc(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var c=31-Jn(i),m=1<<c;m&n|t[c]&n&&(t[c]|=n),i&=~m}}var Ct=0;function kf(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Af,Yc,Rf,Tf,If,Qc=!1,Co=[],Qr=null,Xr=null,Jr=null,ui=new Map,mi=new Map,Zr=[],Jw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _f(t,n){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":ui.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":mi.delete(n.pointerId)}}function fi(t,n,i,c,m,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:i,eventSystemFlags:c,nativeEvent:h,targetContainers:[m]},n!==null&&(n=Ei(n),n!==null&&Yc(n)),t):(t.eventSystemFlags|=c,n=t.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),t)}function Zw(t,n,i,c,m){switch(n){case"focusin":return Qr=fi(Qr,t,n,i,c,m),!0;case"dragenter":return Xr=fi(Xr,t,n,i,c,m),!0;case"mouseover":return Jr=fi(Jr,t,n,i,c,m),!0;case"pointerover":var h=m.pointerId;return ui.set(h,fi(ui.get(h)||null,t,n,i,c,m)),!0;case"gotpointercapture":return h=m.pointerId,mi.set(h,fi(mi.get(h)||null,t,n,i,c,m)),!0}return!1}function Mf(t){var n=$s(t.target);if(n!==null){var i=zs(n);if(i!==null){if(n=i.tag,n===13){if(n=wf(i),n!==null){t.blockedOn=n,If(t.priority,function(){Rf(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Po(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=Jc(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var c=new i.constructor(i.type,i);Qn=c,i.target.dispatchEvent(c),Qn=null}else return n=Ei(i),n!==null&&Yc(n),t.blockedOn=i,!1;n.shift()}return!0}function Of(t,n,i){Po(t)&&i.delete(n)}function ej(){Qc=!1,Qr!==null&&Po(Qr)&&(Qr=null),Xr!==null&&Po(Xr)&&(Xr=null),Jr!==null&&Po(Jr)&&(Jr=null),ui.forEach(Of),mi.forEach(Of)}function pi(t,n){t.blockedOn===n&&(t.blockedOn=null,Qc||(Qc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ej)))}function hi(t){function n(m){return pi(m,t)}if(0<Co.length){pi(Co[0],t);for(var i=1;i<Co.length;i++){var c=Co[i];c.blockedOn===t&&(c.blockedOn=null)}}for(Qr!==null&&pi(Qr,t),Xr!==null&&pi(Xr,t),Jr!==null&&pi(Jr,t),ui.forEach(n),mi.forEach(n),i=0;i<Zr.length;i++)c=Zr[i],c.blockedOn===t&&(c.blockedOn=null);for(;0<Zr.length&&(i=Zr[0],i.blockedOn===null);)Mf(i),i.blockedOn===null&&Zr.shift()}var ga=D.ReactCurrentBatchConfig,Eo=!0;function tj(t,n,i,c){var m=Ct,h=ga.transition;ga.transition=null;try{Ct=1,Xc(t,n,i,c)}finally{Ct=m,ga.transition=h}}function nj(t,n,i,c){var m=Ct,h=ga.transition;ga.transition=null;try{Ct=4,Xc(t,n,i,c)}finally{Ct=m,ga.transition=h}}function Xc(t,n,i,c){if(Eo){var m=Jc(t,n,i,c);if(m===null)hd(t,n,c,Do,i),_f(t,c);else if(Zw(m,t,n,i,c))c.stopPropagation();else if(_f(t,c),n&4&&-1<Jw.indexOf(t)){for(;m!==null;){var h=Ei(m);if(h!==null&&Af(h),h=Jc(t,n,i,c),h===null&&hd(t,n,c,Do,i),h===m)break;m=h}m!==null&&c.stopPropagation()}else hd(t,n,c,null,i)}}var Do=null;function Jc(t,n,i,c){if(Do=null,t=$t(c),t=$s(t),t!==null)if(n=zs(t),n===null)t=null;else if(i=n.tag,i===13){if(t=wf(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return Do=t,null}function Lf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hw()){case Wc:return 1;case Pf:return 4;case wo:case Vw:return 16;case Ef:return 536870912;default:return 16}default:return 16}}var es=null,Zc=null,ko=null;function Ff(){if(ko)return ko;var t,n=Zc,i=n.length,c,m="value"in es?es.value:es.textContent,h=m.length;for(t=0;t<i&&n[t]===m[t];t++);var w=i-t;for(c=1;c<=w&&n[i-c]===m[h-c];c++);return ko=m.slice(t,1<c?1-c:void 0)}function Ao(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ro(){return!0}function zf(){return!1}function In(t){function n(i,c,m,h,w){this._reactName=i,this._targetInst=m,this.type=c,this.nativeEvent=h,this.target=w,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(i=t[_],this[_]=i?i(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ro:zf,this.isPropagationStopped=zf,this}return K(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),n}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ed=In(xa),gi=K({},xa,{view:0,detail:0}),rj=In(gi),td,nd,xi,To=K({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(td=t.screenX-xi.screenX,nd=t.screenY-xi.screenY):nd=td=0,xi=t),td)},movementY:function(t){return"movementY"in t?t.movementY:nd}}),$f=In(To),sj=K({},To,{dataTransfer:0}),aj=In(sj),ij=K({},gi,{relatedTarget:0}),rd=In(ij),oj=K({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),lj=In(oj),cj=K({},xa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dj=In(cj),uj=K({},xa,{data:0}),Bf=In(uj),mj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hj(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=pj[t])?!!n[t]:!1}function sd(){return hj}var gj=K({},gi,{key:function(t){if(t.key){var n=mj[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ao(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sd,charCode:function(t){return t.type==="keypress"?Ao(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ao(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xj=In(gj),yj=K({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uf=In(yj),vj=K({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sd}),wj=In(vj),jj=K({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),bj=In(jj),Nj=K({},To,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sj=In(Nj),Cj=[9,13,27,32],ad=f&&"CompositionEvent"in window,yi=null;f&&"documentMode"in document&&(yi=document.documentMode);var Pj=f&&"TextEvent"in window&&!yi,Hf=f&&(!ad||yi&&8<yi&&11>=yi),Vf=" ",Wf=!1;function qf(t,n){switch(t){case"keyup":return Cj.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ya=!1;function Ej(t,n){switch(t){case"compositionend":return Gf(n);case"keypress":return n.which!==32?null:(Wf=!0,Vf);case"textInput":return t=n.data,t===Vf&&Wf?null:t;default:return null}}function Dj(t,n){if(ya)return t==="compositionend"||!ad&&qf(t,n)?(t=Ff(),ko=Zc=es=null,ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Hf&&n.locale!=="ko"?null:n.data;default:return null}}var kj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!kj[t.type]:n==="textarea"}function Yf(t,n,i,c){Ee(c),n=Lo(n,"onChange"),0<n.length&&(i=new ed("onChange","change",null,i,c),t.push({event:i,listeners:n}))}var vi=null,wi=null;function Aj(t){fp(t,0)}function Io(t){var n=Na(t);if(Je(n))return t}function Rj(t,n){if(t==="change")return n}var Qf=!1;if(f){var id;if(f){var od="oninput"in document;if(!od){var Xf=document.createElement("div");Xf.setAttribute("oninput","return;"),od=typeof Xf.oninput=="function"}id=od}else id=!1;Qf=id&&(!document.documentMode||9<document.documentMode)}function Jf(){vi&&(vi.detachEvent("onpropertychange",Zf),wi=vi=null)}function Zf(t){if(t.propertyName==="value"&&Io(wi)){var n=[];Yf(n,wi,t,$t(t)),St(Aj,n)}}function Tj(t,n,i){t==="focusin"?(Jf(),vi=n,wi=i,vi.attachEvent("onpropertychange",Zf)):t==="focusout"&&Jf()}function Ij(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Io(wi)}function _j(t,n){if(t==="click")return Io(n)}function Mj(t,n){if(t==="input"||t==="change")return Io(n)}function Oj(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Zn=typeof Object.is=="function"?Object.is:Oj;function ji(t,n){if(Zn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),c=Object.keys(n);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var m=i[c];if(!y.call(n,m)||!Zn(t[m],n[m]))return!1}return!0}function ep(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tp(t,n){var i=ep(t);t=0;for(var c;i;){if(i.nodeType===3){if(c=t+i.textContent.length,t<=n&&c>=n)return{node:i,offset:n-t};t=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ep(i)}}function np(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?np(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function rp(){for(var t=window,n=yt();n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=yt(t.document)}return n}function ld(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Lj(t){var n=rp(),i=t.focusedElem,c=t.selectionRange;if(n!==i&&i&&i.ownerDocument&&np(i.ownerDocument.documentElement,i)){if(c!==null&&ld(i)){if(n=c.start,t=c.end,t===void 0&&(t=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(t,i.value.length);else if(t=(n=i.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var m=i.textContent.length,h=Math.min(c.start,m);c=c.end===void 0?h:Math.min(c.end,m),!t.extend&&h>c&&(m=c,c=h,h=m),m=tp(i,h);var w=tp(i,c);m&&w&&(t.rangeCount!==1||t.anchorNode!==m.node||t.anchorOffset!==m.offset||t.focusNode!==w.node||t.focusOffset!==w.offset)&&(n=n.createRange(),n.setStart(m.node,m.offset),t.removeAllRanges(),h>c?(t.addRange(n),t.extend(w.node,w.offset)):(n.setEnd(w.node,w.offset),t.addRange(n)))}}for(n=[],t=i;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)t=n[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Fj=f&&"documentMode"in document&&11>=document.documentMode,va=null,cd=null,bi=null,dd=!1;function sp(t,n,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;dd||va==null||va!==yt(c)||(c=va,"selectionStart"in c&&ld(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),bi&&ji(bi,c)||(bi=c,c=Lo(cd,"onSelect"),0<c.length&&(n=new ed("onSelect","select",null,n,i),t.push({event:n,listeners:c}),n.target=va)))}function _o(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var wa={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionend:_o("Transition","TransitionEnd")},ud={},ap={};f&&(ap=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Mo(t){if(ud[t])return ud[t];if(!wa[t])return t;var n=wa[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in ap)return ud[t]=n[i];return t}var ip=Mo("animationend"),op=Mo("animationiteration"),lp=Mo("animationstart"),cp=Mo("transitionend"),dp=new Map,up="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(t,n){dp.set(t,n),d(n,[t])}for(var md=0;md<up.length;md++){var fd=up[md],zj=fd.toLowerCase(),$j=fd[0].toUpperCase()+fd.slice(1);ts(zj,"on"+$j)}ts(ip,"onAnimationEnd"),ts(op,"onAnimationIteration"),ts(lp,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(cp,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ni));function mp(t,n,i){var c=t.type||"unknown-event";t.currentTarget=i,zw(c,n,void 0,t),t.currentTarget=null}function fp(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var c=t[i],m=c.event;c=c.listeners;e:{var h=void 0;if(n)for(var w=c.length-1;0<=w;w--){var _=c[w],F=_.instance,ee=_.currentTarget;if(_=_.listener,F!==h&&m.isPropagationStopped())break e;mp(m,_,ee),h=F}else for(w=0;w<c.length;w++){if(_=c[w],F=_.instance,ee=_.currentTarget,_=_.listener,F!==h&&m.isPropagationStopped())break e;mp(m,_,ee),h=F}}}if(Xn)throw t=Vc,Xn=!1,Vc=null,t}function Rt(t,n){var i=n[jd];i===void 0&&(i=n[jd]=new Set);var c=t+"__bubble";i.has(c)||(pp(n,t,2,!1),i.add(c))}function pd(t,n,i){var c=0;n&&(c|=4),pp(i,t,c,n)}var Oo="_reactListening"+Math.random().toString(36).slice(2);function Si(t){if(!t[Oo]){t[Oo]=!0,o.forEach(function(i){i!=="selectionchange"&&(Bj.has(i)||pd(i,!1,t),pd(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Oo]||(n[Oo]=!0,pd("selectionchange",!1,n))}}function pp(t,n,i,c){switch(Lf(n)){case 1:var m=tj;break;case 4:m=nj;break;default:m=Xc}i=m.bind(null,n,i,t),m=void 0,!Bn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),c?m!==void 0?t.addEventListener(n,i,{capture:!0,passive:m}):t.addEventListener(n,i,!0):m!==void 0?t.addEventListener(n,i,{passive:m}):t.addEventListener(n,i,!1)}function hd(t,n,i,c,m){var h=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var _=c.stateNode.containerInfo;if(_===m||_.nodeType===8&&_.parentNode===m)break;if(w===4)for(w=c.return;w!==null;){var F=w.tag;if((F===3||F===4)&&(F=w.stateNode.containerInfo,F===m||F.nodeType===8&&F.parentNode===m))return;w=w.return}for(;_!==null;){if(w=$s(_),w===null)return;if(F=w.tag,F===5||F===6){c=h=w;continue e}_=_.parentNode}}c=c.return}St(function(){var ee=h,ge=$t(i),xe=[];e:{var pe=dp.get(t);if(pe!==void 0){var De=ed,Ie=t;switch(t){case"keypress":if(Ao(i)===0)break e;case"keydown":case"keyup":De=xj;break;case"focusin":Ie="focus",De=rd;break;case"focusout":Ie="blur",De=rd;break;case"beforeblur":case"afterblur":De=rd;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=$f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=aj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=wj;break;case ip:case op:case lp:De=lj;break;case cp:De=bj;break;case"scroll":De=rj;break;case"wheel":De=Sj;break;case"copy":case"cut":case"paste":De=dj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=Uf}var Fe=(n&4)!==0,Ut=!Fe&&t==="scroll",G=Fe?pe!==null?pe+"Capture":null:pe;Fe=[];for(var $=ee,J;$!==null;){J=$;var ye=J.stateNode;if(J.tag===5&&ye!==null&&(J=ye,G!==null&&(ye=vt($,G),ye!=null&&Fe.push(Ci($,ye,J)))),Ut)break;$=$.return}0<Fe.length&&(pe=new De(pe,Ie,null,i,ge),xe.push({event:pe,listeners:Fe}))}}if((n&7)===0){e:{if(pe=t==="mouseover"||t==="pointerover",De=t==="mouseout"||t==="pointerout",pe&&i!==Qn&&(Ie=i.relatedTarget||i.fromElement)&&($s(Ie)||Ie[Rr]))break e;if((De||pe)&&(pe=ge.window===ge?ge:(pe=ge.ownerDocument)?pe.defaultView||pe.parentWindow:window,De?(Ie=i.relatedTarget||i.toElement,De=ee,Ie=Ie?$s(Ie):null,Ie!==null&&(Ut=zs(Ie),Ie!==Ut||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(De=null,Ie=ee),De!==Ie)){if(Fe=$f,ye="onMouseLeave",G="onMouseEnter",$="mouse",(t==="pointerout"||t==="pointerover")&&(Fe=Uf,ye="onPointerLeave",G="onPointerEnter",$="pointer"),Ut=De==null?pe:Na(De),J=Ie==null?pe:Na(Ie),pe=new Fe(ye,$+"leave",De,i,ge),pe.target=Ut,pe.relatedTarget=J,ye=null,$s(ge)===ee&&(Fe=new Fe(G,$+"enter",Ie,i,ge),Fe.target=J,Fe.relatedTarget=Ut,ye=Fe),Ut=ye,De&&Ie)t:{for(Fe=De,G=Ie,$=0,J=Fe;J;J=ja(J))$++;for(J=0,ye=G;ye;ye=ja(ye))J++;for(;0<$-J;)Fe=ja(Fe),$--;for(;0<J-$;)G=ja(G),J--;for(;$--;){if(Fe===G||G!==null&&Fe===G.alternate)break t;Fe=ja(Fe),G=ja(G)}Fe=null}else Fe=null;De!==null&&hp(xe,pe,De,Fe,!1),Ie!==null&&Ut!==null&&hp(xe,Ut,Ie,Fe,!0)}}e:{if(pe=ee?Na(ee):window,De=pe.nodeName&&pe.nodeName.toLowerCase(),De==="select"||De==="input"&&pe.type==="file")var ze=Rj;else if(Kf(pe))if(Qf)ze=Mj;else{ze=Ij;var Ve=Tj}else(De=pe.nodeName)&&De.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(ze=_j);if(ze&&(ze=ze(t,ee))){Yf(xe,ze,i,ge);break e}Ve&&Ve(t,pe,ee),t==="focusout"&&(Ve=pe._wrapperState)&&Ve.controlled&&pe.type==="number"&&Xe(pe,"number",pe.value)}switch(Ve=ee?Na(ee):window,t){case"focusin":(Kf(Ve)||Ve.contentEditable==="true")&&(va=Ve,cd=ee,bi=null);break;case"focusout":bi=cd=va=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,sp(xe,i,ge);break;case"selectionchange":if(Fj)break;case"keydown":case"keyup":sp(xe,i,ge)}var We;if(ad)e:{switch(t){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else ya?qf(t,i)&&(et="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(et="onCompositionStart");et&&(Hf&&i.locale!=="ko"&&(ya||et!=="onCompositionStart"?et==="onCompositionEnd"&&ya&&(We=Ff()):(es=ge,Zc="value"in es?es.value:es.textContent,ya=!0)),Ve=Lo(ee,et),0<Ve.length&&(et=new Bf(et,t,null,i,ge),xe.push({event:et,listeners:Ve}),We?et.data=We:(We=Gf(i),We!==null&&(et.data=We)))),(We=Pj?Ej(t,i):Dj(t,i))&&(ee=Lo(ee,"onBeforeInput"),0<ee.length&&(ge=new Bf("onBeforeInput","beforeinput",null,i,ge),xe.push({event:ge,listeners:ee}),ge.data=We))}fp(xe,n)})}function Ci(t,n,i){return{instance:t,listener:n,currentTarget:i}}function Lo(t,n){for(var i=n+"Capture",c=[];t!==null;){var m=t,h=m.stateNode;m.tag===5&&h!==null&&(m=h,h=vt(t,i),h!=null&&c.unshift(Ci(t,h,m)),h=vt(t,n),h!=null&&c.push(Ci(t,h,m))),t=t.return}return c}function ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hp(t,n,i,c,m){for(var h=n._reactName,w=[];i!==null&&i!==c;){var _=i,F=_.alternate,ee=_.stateNode;if(F!==null&&F===c)break;_.tag===5&&ee!==null&&(_=ee,m?(F=vt(i,h),F!=null&&w.unshift(Ci(i,F,_))):m||(F=vt(i,h),F!=null&&w.push(Ci(i,F,_)))),i=i.return}w.length!==0&&t.push({event:n,listeners:w})}var Uj=/\r\n?/g,Hj=/\u0000|\uFFFD/g;function gp(t){return(typeof t=="string"?t:""+t).replace(Uj,`
`).replace(Hj,"")}function Fo(t,n,i){if(n=gp(n),gp(t)!==n&&i)throw Error(a(425))}function zo(){}var gd=null,xd=null;function yd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vd=typeof setTimeout=="function"?setTimeout:void 0,Vj=typeof clearTimeout=="function"?clearTimeout:void 0,xp=typeof Promise=="function"?Promise:void 0,Wj=typeof queueMicrotask=="function"?queueMicrotask:typeof xp<"u"?function(t){return xp.resolve(null).then(t).catch(qj)}:vd;function qj(t){setTimeout(function(){throw t})}function wd(t,n){var i=n,c=0;do{var m=i.nextSibling;if(t.removeChild(i),m&&m.nodeType===8)if(i=m.data,i==="/$"){if(c===0){t.removeChild(m),hi(n);return}c--}else i!=="$"&&i!=="$?"&&i!=="$!"||c++;i=m}while(i);hi(n)}function ns(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function yp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return t;n--}else i==="/$"&&n++}t=t.previousSibling}return null}var ba=Math.random().toString(36).slice(2),hr="__reactFiber$"+ba,Pi="__reactProps$"+ba,Rr="__reactContainer$"+ba,jd="__reactEvents$"+ba,Gj="__reactListeners$"+ba,Kj="__reactHandles$"+ba;function $s(t){var n=t[hr];if(n)return n;for(var i=t.parentNode;i;){if(n=i[Rr]||i[hr]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=yp(t);t!==null;){if(i=t[hr])return i;t=yp(t)}return n}t=i,i=t.parentNode}return null}function Ei(t){return t=t[hr]||t[Rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Na(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(a(33))}function $o(t){return t[Pi]||null}var bd=[],Sa=-1;function rs(t){return{current:t}}function Tt(t){0>Sa||(t.current=bd[Sa],bd[Sa]=null,Sa--)}function Dt(t,n){Sa++,bd[Sa]=t.current,t.current=n}var ss={},fn=rs(ss),Sn=rs(!1),Bs=ss;function Ca(t,n){var i=t.type.contextTypes;if(!i)return ss;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var m={},h;for(h in i)m[h]=n[h];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=m),m}function Cn(t){return t=t.childContextTypes,t!=null}function Bo(){Tt(Sn),Tt(fn)}function vp(t,n,i){if(fn.current!==ss)throw Error(a(168));Dt(fn,n),Dt(Sn,i)}function wp(t,n,i){var c=t.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return i;c=c.getChildContext();for(var m in c)if(!(m in n))throw Error(a(108,B(t)||"Unknown",m));return K({},i,c)}function Uo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ss,Bs=fn.current,Dt(fn,t),Dt(Sn,Sn.current),!0}function jp(t,n,i){var c=t.stateNode;if(!c)throw Error(a(169));i?(t=wp(t,n,Bs),c.__reactInternalMemoizedMergedChildContext=t,Tt(Sn),Tt(fn),Dt(fn,t)):Tt(Sn),Dt(Sn,i)}var Tr=null,Ho=!1,Nd=!1;function bp(t){Tr===null?Tr=[t]:Tr.push(t)}function Yj(t){Ho=!0,bp(t)}function as(){if(!Nd&&Tr!==null){Nd=!0;var t=0,n=Ct;try{var i=Tr;for(Ct=1;t<i.length;t++){var c=i[t];do c=c(!0);while(c!==null)}Tr=null,Ho=!1}catch(m){throw Tr!==null&&(Tr=Tr.slice(t+1)),Sf(Wc,as),m}finally{Ct=n,Nd=!1}}return null}var Pa=[],Ea=0,Vo=null,Wo=0,Un=[],Hn=0,Us=null,Ir=1,_r="";function Hs(t,n){Pa[Ea++]=Wo,Pa[Ea++]=Vo,Vo=t,Wo=n}function Np(t,n,i){Un[Hn++]=Ir,Un[Hn++]=_r,Un[Hn++]=Us,Us=t;var c=Ir;t=_r;var m=32-Jn(c)-1;c&=~(1<<m),i+=1;var h=32-Jn(n)+m;if(30<h){var w=m-m%5;h=(c&(1<<w)-1).toString(32),c>>=w,m-=w,Ir=1<<32-Jn(n)+m|i<<m|c,_r=h+t}else Ir=1<<h|i<<m|c,_r=t}function Sd(t){t.return!==null&&(Hs(t,1),Np(t,1,0))}function Cd(t){for(;t===Vo;)Vo=Pa[--Ea],Pa[Ea]=null,Wo=Pa[--Ea],Pa[Ea]=null;for(;t===Us;)Us=Un[--Hn],Un[Hn]=null,_r=Un[--Hn],Un[Hn]=null,Ir=Un[--Hn],Un[Hn]=null}var _n=null,Mn=null,It=!1,er=null;function Sp(t,n){var i=Gn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=t,n=t.deletions,n===null?(t.deletions=[i],t.flags|=16):n.push(i)}function Cp(t,n){switch(t.tag){case 5:var i=t.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,_n=t,Mn=ns(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,_n=t,Mn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=Us!==null?{id:Ir,overflow:_r}:null,t.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Gn(18,null,null,0),i.stateNode=n,i.return=t,t.child=i,_n=t,Mn=null,!0):!1;default:return!1}}function Pd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ed(t){if(It){var n=Mn;if(n){var i=n;if(!Cp(t,n)){if(Pd(t))throw Error(a(418));n=ns(i.nextSibling);var c=_n;n&&Cp(t,n)?Sp(c,i):(t.flags=t.flags&-4097|2,It=!1,_n=t)}}else{if(Pd(t))throw Error(a(418));t.flags=t.flags&-4097|2,It=!1,_n=t}}}function Pp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_n=t}function qo(t){if(t!==_n)return!1;if(!It)return Pp(t),It=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!yd(t.type,t.memoizedProps)),n&&(n=Mn)){if(Pd(t))throw Ep(),Error(a(418));for(;n;)Sp(t,n),n=ns(n.nextSibling)}if(Pp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(n===0){Mn=ns(t.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}t=t.nextSibling}Mn=null}}else Mn=_n?ns(t.stateNode.nextSibling):null;return!0}function Ep(){for(var t=Mn;t;)t=ns(t.nextSibling)}function Da(){Mn=_n=null,It=!1}function Dd(t){er===null?er=[t]:er.push(t)}var Qj=D.ReactCurrentBatchConfig;function Di(t,n,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(a(309));var c=i.stateNode}if(!c)throw Error(a(147,t));var m=c,h=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===h?n.ref:(n=function(w){var _=m.refs;w===null?delete _[h]:_[h]=w},n._stringRef=h,n)}if(typeof t!="string")throw Error(a(284));if(!i._owner)throw Error(a(290,t))}return t}function Go(t,n){throw t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Dp(t){var n=t._init;return n(t._payload)}function kp(t){function n(G,$){if(t){var J=G.deletions;J===null?(G.deletions=[$],G.flags|=16):J.push($)}}function i(G,$){if(!t)return null;for(;$!==null;)n(G,$),$=$.sibling;return null}function c(G,$){for(G=new Map;$!==null;)$.key!==null?G.set($.key,$):G.set($.index,$),$=$.sibling;return G}function m(G,$){return G=fs(G,$),G.index=0,G.sibling=null,G}function h(G,$,J){return G.index=J,t?(J=G.alternate,J!==null?(J=J.index,J<$?(G.flags|=2,$):J):(G.flags|=2,$)):(G.flags|=1048576,$)}function w(G){return t&&G.alternate===null&&(G.flags|=2),G}function _(G,$,J,ye){return $===null||$.tag!==6?($=vu(J,G.mode,ye),$.return=G,$):($=m($,J),$.return=G,$)}function F(G,$,J,ye){var ze=J.type;return ze===U?ge(G,$,J.props.children,ye,J.key):$!==null&&($.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===se&&Dp(ze)===$.type)?(ye=m($,J.props),ye.ref=Di(G,$,J),ye.return=G,ye):(ye=xl(J.type,J.key,J.props,null,G.mode,ye),ye.ref=Di(G,$,J),ye.return=G,ye)}function ee(G,$,J,ye){return $===null||$.tag!==4||$.stateNode.containerInfo!==J.containerInfo||$.stateNode.implementation!==J.implementation?($=wu(J,G.mode,ye),$.return=G,$):($=m($,J.children||[]),$.return=G,$)}function ge(G,$,J,ye,ze){return $===null||$.tag!==7?($=Xs(J,G.mode,ye,ze),$.return=G,$):($=m($,J),$.return=G,$)}function xe(G,$,J){if(typeof $=="string"&&$!==""||typeof $=="number")return $=vu(""+$,G.mode,J),$.return=G,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case q:return J=xl($.type,$.key,$.props,null,G.mode,J),J.ref=Di(G,null,$),J.return=G,J;case Q:return $=wu($,G.mode,J),$.return=G,$;case se:var ye=$._init;return xe(G,ye($._payload),J)}if(Oe($)||k($))return $=Xs($,G.mode,J,null),$.return=G,$;Go(G,$)}return null}function pe(G,$,J,ye){var ze=$!==null?$.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return ze!==null?null:_(G,$,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case q:return J.key===ze?F(G,$,J,ye):null;case Q:return J.key===ze?ee(G,$,J,ye):null;case se:return ze=J._init,pe(G,$,ze(J._payload),ye)}if(Oe(J)||k(J))return ze!==null?null:ge(G,$,J,ye,null);Go(G,J)}return null}function De(G,$,J,ye,ze){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return G=G.get(J)||null,_($,G,""+ye,ze);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case q:return G=G.get(ye.key===null?J:ye.key)||null,F($,G,ye,ze);case Q:return G=G.get(ye.key===null?J:ye.key)||null,ee($,G,ye,ze);case se:var Ve=ye._init;return De(G,$,J,Ve(ye._payload),ze)}if(Oe(ye)||k(ye))return G=G.get(J)||null,ge($,G,ye,ze,null);Go($,ye)}return null}function Ie(G,$,J,ye){for(var ze=null,Ve=null,We=$,et=$=0,sn=null;We!==null&&et<J.length;et++){We.index>et?(sn=We,We=null):sn=We.sibling;var wt=pe(G,We,J[et],ye);if(wt===null){We===null&&(We=sn);break}t&&We&&wt.alternate===null&&n(G,We),$=h(wt,$,et),Ve===null?ze=wt:Ve.sibling=wt,Ve=wt,We=sn}if(et===J.length)return i(G,We),It&&Hs(G,et),ze;if(We===null){for(;et<J.length;et++)We=xe(G,J[et],ye),We!==null&&($=h(We,$,et),Ve===null?ze=We:Ve.sibling=We,Ve=We);return It&&Hs(G,et),ze}for(We=c(G,We);et<J.length;et++)sn=De(We,G,et,J[et],ye),sn!==null&&(t&&sn.alternate!==null&&We.delete(sn.key===null?et:sn.key),$=h(sn,$,et),Ve===null?ze=sn:Ve.sibling=sn,Ve=sn);return t&&We.forEach(function(ps){return n(G,ps)}),It&&Hs(G,et),ze}function Fe(G,$,J,ye){var ze=k(J);if(typeof ze!="function")throw Error(a(150));if(J=ze.call(J),J==null)throw Error(a(151));for(var Ve=ze=null,We=$,et=$=0,sn=null,wt=J.next();We!==null&&!wt.done;et++,wt=J.next()){We.index>et?(sn=We,We=null):sn=We.sibling;var ps=pe(G,We,wt.value,ye);if(ps===null){We===null&&(We=sn);break}t&&We&&ps.alternate===null&&n(G,We),$=h(ps,$,et),Ve===null?ze=ps:Ve.sibling=ps,Ve=ps,We=sn}if(wt.done)return i(G,We),It&&Hs(G,et),ze;if(We===null){for(;!wt.done;et++,wt=J.next())wt=xe(G,wt.value,ye),wt!==null&&($=h(wt,$,et),Ve===null?ze=wt:Ve.sibling=wt,Ve=wt);return It&&Hs(G,et),ze}for(We=c(G,We);!wt.done;et++,wt=J.next())wt=De(We,G,et,wt.value,ye),wt!==null&&(t&&wt.alternate!==null&&We.delete(wt.key===null?et:wt.key),$=h(wt,$,et),Ve===null?ze=wt:Ve.sibling=wt,Ve=wt);return t&&We.forEach(function(kb){return n(G,kb)}),It&&Hs(G,et),ze}function Ut(G,$,J,ye){if(typeof J=="object"&&J!==null&&J.type===U&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case q:e:{for(var ze=J.key,Ve=$;Ve!==null;){if(Ve.key===ze){if(ze=J.type,ze===U){if(Ve.tag===7){i(G,Ve.sibling),$=m(Ve,J.props.children),$.return=G,G=$;break e}}else if(Ve.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===se&&Dp(ze)===Ve.type){i(G,Ve.sibling),$=m(Ve,J.props),$.ref=Di(G,Ve,J),$.return=G,G=$;break e}i(G,Ve);break}else n(G,Ve);Ve=Ve.sibling}J.type===U?($=Xs(J.props.children,G.mode,ye,J.key),$.return=G,G=$):(ye=xl(J.type,J.key,J.props,null,G.mode,ye),ye.ref=Di(G,$,J),ye.return=G,G=ye)}return w(G);case Q:e:{for(Ve=J.key;$!==null;){if($.key===Ve)if($.tag===4&&$.stateNode.containerInfo===J.containerInfo&&$.stateNode.implementation===J.implementation){i(G,$.sibling),$=m($,J.children||[]),$.return=G,G=$;break e}else{i(G,$);break}else n(G,$);$=$.sibling}$=wu(J,G.mode,ye),$.return=G,G=$}return w(G);case se:return Ve=J._init,Ut(G,$,Ve(J._payload),ye)}if(Oe(J))return Ie(G,$,J,ye);if(k(J))return Fe(G,$,J,ye);Go(G,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,$!==null&&$.tag===6?(i(G,$.sibling),$=m($,J),$.return=G,G=$):(i(G,$),$=vu(J,G.mode,ye),$.return=G,G=$),w(G)):i(G,$)}return Ut}var ka=kp(!0),Ap=kp(!1),Ko=rs(null),Yo=null,Aa=null,kd=null;function Ad(){kd=Aa=Yo=null}function Rd(t){var n=Ko.current;Tt(Ko),t._currentValue=n}function Td(t,n,i){for(;t!==null;){var c=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),t===i)break;t=t.return}}function Ra(t,n){Yo=t,kd=Aa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(Pn=!0),t.firstContext=null)}function Vn(t){var n=t._currentValue;if(kd!==t)if(t={context:t,memoizedValue:n,next:null},Aa===null){if(Yo===null)throw Error(a(308));Aa=t,Yo.dependencies={lanes:0,firstContext:t}}else Aa=Aa.next=t;return n}var Vs=null;function Id(t){Vs===null?Vs=[t]:Vs.push(t)}function Rp(t,n,i,c){var m=n.interleaved;return m===null?(i.next=i,Id(n)):(i.next=m.next,m.next=i),n.interleaved=i,Mr(t,c)}function Mr(t,n){t.lanes|=n;var i=t.alternate;for(i!==null&&(i.lanes|=n),i=t,t=t.return;t!==null;)t.childLanes|=n,i=t.alternate,i!==null&&(i.childLanes|=n),i=t,t=t.return;return i.tag===3?i.stateNode:null}var is=!1;function _d(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tp(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Or(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function os(t,n,i){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(gt&2)!==0){var m=c.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),c.pending=n,Mr(t,i)}return m=c.interleaved,m===null?(n.next=n,Id(c)):(n.next=m.next,m.next=n),c.interleaved=n,Mr(t,i)}function Qo(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var c=n.lanes;c&=t.pendingLanes,i|=c,n.lanes=i,Kc(t,i)}}function Ip(t,n){var i=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var m=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var w={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};h===null?m=h=w:h=h.next=w,i=i.next}while(i!==null);h===null?m=h=n:h=h.next=n}else m=h=n;i={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:h,shared:c.shared,effects:c.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}function Xo(t,n,i,c){var m=t.updateQueue;is=!1;var h=m.firstBaseUpdate,w=m.lastBaseUpdate,_=m.shared.pending;if(_!==null){m.shared.pending=null;var F=_,ee=F.next;F.next=null,w===null?h=ee:w.next=ee,w=F;var ge=t.alternate;ge!==null&&(ge=ge.updateQueue,_=ge.lastBaseUpdate,_!==w&&(_===null?ge.firstBaseUpdate=ee:_.next=ee,ge.lastBaseUpdate=F))}if(h!==null){var xe=m.baseState;w=0,ge=ee=F=null,_=h;do{var pe=_.lane,De=_.eventTime;if((c&pe)===pe){ge!==null&&(ge=ge.next={eventTime:De,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var Ie=t,Fe=_;switch(pe=n,De=i,Fe.tag){case 1:if(Ie=Fe.payload,typeof Ie=="function"){xe=Ie.call(De,xe,pe);break e}xe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Fe.payload,pe=typeof Ie=="function"?Ie.call(De,xe,pe):Ie,pe==null)break e;xe=K({},xe,pe);break e;case 2:is=!0}}_.callback!==null&&_.lane!==0&&(t.flags|=64,pe=m.effects,pe===null?m.effects=[_]:pe.push(_))}else De={eventTime:De,lane:pe,tag:_.tag,payload:_.payload,callback:_.callback,next:null},ge===null?(ee=ge=De,F=xe):ge=ge.next=De,w|=pe;if(_=_.next,_===null){if(_=m.shared.pending,_===null)break;pe=_,_=pe.next,pe.next=null,m.lastBaseUpdate=pe,m.shared.pending=null}}while(!0);if(ge===null&&(F=xe),m.baseState=F,m.firstBaseUpdate=ee,m.lastBaseUpdate=ge,n=m.shared.interleaved,n!==null){m=n;do w|=m.lane,m=m.next;while(m!==n)}else h===null&&(m.shared.lanes=0);Gs|=w,t.lanes=w,t.memoizedState=xe}}function _p(t,n,i){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var c=t[n],m=c.callback;if(m!==null){if(c.callback=null,c=i,typeof m!="function")throw Error(a(191,m));m.call(c)}}}var ki={},gr=rs(ki),Ai=rs(ki),Ri=rs(ki);function Ws(t){if(t===ki)throw Error(a(174));return t}function Md(t,n){switch(Dt(Ri,n),Dt(Ai,t),Dt(gr,ki),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:be(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=be(n,t)}Tt(gr),Dt(gr,n)}function Ta(){Tt(gr),Tt(Ai),Tt(Ri)}function Mp(t){Ws(Ri.current);var n=Ws(gr.current),i=be(n,t.type);n!==i&&(Dt(Ai,t),Dt(gr,i))}function Od(t){Ai.current===t&&(Tt(gr),Tt(Ai))}var _t=rs(0);function Jo(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ld=[];function Fd(){for(var t=0;t<Ld.length;t++)Ld[t]._workInProgressVersionPrimary=null;Ld.length=0}var Zo=D.ReactCurrentDispatcher,zd=D.ReactCurrentBatchConfig,qs=0,Mt=null,Qt=null,nn=null,el=!1,Ti=!1,Ii=0,Xj=0;function pn(){throw Error(a(321))}function $d(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!Zn(t[i],n[i]))return!1;return!0}function Bd(t,n,i,c,m,h){if(qs=h,Mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Zo.current=t===null||t.memoizedState===null?tb:nb,t=i(c,m),Ti){h=0;do{if(Ti=!1,Ii=0,25<=h)throw Error(a(301));h+=1,nn=Qt=null,n.updateQueue=null,Zo.current=rb,t=i(c,m)}while(Ti)}if(Zo.current=rl,n=Qt!==null&&Qt.next!==null,qs=0,nn=Qt=Mt=null,el=!1,n)throw Error(a(300));return t}function Ud(){var t=Ii!==0;return Ii=0,t}function xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Mt.memoizedState=nn=t:nn=nn.next=t,nn}function Wn(){if(Qt===null){var t=Mt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=nn===null?Mt.memoizedState:nn.next;if(n!==null)nn=n,Qt=t;else{if(t===null)throw Error(a(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},nn===null?Mt.memoizedState=nn=t:nn=nn.next=t}return nn}function _i(t,n){return typeof n=="function"?n(t):n}function Hd(t){var n=Wn(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=t;var c=Qt,m=c.baseQueue,h=i.pending;if(h!==null){if(m!==null){var w=m.next;m.next=h.next,h.next=w}c.baseQueue=m=h,i.pending=null}if(m!==null){h=m.next,c=c.baseState;var _=w=null,F=null,ee=h;do{var ge=ee.lane;if((qs&ge)===ge)F!==null&&(F=F.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),c=ee.hasEagerState?ee.eagerState:t(c,ee.action);else{var xe={lane:ge,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};F===null?(_=F=xe,w=c):F=F.next=xe,Mt.lanes|=ge,Gs|=ge}ee=ee.next}while(ee!==null&&ee!==h);F===null?w=c:F.next=_,Zn(c,n.memoizedState)||(Pn=!0),n.memoizedState=c,n.baseState=w,n.baseQueue=F,i.lastRenderedState=c}if(t=i.interleaved,t!==null){m=t;do h=m.lane,Mt.lanes|=h,Gs|=h,m=m.next;while(m!==t)}else m===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Vd(t){var n=Wn(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=t;var c=i.dispatch,m=i.pending,h=n.memoizedState;if(m!==null){i.pending=null;var w=m=m.next;do h=t(h,w.action),w=w.next;while(w!==m);Zn(h,n.memoizedState)||(Pn=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,c]}function Op(){}function Lp(t,n){var i=Mt,c=Wn(),m=n(),h=!Zn(c.memoizedState,m);if(h&&(c.memoizedState=m,Pn=!0),c=c.queue,Wd($p.bind(null,i,c,t),[t]),c.getSnapshot!==n||h||nn!==null&&nn.memoizedState.tag&1){if(i.flags|=2048,Mi(9,zp.bind(null,i,c,m,n),void 0,null),rn===null)throw Error(a(349));(qs&30)!==0||Fp(i,n,m)}return m}function Fp(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=Mt.updateQueue,n===null?(n={lastEffect:null,stores:null},Mt.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function zp(t,n,i,c){n.value=i,n.getSnapshot=c,Bp(n)&&Up(t)}function $p(t,n,i){return i(function(){Bp(n)&&Up(t)})}function Bp(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!Zn(t,i)}catch{return!0}}function Up(t){var n=Mr(t,1);n!==null&&sr(n,t,1,-1)}function Hp(t){var n=xr();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},n.queue=t,t=t.dispatch=eb.bind(null,Mt,t),[n.memoizedState,t]}function Mi(t,n,i,c){return t={tag:t,create:n,destroy:i,deps:c,next:null},n=Mt.updateQueue,n===null?(n={lastEffect:null,stores:null},Mt.updateQueue=n,n.lastEffect=t.next=t):(i=n.lastEffect,i===null?n.lastEffect=t.next=t:(c=i.next,i.next=t,t.next=c,n.lastEffect=t)),t}function Vp(){return Wn().memoizedState}function tl(t,n,i,c){var m=xr();Mt.flags|=t,m.memoizedState=Mi(1|n,i,void 0,c===void 0?null:c)}function nl(t,n,i,c){var m=Wn();c=c===void 0?null:c;var h=void 0;if(Qt!==null){var w=Qt.memoizedState;if(h=w.destroy,c!==null&&$d(c,w.deps)){m.memoizedState=Mi(n,i,h,c);return}}Mt.flags|=t,m.memoizedState=Mi(1|n,i,h,c)}function Wp(t,n){return tl(8390656,8,t,n)}function Wd(t,n){return nl(2048,8,t,n)}function qp(t,n){return nl(4,2,t,n)}function Gp(t,n){return nl(4,4,t,n)}function Kp(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Yp(t,n,i){return i=i!=null?i.concat([t]):null,nl(4,4,Kp.bind(null,n,t),i)}function qd(){}function Qp(t,n){var i=Wn();n=n===void 0?null:n;var c=i.memoizedState;return c!==null&&n!==null&&$d(n,c[1])?c[0]:(i.memoizedState=[t,n],t)}function Xp(t,n){var i=Wn();n=n===void 0?null:n;var c=i.memoizedState;return c!==null&&n!==null&&$d(n,c[1])?c[0]:(t=t(),i.memoizedState=[t,n],t)}function Jp(t,n,i){return(qs&21)===0?(t.baseState&&(t.baseState=!1,Pn=!0),t.memoizedState=i):(Zn(i,n)||(i=Df(),Mt.lanes|=i,Gs|=i,t.baseState=!0),n)}function Jj(t,n){var i=Ct;Ct=i!==0&&4>i?i:4,t(!0);var c=zd.transition;zd.transition={};try{t(!1),n()}finally{Ct=i,zd.transition=c}}function Zp(){return Wn().memoizedState}function Zj(t,n,i){var c=us(t);if(i={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null},eh(t))th(n,i);else if(i=Rp(t,n,i,c),i!==null){var m=jn();sr(i,t,c,m),nh(i,n,c)}}function eb(t,n,i){var c=us(t),m={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null};if(eh(t))th(n,m);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var w=n.lastRenderedState,_=h(w,i);if(m.hasEagerState=!0,m.eagerState=_,Zn(_,w)){var F=n.interleaved;F===null?(m.next=m,Id(n)):(m.next=F.next,F.next=m),n.interleaved=m;return}}catch{}finally{}i=Rp(t,n,m,c),i!==null&&(m=jn(),sr(i,t,c,m),nh(i,n,c))}}function eh(t){var n=t.alternate;return t===Mt||n!==null&&n===Mt}function th(t,n){Ti=el=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function nh(t,n,i){if((i&4194240)!==0){var c=n.lanes;c&=t.pendingLanes,i|=c,n.lanes=i,Kc(t,i)}}var rl={readContext:Vn,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},tb={readContext:Vn,useCallback:function(t,n){return xr().memoizedState=[t,n===void 0?null:n],t},useContext:Vn,useEffect:Wp,useImperativeHandle:function(t,n,i){return i=i!=null?i.concat([t]):null,tl(4194308,4,Kp.bind(null,n,t),i)},useLayoutEffect:function(t,n){return tl(4194308,4,t,n)},useInsertionEffect:function(t,n){return tl(4,2,t,n)},useMemo:function(t,n){var i=xr();return n=n===void 0?null:n,t=t(),i.memoizedState=[t,n],t},useReducer:function(t,n,i){var c=xr();return n=i!==void 0?i(n):n,c.memoizedState=c.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},c.queue=t,t=t.dispatch=Zj.bind(null,Mt,t),[c.memoizedState,t]},useRef:function(t){var n=xr();return t={current:t},n.memoizedState=t},useState:Hp,useDebugValue:qd,useDeferredValue:function(t){return xr().memoizedState=t},useTransition:function(){var t=Hp(!1),n=t[0];return t=Jj.bind(null,t[1]),xr().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,i){var c=Mt,m=xr();if(It){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),rn===null)throw Error(a(349));(qs&30)!==0||Fp(c,n,i)}m.memoizedState=i;var h={value:i,getSnapshot:n};return m.queue=h,Wp($p.bind(null,c,h,t),[t]),c.flags|=2048,Mi(9,zp.bind(null,c,h,i,n),void 0,null),i},useId:function(){var t=xr(),n=rn.identifierPrefix;if(It){var i=_r,c=Ir;i=(c&~(1<<32-Jn(c)-1)).toString(32)+i,n=":"+n+"R"+i,i=Ii++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=Xj++,n=":"+n+"r"+i.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},nb={readContext:Vn,useCallback:Qp,useContext:Vn,useEffect:Wd,useImperativeHandle:Yp,useInsertionEffect:qp,useLayoutEffect:Gp,useMemo:Xp,useReducer:Hd,useRef:Vp,useState:function(){return Hd(_i)},useDebugValue:qd,useDeferredValue:function(t){var n=Wn();return Jp(n,Qt.memoizedState,t)},useTransition:function(){var t=Hd(_i)[0],n=Wn().memoizedState;return[t,n]},useMutableSource:Op,useSyncExternalStore:Lp,useId:Zp,unstable_isNewReconciler:!1},rb={readContext:Vn,useCallback:Qp,useContext:Vn,useEffect:Wd,useImperativeHandle:Yp,useInsertionEffect:qp,useLayoutEffect:Gp,useMemo:Xp,useReducer:Vd,useRef:Vp,useState:function(){return Vd(_i)},useDebugValue:qd,useDeferredValue:function(t){var n=Wn();return Qt===null?n.memoizedState=t:Jp(n,Qt.memoizedState,t)},useTransition:function(){var t=Vd(_i)[0],n=Wn().memoizedState;return[t,n]},useMutableSource:Op,useSyncExternalStore:Lp,useId:Zp,unstable_isNewReconciler:!1};function tr(t,n){if(t&&t.defaultProps){n=K({},n),t=t.defaultProps;for(var i in t)n[i]===void 0&&(n[i]=t[i]);return n}return n}function Gd(t,n,i,c){n=t.memoizedState,i=i(c,n),i=i==null?n:K({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var sl={isMounted:function(t){return(t=t._reactInternals)?zs(t)===t:!1},enqueueSetState:function(t,n,i){t=t._reactInternals;var c=jn(),m=us(t),h=Or(c,m);h.payload=n,i!=null&&(h.callback=i),n=os(t,h,m),n!==null&&(sr(n,t,m,c),Qo(n,t,m))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var c=jn(),m=us(t),h=Or(c,m);h.tag=1,h.payload=n,i!=null&&(h.callback=i),n=os(t,h,m),n!==null&&(sr(n,t,m,c),Qo(n,t,m))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=jn(),c=us(t),m=Or(i,c);m.tag=2,n!=null&&(m.callback=n),n=os(t,m,c),n!==null&&(sr(n,t,c,i),Qo(n,t,c))}};function rh(t,n,i,c,m,h,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,h,w):n.prototype&&n.prototype.isPureReactComponent?!ji(i,c)||!ji(m,h):!0}function sh(t,n,i){var c=!1,m=ss,h=n.contextType;return typeof h=="object"&&h!==null?h=Vn(h):(m=Cn(n)?Bs:fn.current,c=n.contextTypes,h=(c=c!=null)?Ca(t,m):ss),n=new n(i,h),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=sl,t.stateNode=n,n._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=m,t.__reactInternalMemoizedMaskedChildContext=h),n}function ah(t,n,i,c){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,c),n.state!==t&&sl.enqueueReplaceState(n,n.state,null)}function Kd(t,n,i,c){var m=t.stateNode;m.props=i,m.state=t.memoizedState,m.refs={},_d(t);var h=n.contextType;typeof h=="object"&&h!==null?m.context=Vn(h):(h=Cn(n)?Bs:fn.current,m.context=Ca(t,h)),m.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Gd(t,n,h,i),m.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(n=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),n!==m.state&&sl.enqueueReplaceState(m,m.state,null),Xo(t,i,m,c),m.state=t.memoizedState),typeof m.componentDidMount=="function"&&(t.flags|=4194308)}function Ia(t,n){try{var i="",c=n;do i+=R(c),c=c.return;while(c);var m=i}catch(h){m=`
Error generating stack: `+h.message+`
`+h.stack}return{value:t,source:n,stack:m,digest:null}}function Yd(t,n,i){return{value:t,source:null,stack:i??null,digest:n??null}}function Qd(t,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var sb=typeof WeakMap=="function"?WeakMap:Map;function ih(t,n,i){i=Or(-1,i),i.tag=3,i.payload={element:null};var c=n.value;return i.callback=function(){ul||(ul=!0,uu=c),Qd(t,n)},i}function oh(t,n,i){i=Or(-1,i),i.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var m=n.value;i.payload=function(){return c(m)},i.callback=function(){Qd(t,n)}}var h=t.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(i.callback=function(){Qd(t,n),typeof c!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})}),i}function lh(t,n,i){var c=t.pingCache;if(c===null){c=t.pingCache=new sb;var m=new Set;c.set(n,m)}else m=c.get(n),m===void 0&&(m=new Set,c.set(n,m));m.has(i)||(m.add(i),t=yb.bind(null,t,n,i),n.then(t,t))}function ch(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function dh(t,n,i,c,m){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=Or(-1,1),n.tag=2,os(i,n,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=m,t)}var ab=D.ReactCurrentOwner,Pn=!1;function wn(t,n,i,c){n.child=t===null?Ap(n,null,i,c):ka(n,t.child,i,c)}function uh(t,n,i,c,m){i=i.render;var h=n.ref;return Ra(n,m),c=Bd(t,n,i,c,h,m),i=Ud(),t!==null&&!Pn?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~m,Lr(t,n,m)):(It&&i&&Sd(n),n.flags|=1,wn(t,n,c,m),n.child)}function mh(t,n,i,c,m){if(t===null){var h=i.type;return typeof h=="function"&&!yu(h)&&h.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=h,fh(t,n,h,c,m)):(t=xl(i.type,null,c,n,n.mode,m),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,(t.lanes&m)===0){var w=h.memoizedProps;if(i=i.compare,i=i!==null?i:ji,i(w,c)&&t.ref===n.ref)return Lr(t,n,m)}return n.flags|=1,t=fs(h,c),t.ref=n.ref,t.return=n,n.child=t}function fh(t,n,i,c,m){if(t!==null){var h=t.memoizedProps;if(ji(h,c)&&t.ref===n.ref)if(Pn=!1,n.pendingProps=c=h,(t.lanes&m)!==0)(t.flags&131072)!==0&&(Pn=!0);else return n.lanes=t.lanes,Lr(t,n,m)}return Xd(t,n,i,c,m)}function ph(t,n,i){var c=n.pendingProps,m=c.children,h=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dt(Ma,On),On|=i;else{if((i&1073741824)===0)return t=h!==null?h.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Dt(Ma,On),On|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=h!==null?h.baseLanes:i,Dt(Ma,On),On|=c}else h!==null?(c=h.baseLanes|i,n.memoizedState=null):c=i,Dt(Ma,On),On|=c;return wn(t,n,m,i),n.child}function hh(t,n){var i=n.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Xd(t,n,i,c,m){var h=Cn(i)?Bs:fn.current;return h=Ca(n,h),Ra(n,m),i=Bd(t,n,i,c,h,m),c=Ud(),t!==null&&!Pn?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~m,Lr(t,n,m)):(It&&c&&Sd(n),n.flags|=1,wn(t,n,i,m),n.child)}function gh(t,n,i,c,m){if(Cn(i)){var h=!0;Uo(n)}else h=!1;if(Ra(n,m),n.stateNode===null)il(t,n),sh(n,i,c),Kd(n,i,c,m),c=!0;else if(t===null){var w=n.stateNode,_=n.memoizedProps;w.props=_;var F=w.context,ee=i.contextType;typeof ee=="object"&&ee!==null?ee=Vn(ee):(ee=Cn(i)?Bs:fn.current,ee=Ca(n,ee));var ge=i.getDerivedStateFromProps,xe=typeof ge=="function"||typeof w.getSnapshotBeforeUpdate=="function";xe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(_!==c||F!==ee)&&ah(n,w,c,ee),is=!1;var pe=n.memoizedState;w.state=pe,Xo(n,c,w,m),F=n.memoizedState,_!==c||pe!==F||Sn.current||is?(typeof ge=="function"&&(Gd(n,i,ge,c),F=n.memoizedState),(_=is||rh(n,i,_,c,pe,F,ee))?(xe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=F),w.props=c,w.state=F,w.context=ee,c=_):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{w=n.stateNode,Tp(t,n),_=n.memoizedProps,ee=n.type===n.elementType?_:tr(n.type,_),w.props=ee,xe=n.pendingProps,pe=w.context,F=i.contextType,typeof F=="object"&&F!==null?F=Vn(F):(F=Cn(i)?Bs:fn.current,F=Ca(n,F));var De=i.getDerivedStateFromProps;(ge=typeof De=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(_!==xe||pe!==F)&&ah(n,w,c,F),is=!1,pe=n.memoizedState,w.state=pe,Xo(n,c,w,m);var Ie=n.memoizedState;_!==xe||pe!==Ie||Sn.current||is?(typeof De=="function"&&(Gd(n,i,De,c),Ie=n.memoizedState),(ee=is||rh(n,i,ee,c,pe,Ie,F)||!1)?(ge||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,Ie,F),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,Ie,F)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||_===t.memoizedProps&&pe===t.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&pe===t.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=Ie),w.props=c,w.state=Ie,w.context=F,c=ee):(typeof w.componentDidUpdate!="function"||_===t.memoizedProps&&pe===t.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&pe===t.memoizedState||(n.flags|=1024),c=!1)}return Jd(t,n,i,c,h,m)}function Jd(t,n,i,c,m,h){hh(t,n);var w=(n.flags&128)!==0;if(!c&&!w)return m&&jp(n,i,!1),Lr(t,n,h);c=n.stateNode,ab.current=n;var _=w&&typeof i.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,t!==null&&w?(n.child=ka(n,t.child,null,h),n.child=ka(n,null,_,h)):wn(t,n,_,h),n.memoizedState=c.state,m&&jp(n,i,!0),n.child}function xh(t){var n=t.stateNode;n.pendingContext?vp(t,n.pendingContext,n.pendingContext!==n.context):n.context&&vp(t,n.context,!1),Md(t,n.containerInfo)}function yh(t,n,i,c,m){return Da(),Dd(m),n.flags|=256,wn(t,n,i,c),n.child}var Zd={dehydrated:null,treeContext:null,retryLane:0};function eu(t){return{baseLanes:t,cachePool:null,transitions:null}}function vh(t,n,i){var c=n.pendingProps,m=_t.current,h=!1,w=(n.flags&128)!==0,_;if((_=w)||(_=t!==null&&t.memoizedState===null?!1:(m&2)!==0),_?(h=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(m|=1),Dt(_t,m&1),t===null)return Ed(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(w=c.children,t=c.fallback,h?(c=n.mode,h=n.child,w={mode:"hidden",children:w},(c&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=w):h=yl(w,c,0,null),t=Xs(t,c,i,null),h.return=n,t.return=n,h.sibling=t,n.child=h,n.child.memoizedState=eu(i),n.memoizedState=Zd,t):tu(n,w));if(m=t.memoizedState,m!==null&&(_=m.dehydrated,_!==null))return ib(t,n,w,c,_,m,i);if(h){h=c.fallback,w=n.mode,m=t.child,_=m.sibling;var F={mode:"hidden",children:c.children};return(w&1)===0&&n.child!==m?(c=n.child,c.childLanes=0,c.pendingProps=F,n.deletions=null):(c=fs(m,F),c.subtreeFlags=m.subtreeFlags&14680064),_!==null?h=fs(_,h):(h=Xs(h,w,i,null),h.flags|=2),h.return=n,c.return=n,c.sibling=h,n.child=c,c=h,h=n.child,w=t.child.memoizedState,w=w===null?eu(i):{baseLanes:w.baseLanes|i,cachePool:null,transitions:w.transitions},h.memoizedState=w,h.childLanes=t.childLanes&~i,n.memoizedState=Zd,c}return h=t.child,t=h.sibling,c=fs(h,{mode:"visible",children:c.children}),(n.mode&1)===0&&(c.lanes=i),c.return=n,c.sibling=null,t!==null&&(i=n.deletions,i===null?(n.deletions=[t],n.flags|=16):i.push(t)),n.child=c,n.memoizedState=null,c}function tu(t,n){return n=yl({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function al(t,n,i,c){return c!==null&&Dd(c),ka(n,t.child,null,i),t=tu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ib(t,n,i,c,m,h,w){if(i)return n.flags&256?(n.flags&=-257,c=Yd(Error(a(422))),al(t,n,w,c)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(h=c.fallback,m=n.mode,c=yl({mode:"visible",children:c.children},m,0,null),h=Xs(h,m,w,null),h.flags|=2,c.return=n,h.return=n,c.sibling=h,n.child=c,(n.mode&1)!==0&&ka(n,t.child,null,w),n.child.memoizedState=eu(w),n.memoizedState=Zd,h);if((n.mode&1)===0)return al(t,n,w,null);if(m.data==="$!"){if(c=m.nextSibling&&m.nextSibling.dataset,c)var _=c.dgst;return c=_,h=Error(a(419)),c=Yd(h,c,void 0),al(t,n,w,c)}if(_=(w&t.childLanes)!==0,Pn||_){if(c=rn,c!==null){switch(w&-w){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(c.suspendedLanes|w))!==0?0:m,m!==0&&m!==h.retryLane&&(h.retryLane=m,Mr(t,m),sr(c,t,m,-1))}return xu(),c=Yd(Error(a(421))),al(t,n,w,c)}return m.data==="$?"?(n.flags|=128,n.child=t.child,n=vb.bind(null,t),m._reactRetry=n,null):(t=h.treeContext,Mn=ns(m.nextSibling),_n=n,It=!0,er=null,t!==null&&(Un[Hn++]=Ir,Un[Hn++]=_r,Un[Hn++]=Us,Ir=t.id,_r=t.overflow,Us=n),n=tu(n,c.children),n.flags|=4096,n)}function wh(t,n,i){t.lanes|=n;var c=t.alternate;c!==null&&(c.lanes|=n),Td(t.return,n,i)}function nu(t,n,i,c,m){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:m}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=c,h.tail=i,h.tailMode=m)}function jh(t,n,i){var c=n.pendingProps,m=c.revealOrder,h=c.tail;if(wn(t,n,c.children,i),c=_t.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wh(t,i,n);else if(t.tag===19)wh(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Dt(_t,c),(n.mode&1)===0)n.memoizedState=null;else switch(m){case"forwards":for(i=n.child,m=null;i!==null;)t=i.alternate,t!==null&&Jo(t)===null&&(m=i),i=i.sibling;i=m,i===null?(m=n.child,n.child=null):(m=i.sibling,i.sibling=null),nu(n,!1,m,i,h);break;case"backwards":for(i=null,m=n.child,n.child=null;m!==null;){if(t=m.alternate,t!==null&&Jo(t)===null){n.child=m;break}t=m.sibling,m.sibling=i,i=m,m=t}nu(n,!0,i,null,h);break;case"together":nu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function il(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function Lr(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),Gs|=n.lanes,(i&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,i=fs(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=fs(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function ob(t,n,i){switch(n.tag){case 3:xh(n),Da();break;case 5:Mp(n);break;case 1:Cn(n.type)&&Uo(n);break;case 4:Md(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,m=n.memoizedProps.value;Dt(Ko,c._currentValue),c._currentValue=m;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(Dt(_t,_t.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?vh(t,n,i):(Dt(_t,_t.current&1),t=Lr(t,n,i),t!==null?t.sibling:null);Dt(_t,_t.current&1);break;case 19:if(c=(i&n.childLanes)!==0,(t.flags&128)!==0){if(c)return jh(t,n,i);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Dt(_t,_t.current),c)break;return null;case 22:case 23:return n.lanes=0,ph(t,n,i)}return Lr(t,n,i)}var bh,ru,Nh,Sh;bh=function(t,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},ru=function(){},Nh=function(t,n,i,c){var m=t.memoizedProps;if(m!==c){t=n.stateNode,Ws(gr.current);var h=null;switch(i){case"input":m=kt(t,m),c=kt(t,c),h=[];break;case"select":m=K({},m,{value:void 0}),c=K({},c,{value:void 0}),h=[];break;case"textarea":m=nt(t,m),c=nt(t,c),h=[];break;default:typeof m.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=zo)}Pt(i,c);var w;i=null;for(ee in m)if(!c.hasOwnProperty(ee)&&m.hasOwnProperty(ee)&&m[ee]!=null)if(ee==="style"){var _=m[ee];for(w in _)_.hasOwnProperty(w)&&(i||(i={}),i[w]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(l.hasOwnProperty(ee)?h||(h=[]):(h=h||[]).push(ee,null));for(ee in c){var F=c[ee];if(_=m?.[ee],c.hasOwnProperty(ee)&&F!==_&&(F!=null||_!=null))if(ee==="style")if(_){for(w in _)!_.hasOwnProperty(w)||F&&F.hasOwnProperty(w)||(i||(i={}),i[w]="");for(w in F)F.hasOwnProperty(w)&&_[w]!==F[w]&&(i||(i={}),i[w]=F[w])}else i||(h||(h=[]),h.push(ee,i)),i=F;else ee==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,_=_?_.__html:void 0,F!=null&&_!==F&&(h=h||[]).push(ee,F)):ee==="children"?typeof F!="string"&&typeof F!="number"||(h=h||[]).push(ee,""+F):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(l.hasOwnProperty(ee)?(F!=null&&ee==="onScroll"&&Rt("scroll",t),h||_===F||(h=[])):(h=h||[]).push(ee,F))}i&&(h=h||[]).push("style",i);var ee=h;(n.updateQueue=ee)&&(n.flags|=4)}},Sh=function(t,n,i,c){i!==c&&(n.flags|=4)};function Oi(t,n){if(!It)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function hn(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,c=0;if(n)for(var m=t.child;m!==null;)i|=m.lanes|m.childLanes,c|=m.subtreeFlags&14680064,c|=m.flags&14680064,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)i|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=c,t.childLanes=i,n}function lb(t,n,i){var c=n.pendingProps;switch(Cd(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(n),null;case 1:return Cn(n.type)&&Bo(),hn(n),null;case 3:return c=n.stateNode,Ta(),Tt(Sn),Tt(fn),Fd(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(qo(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,er!==null&&(pu(er),er=null))),ru(t,n),hn(n),null;case 5:Od(n);var m=Ws(Ri.current);if(i=n.type,t!==null&&n.stateNode!=null)Nh(t,n,i,c,m),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(a(166));return hn(n),null}if(t=Ws(gr.current),qo(n)){c=n.stateNode,i=n.type;var h=n.memoizedProps;switch(c[hr]=n,c[Pi]=h,t=(n.mode&1)!==0,i){case"dialog":Rt("cancel",c),Rt("close",c);break;case"iframe":case"object":case"embed":Rt("load",c);break;case"video":case"audio":for(m=0;m<Ni.length;m++)Rt(Ni[m],c);break;case"source":Rt("error",c);break;case"img":case"image":case"link":Rt("error",c),Rt("load",c);break;case"details":Rt("toggle",c);break;case"input":H(c,h),Rt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!h.multiple},Rt("invalid",c);break;case"textarea":rt(c,h),Rt("invalid",c)}Pt(i,h),m=null;for(var w in h)if(h.hasOwnProperty(w)){var _=h[w];w==="children"?typeof _=="string"?c.textContent!==_&&(h.suppressHydrationWarning!==!0&&Fo(c.textContent,_,t),m=["children",_]):typeof _=="number"&&c.textContent!==""+_&&(h.suppressHydrationWarning!==!0&&Fo(c.textContent,_,t),m=["children",""+_]):l.hasOwnProperty(w)&&_!=null&&w==="onScroll"&&Rt("scroll",c)}switch(i){case"input":Qe(c),ae(c,h,!0);break;case"textarea":Qe(c),jt(c);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(c.onclick=zo)}c=m,n.updateQueue=c,c!==null&&(n.flags|=4)}else{w=m.nodeType===9?m:m.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=W(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=w.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=w.createElement(i,{is:c.is}):(t=w.createElement(i),i==="select"&&(w=t,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):t=w.createElementNS(t,i),t[hr]=n,t[Pi]=c,bh(t,n,!1,!1),n.stateNode=t;e:{switch(w=Ht(i,c),i){case"dialog":Rt("cancel",t),Rt("close",t),m=c;break;case"iframe":case"object":case"embed":Rt("load",t),m=c;break;case"video":case"audio":for(m=0;m<Ni.length;m++)Rt(Ni[m],t);m=c;break;case"source":Rt("error",t),m=c;break;case"img":case"image":case"link":Rt("error",t),Rt("load",t),m=c;break;case"details":Rt("toggle",t),m=c;break;case"input":H(t,c),m=kt(t,c),Rt("invalid",t);break;case"option":m=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},m=K({},c,{value:void 0}),Rt("invalid",t);break;case"textarea":rt(t,c),m=nt(t,c),Rt("invalid",t);break;default:m=c}Pt(i,m),_=m;for(h in _)if(_.hasOwnProperty(h)){var F=_[h];h==="style"?Nt(t,F):h==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&He(t,F)):h==="children"?typeof F=="string"?(i!=="textarea"||F!=="")&&ft(t,F):typeof F=="number"&&ft(t,""+F):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(l.hasOwnProperty(h)?F!=null&&h==="onScroll"&&Rt("scroll",t):F!=null&&M(t,h,F,w))}switch(i){case"input":Qe(t),ae(t,c,!1);break;case"textarea":Qe(t),jt(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Y(c.value));break;case"select":t.multiple=!!c.multiple,h=c.value,h!=null?$e(t,!!c.multiple,h,!1):c.defaultValue!=null&&$e(t,!!c.multiple,c.defaultValue,!0);break;default:typeof m.onClick=="function"&&(t.onclick=zo)}switch(i){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return hn(n),null;case 6:if(t&&n.stateNode!=null)Sh(t,n,t.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(a(166));if(i=Ws(Ri.current),Ws(gr.current),qo(n)){if(c=n.stateNode,i=n.memoizedProps,c[hr]=n,(h=c.nodeValue!==i)&&(t=_n,t!==null))switch(t.tag){case 3:Fo(c.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fo(c.nodeValue,i,(t.mode&1)!==0)}h&&(n.flags|=4)}else c=(i.nodeType===9?i:i.ownerDocument).createTextNode(c),c[hr]=n,n.stateNode=c}return hn(n),null;case 13:if(Tt(_t),c=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(It&&Mn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Ep(),Da(),n.flags|=98560,h=!1;else if(h=qo(n),c!==null&&c.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[hr]=n}else Da(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;hn(n),h=!1}else er!==null&&(pu(er),er=null),h=!0;if(!h)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(_t.current&1)!==0?Xt===0&&(Xt=3):xu())),n.updateQueue!==null&&(n.flags|=4),hn(n),null);case 4:return Ta(),ru(t,n),t===null&&Si(n.stateNode.containerInfo),hn(n),null;case 10:return Rd(n.type._context),hn(n),null;case 17:return Cn(n.type)&&Bo(),hn(n),null;case 19:if(Tt(_t),h=n.memoizedState,h===null)return hn(n),null;if(c=(n.flags&128)!==0,w=h.rendering,w===null)if(c)Oi(h,!1);else{if(Xt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(w=Jo(t),w!==null){for(n.flags|=128,Oi(h,!1),c=w.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=i,i=n.child;i!==null;)h=i,t=c,h.flags&=14680066,w=h.alternate,w===null?(h.childLanes=0,h.lanes=t,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=w.childLanes,h.lanes=w.lanes,h.child=w.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=w.memoizedProps,h.memoizedState=w.memoizedState,h.updateQueue=w.updateQueue,h.type=w.type,t=w.dependencies,h.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Dt(_t,_t.current&1|2),n.child}t=t.sibling}h.tail!==null&&Bt()>Oa&&(n.flags|=128,c=!0,Oi(h,!1),n.lanes=4194304)}else{if(!c)if(t=Jo(w),t!==null){if(n.flags|=128,c=!0,i=t.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),Oi(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!It)return hn(n),null}else 2*Bt()-h.renderingStartTime>Oa&&i!==1073741824&&(n.flags|=128,c=!0,Oi(h,!1),n.lanes=4194304);h.isBackwards?(w.sibling=n.child,n.child=w):(i=h.last,i!==null?i.sibling=w:n.child=w,h.last=w)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Bt(),n.sibling=null,i=_t.current,Dt(_t,c?i&1|2:i&1),n):(hn(n),null);case 22:case 23:return gu(),c=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(n.flags|=8192),c&&(n.mode&1)!==0?(On&1073741824)!==0&&(hn(n),n.subtreeFlags&6&&(n.flags|=8192)):hn(n),null;case 24:return null;case 25:return null}throw Error(a(156,n.tag))}function cb(t,n){switch(Cd(n),n.tag){case 1:return Cn(n.type)&&Bo(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ta(),Tt(Sn),Tt(fn),Fd(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return Od(n),null;case 13:if(Tt(_t),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Da()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Tt(_t),null;case 4:return Ta(),null;case 10:return Rd(n.type._context),null;case 22:case 23:return gu(),null;case 24:return null;default:return null}}var ol=!1,gn=!1,db=typeof WeakSet=="function"?WeakSet:Set,ke=null;function _a(t,n){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(c){Ft(t,n,c)}else i.current=null}function su(t,n,i){try{i()}catch(c){Ft(t,n,c)}}var Ch=!1;function ub(t,n){if(gd=Eo,t=rp(),ld(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var m=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var w=0,_=-1,F=-1,ee=0,ge=0,xe=t,pe=null;t:for(;;){for(var De;xe!==i||m!==0&&xe.nodeType!==3||(_=w+m),xe!==h||c!==0&&xe.nodeType!==3||(F=w+c),xe.nodeType===3&&(w+=xe.nodeValue.length),(De=xe.firstChild)!==null;)pe=xe,xe=De;for(;;){if(xe===t)break t;if(pe===i&&++ee===m&&(_=w),pe===h&&++ge===c&&(F=w),(De=xe.nextSibling)!==null)break;xe=pe,pe=xe.parentNode}xe=De}i=_===-1||F===-1?null:{start:_,end:F}}else i=null}i=i||{start:0,end:0}}else i=null;for(xd={focusedElem:t,selectionRange:i},Eo=!1,ke=n;ke!==null;)if(n=ke,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ke=t;else for(;ke!==null;){n=ke;try{var Ie=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Fe=Ie.memoizedProps,Ut=Ie.memoizedState,G=n.stateNode,$=G.getSnapshotBeforeUpdate(n.elementType===n.type?Fe:tr(n.type,Fe),Ut);G.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var J=n.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(ye){Ft(n,n.return,ye)}if(t=n.sibling,t!==null){t.return=n.return,ke=t;break}ke=n.return}return Ie=Ch,Ch=!1,Ie}function Li(t,n,i){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&t)===t){var h=m.destroy;m.destroy=void 0,h!==void 0&&su(n,i,h)}m=m.next}while(m!==c)}}function ll(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var c=i.create;i.destroy=c()}i=i.next}while(i!==n)}}function au(t){var n=t.ref;if(n!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof n=="function"?n(t):n.current=t}}function Ph(t){var n=t.alternate;n!==null&&(t.alternate=null,Ph(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[hr],delete n[Pi],delete n[jd],delete n[Gj],delete n[Kj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Eh(t){return t.tag===5||t.tag===3||t.tag===4}function Dh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Eh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function iu(t,n,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(t,i)):(n=i,n.appendChild(t)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=zo));else if(c!==4&&(t=t.child,t!==null))for(iu(t,n,i),t=t.sibling;t!==null;)iu(t,n,i),t=t.sibling}function ou(t,n,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(ou(t,n,i),t=t.sibling;t!==null;)ou(t,n,i),t=t.sibling}var on=null,nr=!1;function ls(t,n,i){for(i=i.child;i!==null;)kh(t,n,i),i=i.sibling}function kh(t,n,i){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(jo,i)}catch{}switch(i.tag){case 5:gn||_a(i,n);case 6:var c=on,m=nr;on=null,ls(t,n,i),on=c,nr=m,on!==null&&(nr?(t=on,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):on.removeChild(i.stateNode));break;case 18:on!==null&&(nr?(t=on,i=i.stateNode,t.nodeType===8?wd(t.parentNode,i):t.nodeType===1&&wd(t,i),hi(t)):wd(on,i.stateNode));break;case 4:c=on,m=nr,on=i.stateNode.containerInfo,nr=!0,ls(t,n,i),on=c,nr=m;break;case 0:case 11:case 14:case 15:if(!gn&&(c=i.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){m=c=c.next;do{var h=m,w=h.destroy;h=h.tag,w!==void 0&&((h&2)!==0||(h&4)!==0)&&su(i,n,w),m=m.next}while(m!==c)}ls(t,n,i);break;case 1:if(!gn&&(_a(i,n),c=i.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=i.memoizedProps,c.state=i.memoizedState,c.componentWillUnmount()}catch(_){Ft(i,n,_)}ls(t,n,i);break;case 21:ls(t,n,i);break;case 22:i.mode&1?(gn=(c=gn)||i.memoizedState!==null,ls(t,n,i),gn=c):ls(t,n,i);break;default:ls(t,n,i)}}function Ah(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new db),n.forEach(function(c){var m=wb.bind(null,t,c);i.has(c)||(i.add(c),c.then(m,m))})}}function rr(t,n){var i=n.deletions;if(i!==null)for(var c=0;c<i.length;c++){var m=i[c];try{var h=t,w=n,_=w;e:for(;_!==null;){switch(_.tag){case 5:on=_.stateNode,nr=!1;break e;case 3:on=_.stateNode.containerInfo,nr=!0;break e;case 4:on=_.stateNode.containerInfo,nr=!0;break e}_=_.return}if(on===null)throw Error(a(160));kh(h,w,m),on=null,nr=!1;var F=m.alternate;F!==null&&(F.return=null),m.return=null}catch(ee){Ft(m,n,ee)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Rh(n,t),n=n.sibling}function Rh(t,n){var i=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rr(n,t),yr(t),c&4){try{Li(3,t,t.return),ll(3,t)}catch(Fe){Ft(t,t.return,Fe)}try{Li(5,t,t.return)}catch(Fe){Ft(t,t.return,Fe)}}break;case 1:rr(n,t),yr(t),c&512&&i!==null&&_a(i,i.return);break;case 5:if(rr(n,t),yr(t),c&512&&i!==null&&_a(i,i.return),t.flags&32){var m=t.stateNode;try{ft(m,"")}catch(Fe){Ft(t,t.return,Fe)}}if(c&4&&(m=t.stateNode,m!=null)){var h=t.memoizedProps,w=i!==null?i.memoizedProps:h,_=t.type,F=t.updateQueue;if(t.updateQueue=null,F!==null)try{_==="input"&&h.type==="radio"&&h.name!=null&&Ge(m,h),Ht(_,w);var ee=Ht(_,h);for(w=0;w<F.length;w+=2){var ge=F[w],xe=F[w+1];ge==="style"?Nt(m,xe):ge==="dangerouslySetInnerHTML"?He(m,xe):ge==="children"?ft(m,xe):M(m,ge,xe,ee)}switch(_){case"input":ht(m,h);break;case"textarea":tt(m,h);break;case"select":var pe=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!h.multiple;var De=h.value;De!=null?$e(m,!!h.multiple,De,!1):pe!==!!h.multiple&&(h.defaultValue!=null?$e(m,!!h.multiple,h.defaultValue,!0):$e(m,!!h.multiple,h.multiple?[]:"",!1))}m[Pi]=h}catch(Fe){Ft(t,t.return,Fe)}}break;case 6:if(rr(n,t),yr(t),c&4){if(t.stateNode===null)throw Error(a(162));m=t.stateNode,h=t.memoizedProps;try{m.nodeValue=h}catch(Fe){Ft(t,t.return,Fe)}}break;case 3:if(rr(n,t),yr(t),c&4&&i!==null&&i.memoizedState.isDehydrated)try{hi(n.containerInfo)}catch(Fe){Ft(t,t.return,Fe)}break;case 4:rr(n,t),yr(t);break;case 13:rr(n,t),yr(t),m=t.child,m.flags&8192&&(h=m.memoizedState!==null,m.stateNode.isHidden=h,!h||m.alternate!==null&&m.alternate.memoizedState!==null||(du=Bt())),c&4&&Ah(t);break;case 22:if(ge=i!==null&&i.memoizedState!==null,t.mode&1?(gn=(ee=gn)||ge,rr(n,t),gn=ee):rr(n,t),yr(t),c&8192){if(ee=t.memoizedState!==null,(t.stateNode.isHidden=ee)&&!ge&&(t.mode&1)!==0)for(ke=t,ge=t.child;ge!==null;){for(xe=ke=ge;ke!==null;){switch(pe=ke,De=pe.child,pe.tag){case 0:case 11:case 14:case 15:Li(4,pe,pe.return);break;case 1:_a(pe,pe.return);var Ie=pe.stateNode;if(typeof Ie.componentWillUnmount=="function"){c=pe,i=pe.return;try{n=c,Ie.props=n.memoizedProps,Ie.state=n.memoizedState,Ie.componentWillUnmount()}catch(Fe){Ft(c,i,Fe)}}break;case 5:_a(pe,pe.return);break;case 22:if(pe.memoizedState!==null){_h(xe);continue}}De!==null?(De.return=pe,ke=De):_h(xe)}ge=ge.sibling}e:for(ge=null,xe=t;;){if(xe.tag===5){if(ge===null){ge=xe;try{m=xe.stateNode,ee?(h=m.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(_=xe.stateNode,F=xe.memoizedProps.style,w=F!=null&&F.hasOwnProperty("display")?F.display:null,_.style.display=Ze("display",w))}catch(Fe){Ft(t,t.return,Fe)}}}else if(xe.tag===6){if(ge===null)try{xe.stateNode.nodeValue=ee?"":xe.memoizedProps}catch(Fe){Ft(t,t.return,Fe)}}else if((xe.tag!==22&&xe.tag!==23||xe.memoizedState===null||xe===t)&&xe.child!==null){xe.child.return=xe,xe=xe.child;continue}if(xe===t)break e;for(;xe.sibling===null;){if(xe.return===null||xe.return===t)break e;ge===xe&&(ge=null),xe=xe.return}ge===xe&&(ge=null),xe.sibling.return=xe.return,xe=xe.sibling}}break;case 19:rr(n,t),yr(t),c&4&&Ah(t);break;case 21:break;default:rr(n,t),yr(t)}}function yr(t){var n=t.flags;if(n&2){try{e:{for(var i=t.return;i!==null;){if(Eh(i)){var c=i;break e}i=i.return}throw Error(a(160))}switch(c.tag){case 5:var m=c.stateNode;c.flags&32&&(ft(m,""),c.flags&=-33);var h=Dh(t);ou(t,h,m);break;case 3:case 4:var w=c.stateNode.containerInfo,_=Dh(t);iu(t,_,w);break;default:throw Error(a(161))}}catch(F){Ft(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function mb(t,n,i){ke=t,Th(t)}function Th(t,n,i){for(var c=(t.mode&1)!==0;ke!==null;){var m=ke,h=m.child;if(m.tag===22&&c){var w=m.memoizedState!==null||ol;if(!w){var _=m.alternate,F=_!==null&&_.memoizedState!==null||gn;_=ol;var ee=gn;if(ol=w,(gn=F)&&!ee)for(ke=m;ke!==null;)w=ke,F=w.child,w.tag===22&&w.memoizedState!==null?Mh(m):F!==null?(F.return=w,ke=F):Mh(m);for(;h!==null;)ke=h,Th(h),h=h.sibling;ke=m,ol=_,gn=ee}Ih(t)}else(m.subtreeFlags&8772)!==0&&h!==null?(h.return=m,ke=h):Ih(t)}}function Ih(t){for(;ke!==null;){var n=ke;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:gn||ll(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!gn)if(i===null)c.componentDidMount();else{var m=n.elementType===n.type?i.memoizedProps:tr(n.type,i.memoizedProps);c.componentDidUpdate(m,i.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var h=n.updateQueue;h!==null&&_p(n,h,c);break;case 3:var w=n.updateQueue;if(w!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}_p(n,w,i)}break;case 5:var _=n.stateNode;if(i===null&&n.flags&4){i=_;var F=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&i.focus();break;case"img":F.src&&(i.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var ee=n.alternate;if(ee!==null){var ge=ee.memoizedState;if(ge!==null){var xe=ge.dehydrated;xe!==null&&hi(xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}gn||n.flags&512&&au(n)}catch(pe){Ft(n,n.return,pe)}}if(n===t){ke=null;break}if(i=n.sibling,i!==null){i.return=n.return,ke=i;break}ke=n.return}}function _h(t){for(;ke!==null;){var n=ke;if(n===t){ke=null;break}var i=n.sibling;if(i!==null){i.return=n.return,ke=i;break}ke=n.return}}function Mh(t){for(;ke!==null;){var n=ke;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{ll(4,n)}catch(F){Ft(n,i,F)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var m=n.return;try{c.componentDidMount()}catch(F){Ft(n,m,F)}}var h=n.return;try{au(n)}catch(F){Ft(n,h,F)}break;case 5:var w=n.return;try{au(n)}catch(F){Ft(n,w,F)}}}catch(F){Ft(n,n.return,F)}if(n===t){ke=null;break}var _=n.sibling;if(_!==null){_.return=n.return,ke=_;break}ke=n.return}}var fb=Math.ceil,cl=D.ReactCurrentDispatcher,lu=D.ReactCurrentOwner,qn=D.ReactCurrentBatchConfig,gt=0,rn=null,Wt=null,ln=0,On=0,Ma=rs(0),Xt=0,Fi=null,Gs=0,dl=0,cu=0,zi=null,En=null,du=0,Oa=1/0,Fr=null,ul=!1,uu=null,cs=null,ml=!1,ds=null,fl=0,$i=0,mu=null,pl=-1,hl=0;function jn(){return(gt&6)!==0?Bt():pl!==-1?pl:pl=Bt()}function us(t){return(t.mode&1)===0?1:(gt&2)!==0&&ln!==0?ln&-ln:Qj.transition!==null?(hl===0&&(hl=Df()),hl):(t=Ct,t!==0||(t=window.event,t=t===void 0?16:Lf(t.type)),t)}function sr(t,n,i,c){if(50<$i)throw $i=0,mu=null,Error(a(185));di(t,i,c),((gt&2)===0||t!==rn)&&(t===rn&&((gt&2)===0&&(dl|=i),Xt===4&&ms(t,ln)),Dn(t,c),i===1&&gt===0&&(n.mode&1)===0&&(Oa=Bt()+500,Ho&&as()))}function Dn(t,n){var i=t.callbackNode;Qw(t,n);var c=So(t,t===rn?ln:0);if(c===0)i!==null&&Cf(i),t.callbackNode=null,t.callbackPriority=0;else if(n=c&-c,t.callbackPriority!==n){if(i!=null&&Cf(i),n===1)t.tag===0?Yj(Lh.bind(null,t)):bp(Lh.bind(null,t)),Wj(function(){(gt&6)===0&&as()}),i=null;else{switch(kf(c)){case 1:i=Wc;break;case 4:i=Pf;break;case 16:i=wo;break;case 536870912:i=Ef;break;default:i=wo}i=Wh(i,Oh.bind(null,t))}t.callbackPriority=n,t.callbackNode=i}}function Oh(t,n){if(pl=-1,hl=0,(gt&6)!==0)throw Error(a(327));var i=t.callbackNode;if(La()&&t.callbackNode!==i)return null;var c=So(t,t===rn?ln:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||n)n=gl(t,c);else{n=c;var m=gt;gt|=2;var h=zh();(rn!==t||ln!==n)&&(Fr=null,Oa=Bt()+500,Ys(t,n));do try{gb();break}catch(_){Fh(t,_)}while(!0);Ad(),cl.current=h,gt=m,Wt!==null?n=0:(rn=null,ln=0,n=Xt)}if(n!==0){if(n===2&&(m=qc(t),m!==0&&(c=m,n=fu(t,m))),n===1)throw i=Fi,Ys(t,0),ms(t,c),Dn(t,Bt()),i;if(n===6)ms(t,c);else{if(m=t.current.alternate,(c&30)===0&&!pb(m)&&(n=gl(t,c),n===2&&(h=qc(t),h!==0&&(c=h,n=fu(t,h))),n===1))throw i=Fi,Ys(t,0),ms(t,c),Dn(t,Bt()),i;switch(t.finishedWork=m,t.finishedLanes=c,n){case 0:case 1:throw Error(a(345));case 2:Qs(t,En,Fr);break;case 3:if(ms(t,c),(c&130023424)===c&&(n=du+500-Bt(),10<n)){if(So(t,0)!==0)break;if(m=t.suspendedLanes,(m&c)!==c){jn(),t.pingedLanes|=t.suspendedLanes&m;break}t.timeoutHandle=vd(Qs.bind(null,t,En,Fr),n);break}Qs(t,En,Fr);break;case 4:if(ms(t,c),(c&4194240)===c)break;for(n=t.eventTimes,m=-1;0<c;){var w=31-Jn(c);h=1<<w,w=n[w],w>m&&(m=w),c&=~h}if(c=m,c=Bt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*fb(c/1960))-c,10<c){t.timeoutHandle=vd(Qs.bind(null,t,En,Fr),c);break}Qs(t,En,Fr);break;case 5:Qs(t,En,Fr);break;default:throw Error(a(329))}}}return Dn(t,Bt()),t.callbackNode===i?Oh.bind(null,t):null}function fu(t,n){var i=zi;return t.current.memoizedState.isDehydrated&&(Ys(t,n).flags|=256),t=gl(t,n),t!==2&&(n=En,En=i,n!==null&&pu(n)),t}function pu(t){En===null?En=t:En.push.apply(En,t)}function pb(t){for(var n=t;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var c=0;c<i.length;c++){var m=i[c],h=m.getSnapshot;m=m.value;try{if(!Zn(h(),m))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ms(t,n){for(n&=~cu,n&=~dl,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var i=31-Jn(n),c=1<<i;t[i]=-1,n&=~c}}function Lh(t){if((gt&6)!==0)throw Error(a(327));La();var n=So(t,0);if((n&1)===0)return Dn(t,Bt()),null;var i=gl(t,n);if(t.tag!==0&&i===2){var c=qc(t);c!==0&&(n=c,i=fu(t,c))}if(i===1)throw i=Fi,Ys(t,0),ms(t,n),Dn(t,Bt()),i;if(i===6)throw Error(a(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Qs(t,En,Fr),Dn(t,Bt()),null}function hu(t,n){var i=gt;gt|=1;try{return t(n)}finally{gt=i,gt===0&&(Oa=Bt()+500,Ho&&as())}}function Ks(t){ds!==null&&ds.tag===0&&(gt&6)===0&&La();var n=gt;gt|=1;var i=qn.transition,c=Ct;try{if(qn.transition=null,Ct=1,t)return t()}finally{Ct=c,qn.transition=i,gt=n,(gt&6)===0&&as()}}function gu(){On=Ma.current,Tt(Ma)}function Ys(t,n){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,Vj(i)),Wt!==null)for(i=Wt.return;i!==null;){var c=i;switch(Cd(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Bo();break;case 3:Ta(),Tt(Sn),Tt(fn),Fd();break;case 5:Od(c);break;case 4:Ta();break;case 13:Tt(_t);break;case 19:Tt(_t);break;case 10:Rd(c.type._context);break;case 22:case 23:gu()}i=i.return}if(rn=t,Wt=t=fs(t.current,null),ln=On=n,Xt=0,Fi=null,cu=dl=Gs=0,En=zi=null,Vs!==null){for(n=0;n<Vs.length;n++)if(i=Vs[n],c=i.interleaved,c!==null){i.interleaved=null;var m=c.next,h=i.pending;if(h!==null){var w=h.next;h.next=m,c.next=w}i.pending=c}Vs=null}return t}function Fh(t,n){do{var i=Wt;try{if(Ad(),Zo.current=rl,el){for(var c=Mt.memoizedState;c!==null;){var m=c.queue;m!==null&&(m.pending=null),c=c.next}el=!1}if(qs=0,nn=Qt=Mt=null,Ti=!1,Ii=0,lu.current=null,i===null||i.return===null){Xt=1,Fi=n,Wt=null;break}e:{var h=t,w=i.return,_=i,F=n;if(n=ln,_.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var ee=F,ge=_,xe=ge.tag;if((ge.mode&1)===0&&(xe===0||xe===11||xe===15)){var pe=ge.alternate;pe?(ge.updateQueue=pe.updateQueue,ge.memoizedState=pe.memoizedState,ge.lanes=pe.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var De=ch(w);if(De!==null){De.flags&=-257,dh(De,w,_,h,n),De.mode&1&&lh(h,ee,n),n=De,F=ee;var Ie=n.updateQueue;if(Ie===null){var Fe=new Set;Fe.add(F),n.updateQueue=Fe}else Ie.add(F);break e}else{if((n&1)===0){lh(h,ee,n),xu();break e}F=Error(a(426))}}else if(It&&_.mode&1){var Ut=ch(w);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),dh(Ut,w,_,h,n),Dd(Ia(F,_));break e}}h=F=Ia(F,_),Xt!==4&&(Xt=2),zi===null?zi=[h]:zi.push(h),h=w;do{switch(h.tag){case 3:h.flags|=65536,n&=-n,h.lanes|=n;var G=ih(h,F,n);Ip(h,G);break e;case 1:_=F;var $=h.type,J=h.stateNode;if((h.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(cs===null||!cs.has(J)))){h.flags|=65536,n&=-n,h.lanes|=n;var ye=oh(h,_,n);Ip(h,ye);break e}}h=h.return}while(h!==null)}Bh(i)}catch(ze){n=ze,Wt===i&&i!==null&&(Wt=i=i.return);continue}break}while(!0)}function zh(){var t=cl.current;return cl.current=rl,t===null?rl:t}function xu(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),rn===null||(Gs&268435455)===0&&(dl&268435455)===0||ms(rn,ln)}function gl(t,n){var i=gt;gt|=2;var c=zh();(rn!==t||ln!==n)&&(Fr=null,Ys(t,n));do try{hb();break}catch(m){Fh(t,m)}while(!0);if(Ad(),gt=i,cl.current=c,Wt!==null)throw Error(a(261));return rn=null,ln=0,Xt}function hb(){for(;Wt!==null;)$h(Wt)}function gb(){for(;Wt!==null&&!Bw();)$h(Wt)}function $h(t){var n=Vh(t.alternate,t,On);t.memoizedProps=t.pendingProps,n===null?Bh(t):Wt=n,lu.current=null}function Bh(t){var n=t;do{var i=n.alternate;if(t=n.return,(n.flags&32768)===0){if(i=lb(i,n,On),i!==null){Wt=i;return}}else{if(i=cb(i,n),i!==null){i.flags&=32767,Wt=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xt=6,Wt=null;return}}if(n=n.sibling,n!==null){Wt=n;return}Wt=n=t}while(n!==null);Xt===0&&(Xt=5)}function Qs(t,n,i){var c=Ct,m=qn.transition;try{qn.transition=null,Ct=1,xb(t,n,i,c)}finally{qn.transition=m,Ct=c}return null}function xb(t,n,i,c){do La();while(ds!==null);if((gt&6)!==0)throw Error(a(327));i=t.finishedWork;var m=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0;var h=i.lanes|i.childLanes;if(Xw(t,h),t===rn&&(Wt=rn=null,ln=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||ml||(ml=!0,Wh(wo,function(){return La(),null})),h=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||h){h=qn.transition,qn.transition=null;var w=Ct;Ct=1;var _=gt;gt|=4,lu.current=null,ub(t,i),Rh(i,t),Lj(xd),Eo=!!gd,xd=gd=null,t.current=i,mb(i),Uw(),gt=_,Ct=w,qn.transition=h}else t.current=i;if(ml&&(ml=!1,ds=t,fl=m),h=t.pendingLanes,h===0&&(cs=null),Ww(i.stateNode),Dn(t,Bt()),n!==null)for(c=t.onRecoverableError,i=0;i<n.length;i++)m=n[i],c(m.value,{componentStack:m.stack,digest:m.digest});if(ul)throw ul=!1,t=uu,uu=null,t;return(fl&1)!==0&&t.tag!==0&&La(),h=t.pendingLanes,(h&1)!==0?t===mu?$i++:($i=0,mu=t):$i=0,as(),null}function La(){if(ds!==null){var t=kf(fl),n=qn.transition,i=Ct;try{if(qn.transition=null,Ct=16>t?16:t,ds===null)var c=!1;else{if(t=ds,ds=null,fl=0,(gt&6)!==0)throw Error(a(331));var m=gt;for(gt|=4,ke=t.current;ke!==null;){var h=ke,w=h.child;if((ke.flags&16)!==0){var _=h.deletions;if(_!==null){for(var F=0;F<_.length;F++){var ee=_[F];for(ke=ee;ke!==null;){var ge=ke;switch(ge.tag){case 0:case 11:case 15:Li(8,ge,h)}var xe=ge.child;if(xe!==null)xe.return=ge,ke=xe;else for(;ke!==null;){ge=ke;var pe=ge.sibling,De=ge.return;if(Ph(ge),ge===ee){ke=null;break}if(pe!==null){pe.return=De,ke=pe;break}ke=De}}}var Ie=h.alternate;if(Ie!==null){var Fe=Ie.child;if(Fe!==null){Ie.child=null;do{var Ut=Fe.sibling;Fe.sibling=null,Fe=Ut}while(Fe!==null)}}ke=h}}if((h.subtreeFlags&2064)!==0&&w!==null)w.return=h,ke=w;else e:for(;ke!==null;){if(h=ke,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Li(9,h,h.return)}var G=h.sibling;if(G!==null){G.return=h.return,ke=G;break e}ke=h.return}}var $=t.current;for(ke=$;ke!==null;){w=ke;var J=w.child;if((w.subtreeFlags&2064)!==0&&J!==null)J.return=w,ke=J;else e:for(w=$;ke!==null;){if(_=ke,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:ll(9,_)}}catch(ze){Ft(_,_.return,ze)}if(_===w){ke=null;break e}var ye=_.sibling;if(ye!==null){ye.return=_.return,ke=ye;break e}ke=_.return}}if(gt=m,as(),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(jo,t)}catch{}c=!0}return c}finally{Ct=i,qn.transition=n}}return!1}function Uh(t,n,i){n=Ia(i,n),n=ih(t,n,1),t=os(t,n,1),n=jn(),t!==null&&(di(t,1,n),Dn(t,n))}function Ft(t,n,i){if(t.tag===3)Uh(t,t,i);else for(;n!==null;){if(n.tag===3){Uh(n,t,i);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(cs===null||!cs.has(c))){t=Ia(i,t),t=oh(n,t,1),n=os(n,t,1),t=jn(),n!==null&&(di(n,1,t),Dn(n,t));break}}n=n.return}}function yb(t,n,i){var c=t.pingCache;c!==null&&c.delete(n),n=jn(),t.pingedLanes|=t.suspendedLanes&i,rn===t&&(ln&i)===i&&(Xt===4||Xt===3&&(ln&130023424)===ln&&500>Bt()-du?Ys(t,0):cu|=i),Dn(t,n)}function Hh(t,n){n===0&&((t.mode&1)===0?n=1:(n=No,No<<=1,(No&130023424)===0&&(No=4194304)));var i=jn();t=Mr(t,n),t!==null&&(di(t,n,i),Dn(t,i))}function vb(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),Hh(t,i)}function wb(t,n){var i=0;switch(t.tag){case 13:var c=t.stateNode,m=t.memoizedState;m!==null&&(i=m.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(a(314))}c!==null&&c.delete(n),Hh(t,i)}var Vh;Vh=function(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps||Sn.current)Pn=!0;else{if((t.lanes&i)===0&&(n.flags&128)===0)return Pn=!1,ob(t,n,i);Pn=(t.flags&131072)!==0}else Pn=!1,It&&(n.flags&1048576)!==0&&Np(n,Wo,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;il(t,n),t=n.pendingProps;var m=Ca(n,fn.current);Ra(n,i),m=Bd(null,n,c,t,m,i);var h=Ud();return n.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Cn(c)?(h=!0,Uo(n)):h=!1,n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,_d(n),m.updater=sl,n.stateNode=m,m._reactInternals=n,Kd(n,c,t,i),n=Jd(null,n,c,!0,h,i)):(n.tag=0,It&&h&&Sd(n),wn(null,n,m,i),n=n.child),n;case 16:c=n.elementType;e:{switch(il(t,n),t=n.pendingProps,m=c._init,c=m(c._payload),n.type=c,m=n.tag=bb(c),t=tr(c,t),m){case 0:n=Xd(null,n,c,t,i);break e;case 1:n=gh(null,n,c,t,i);break e;case 11:n=uh(null,n,c,t,i);break e;case 14:n=mh(null,n,c,tr(c.type,t),i);break e}throw Error(a(306,c,""))}return n;case 0:return c=n.type,m=n.pendingProps,m=n.elementType===c?m:tr(c,m),Xd(t,n,c,m,i);case 1:return c=n.type,m=n.pendingProps,m=n.elementType===c?m:tr(c,m),gh(t,n,c,m,i);case 3:e:{if(xh(n),t===null)throw Error(a(387));c=n.pendingProps,h=n.memoizedState,m=h.element,Tp(t,n),Xo(n,c,null,i);var w=n.memoizedState;if(c=w.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){m=Ia(Error(a(423)),n),n=yh(t,n,c,i,m);break e}else if(c!==m){m=Ia(Error(a(424)),n),n=yh(t,n,c,i,m);break e}else for(Mn=ns(n.stateNode.containerInfo.firstChild),_n=n,It=!0,er=null,i=Ap(n,null,c,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Da(),c===m){n=Lr(t,n,i);break e}wn(t,n,c,i)}n=n.child}return n;case 5:return Mp(n),t===null&&Ed(n),c=n.type,m=n.pendingProps,h=t!==null?t.memoizedProps:null,w=m.children,yd(c,m)?w=null:h!==null&&yd(c,h)&&(n.flags|=32),hh(t,n),wn(t,n,w,i),n.child;case 6:return t===null&&Ed(n),null;case 13:return vh(t,n,i);case 4:return Md(n,n.stateNode.containerInfo),c=n.pendingProps,t===null?n.child=ka(n,null,c,i):wn(t,n,c,i),n.child;case 11:return c=n.type,m=n.pendingProps,m=n.elementType===c?m:tr(c,m),uh(t,n,c,m,i);case 7:return wn(t,n,n.pendingProps,i),n.child;case 8:return wn(t,n,n.pendingProps.children,i),n.child;case 12:return wn(t,n,n.pendingProps.children,i),n.child;case 10:e:{if(c=n.type._context,m=n.pendingProps,h=n.memoizedProps,w=m.value,Dt(Ko,c._currentValue),c._currentValue=w,h!==null)if(Zn(h.value,w)){if(h.children===m.children&&!Sn.current){n=Lr(t,n,i);break e}}else for(h=n.child,h!==null&&(h.return=n);h!==null;){var _=h.dependencies;if(_!==null){w=h.child;for(var F=_.firstContext;F!==null;){if(F.context===c){if(h.tag===1){F=Or(-1,i&-i),F.tag=2;var ee=h.updateQueue;if(ee!==null){ee=ee.shared;var ge=ee.pending;ge===null?F.next=F:(F.next=ge.next,ge.next=F),ee.pending=F}}h.lanes|=i,F=h.alternate,F!==null&&(F.lanes|=i),Td(h.return,i,n),_.lanes|=i;break}F=F.next}}else if(h.tag===10)w=h.type===n.type?null:h.child;else if(h.tag===18){if(w=h.return,w===null)throw Error(a(341));w.lanes|=i,_=w.alternate,_!==null&&(_.lanes|=i),Td(w,i,n),w=h.sibling}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===n){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}wn(t,n,m.children,i),n=n.child}return n;case 9:return m=n.type,c=n.pendingProps.children,Ra(n,i),m=Vn(m),c=c(m),n.flags|=1,wn(t,n,c,i),n.child;case 14:return c=n.type,m=tr(c,n.pendingProps),m=tr(c.type,m),mh(t,n,c,m,i);case 15:return fh(t,n,n.type,n.pendingProps,i);case 17:return c=n.type,m=n.pendingProps,m=n.elementType===c?m:tr(c,m),il(t,n),n.tag=1,Cn(c)?(t=!0,Uo(n)):t=!1,Ra(n,i),sh(n,c,m),Kd(n,c,m,i),Jd(null,n,c,!0,t,i);case 19:return jh(t,n,i);case 22:return ph(t,n,i)}throw Error(a(156,n.tag))};function Wh(t,n){return Sf(t,n)}function jb(t,n,i,c){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,n,i,c){return new jb(t,n,i,c)}function yu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bb(t){if(typeof t=="function")return yu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Z)return 11;if(t===me)return 14}return 2}function fs(t,n){var i=t.alternate;return i===null?(i=Gn(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function xl(t,n,i,c,m,h){var w=2;if(c=t,typeof t=="function")yu(t)&&(w=1);else if(typeof t=="string")w=5;else e:switch(t){case U:return Xs(i.children,m,h,n);case V:w=8,m|=8;break;case ie:return t=Gn(12,i,n,m|2),t.elementType=ie,t.lanes=h,t;case ne:return t=Gn(13,i,n,m),t.elementType=ne,t.lanes=h,t;case fe:return t=Gn(19,i,n,m),t.elementType=fe,t.lanes=h,t;case te:return yl(i,m,h,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:w=10;break e;case we:w=9;break e;case Z:w=11;break e;case me:w=14;break e;case se:w=16,c=null;break e}throw Error(a(130,t==null?t:typeof t,""))}return n=Gn(w,i,n,m),n.elementType=t,n.type=c,n.lanes=h,n}function Xs(t,n,i,c){return t=Gn(7,t,c,n),t.lanes=i,t}function yl(t,n,i,c){return t=Gn(22,t,c,n),t.elementType=te,t.lanes=i,t.stateNode={isHidden:!1},t}function vu(t,n,i){return t=Gn(6,t,null,n),t.lanes=i,t}function wu(t,n,i){return n=Gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Nb(t,n,i,c,m){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gc(0),this.expirationTimes=Gc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gc(0),this.identifierPrefix=c,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function ju(t,n,i,c,m,h,w,_,F){return t=new Nb(t,n,i,_,F),n===1?(n=1,h===!0&&(n|=8)):n=0,h=Gn(3,null,null,n),t.current=h,h.stateNode=t,h.memoizedState={element:c,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},_d(h),t}function Sb(t,n,i){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:c==null?null:""+c,children:t,containerInfo:n,implementation:i}}function qh(t){if(!t)return ss;t=t._reactInternals;e:{if(zs(t)!==t||t.tag!==1)throw Error(a(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Cn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(a(171))}if(t.tag===1){var i=t.type;if(Cn(i))return wp(t,i,n)}return n}function Gh(t,n,i,c,m,h,w,_,F){return t=ju(i,c,!0,t,m,h,w,_,F),t.context=qh(null),i=t.current,c=jn(),m=us(i),h=Or(c,m),h.callback=n??null,os(i,h,m),t.current.lanes=m,di(t,m,c),Dn(t,c),t}function vl(t,n,i,c){var m=n.current,h=jn(),w=us(m);return i=qh(i),n.context===null?n.context=i:n.pendingContext=i,n=Or(h,w),n.payload={element:t},c=c===void 0?null:c,c!==null&&(n.callback=c),t=os(m,n,w),t!==null&&(sr(t,m,w,h),Qo(t,m,w)),w}function wl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kh(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function bu(t,n){Kh(t,n),(t=t.alternate)&&Kh(t,n)}function Cb(){return null}var Yh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nu(t){this._internalRoot=t}jl.prototype.render=Nu.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));vl(t,n,null,null)},jl.prototype.unmount=Nu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ks(function(){vl(null,t,null,null)}),n[Rr]=null}};function jl(t){this._internalRoot=t}jl.prototype.unstable_scheduleHydration=function(t){if(t){var n=Tf();t={blockedOn:null,target:t,priority:n};for(var i=0;i<Zr.length&&n!==0&&n<Zr[i].priority;i++);Zr.splice(i,0,t),i===0&&Mf(t)}};function Su(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qh(){}function Pb(t,n,i,c,m){if(m){if(typeof c=="function"){var h=c;c=function(){var ee=wl(w);h.call(ee)}}var w=Gh(n,c,t,0,null,!1,!1,"",Qh);return t._reactRootContainer=w,t[Rr]=w.current,Si(t.nodeType===8?t.parentNode:t),Ks(),w}for(;m=t.lastChild;)t.removeChild(m);if(typeof c=="function"){var _=c;c=function(){var ee=wl(F);_.call(ee)}}var F=ju(t,0,!1,null,null,!1,!1,"",Qh);return t._reactRootContainer=F,t[Rr]=F.current,Si(t.nodeType===8?t.parentNode:t),Ks(function(){vl(n,F,i,c)}),F}function Nl(t,n,i,c,m){var h=i._reactRootContainer;if(h){var w=h;if(typeof m=="function"){var _=m;m=function(){var F=wl(w);_.call(F)}}vl(n,w,t,m)}else w=Pb(i,n,t,m,c);return wl(w)}Af=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var i=ci(n.pendingLanes);i!==0&&(Kc(n,i|1),Dn(n,Bt()),(gt&6)===0&&(Oa=Bt()+500,as()))}break;case 13:Ks(function(){var c=Mr(t,1);if(c!==null){var m=jn();sr(c,t,1,m)}}),bu(t,1)}},Yc=function(t){if(t.tag===13){var n=Mr(t,134217728);if(n!==null){var i=jn();sr(n,t,134217728,i)}bu(t,134217728)}},Rf=function(t){if(t.tag===13){var n=us(t),i=Mr(t,n);if(i!==null){var c=jn();sr(i,t,n,c)}bu(t,n)}},Tf=function(){return Ct},If=function(t,n){var i=Ct;try{return Ct=t,n()}finally{Ct=i}},P=function(t,n,i){switch(n){case"input":if(ht(t,i),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var c=i[n];if(c!==t&&c.form===t.form){var m=$o(c);if(!m)throw Error(a(90));Je(c),ht(c,m)}}}break;case"textarea":tt(t,i);break;case"select":n=i.value,n!=null&&$e(t,!!i.multiple,n,!1)}},Te=hu,ot=Ks;var Eb={usingClientEntryPoint:!1,Events:[Ei,Na,$o,Ee,Le,hu]},Bi={findFiberByHostInstance:$s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Db={bundleType:Bi.bundleType,version:Bi.version,rendererPackageName:Bi.rendererPackageName,rendererConfig:Bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bf(t),t===null?null:t.stateNode},findFiberByHostInstance:Bi.findFiberByHostInstance||Cb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sl.isDisabled&&Sl.supportsFiber)try{jo=Sl.inject(Db),pr=Sl}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eb,kn.createPortal=function(t,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Su(n))throw Error(a(200));return Sb(t,n,null,i)},kn.createRoot=function(t,n){if(!Su(t))throw Error(a(299));var i=!1,c="",m=Yh;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),n=ju(t,1,!1,null,null,i,!1,c,m),t[Rr]=n.current,Si(t.nodeType===8?t.parentNode:t),new Nu(n)},kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=bf(n),t=t===null?null:t.stateNode,t},kn.flushSync=function(t){return Ks(t)},kn.hydrate=function(t,n,i){if(!bl(n))throw Error(a(200));return Nl(null,t,n,!0,i)},kn.hydrateRoot=function(t,n,i){if(!Su(t))throw Error(a(405));var c=i!=null&&i.hydratedSources||null,m=!1,h="",w=Yh;if(i!=null&&(i.unstable_strictMode===!0&&(m=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),n=Gh(n,null,t,1,i??null,m,!1,h,w),t[Rr]=n.current,Si(t),c)for(t=0;t<c.length;t++)i=c[t],m=i._getVersion,m=m(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,m]:n.mutableSourceEagerHydrationData.push(i,m);return new jl(n)},kn.render=function(t,n,i){if(!bl(n))throw Error(a(200));return Nl(null,t,n,!1,i)},kn.unmountComponentAtNode=function(t){if(!bl(t))throw Error(a(40));return t._reactRootContainer?(Ks(function(){Nl(null,null,t,!1,function(){t._reactRootContainer=null,t[Rr]=null})}),!0):!1},kn.unstable_batchedUpdates=hu,kn.unstable_renderSubtreeIntoContainer=function(t,n,i,c){if(!bl(i))throw Error(a(200));if(t==null||t._reactInternals===void 0)throw Error(a(38));return Nl(t,n,i,!1,c)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var sg;function Ix(){if(sg)return Eu.exports;sg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(s){console.error(s)}}return r(),Eu.exports=Ob(),Eu.exports}var ag;function Lb(){if(ag)return Cl;ag=1;var r=Ix();return Cl.createRoot=r.createRoot,Cl.hydrateRoot=r.hydrateRoot,Cl}var Fb=Lb(),p=Im();const ve=Tx(p),_x=Ab({__proto__:null,default:ve},[p]),zb="modulepreload",$b=function(r){return"/"+r},ig={},og=function(s,a,o){let l=Promise.resolve();if(a&&a.length>0){let u=function(x){return Promise.all(x.map(v=>Promise.resolve(v).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),y=f?.nonce||f?.getAttribute("nonce");l=u(a.map(x=>{if(x=$b(x),x in ig)return;ig[x]=!0;const v=x.endsWith(".css"),g=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${g}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":zb,v||(S.as="script"),S.crossOrigin="",S.href=x,y&&S.setAttribute("nonce",y),document.head.appendChild(S),v)return new Promise((C,N)=>{S.addEventListener("load",C),S.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${x}`)))})}))}function d(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return l.then(u=>{for(const f of u||[])f.status==="rejected"&&d(f.reason);return s().catch(d)})};function Bb(r){const s=r.toLowerCase();return s.includes("admin@")?"admin":(s.includes("cashier@")||s.includes("billing@"),"cashier")}const lg={"admin@hospital.com":"Dr. Maria Santos","billing.cashier@hospital.com":"Ana Cruz","cashier@hospital.com":"Roberto Dela Cruz","cashier2@hospital.com":"Juan Lopez"};function Ub(r){const s=r.toLowerCase();return lg[s]?lg[s]:s.split("@")[0].split(".").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" ")}function Hb(){const[r,s]=p.useState(null);return{userSession:r,login:d=>{const u=Bb(d.email),f=Ub(d.email);return s({email:d.email,name:f,role:u,system:d.system}),og(async()=>{const{toast:y}=await Promise.resolve().then(()=>Dg);return{toast:y}},void 0).then(({toast:y})=>{y.success(`Welcome to ${d.system.toUpperCase()}! Signed in as ${u}.`)}),d.system},logout:()=>{const d=r?.system;return s(null),og(async()=>{const{toast:u}=await Promise.resolve().then(()=>Dg);return{toast:u}},void 0).then(({toast:u})=>{u.success("Successfully signed out. Redirected to landing page.")}),d},isAuthenticated:!!r}}function Vb(){const[r,s]=p.useState("landing");return{currentView:r,setCurrentView:s,navigateToView:(u,f)=>{if(f?.system==="billing"){u==="billing"?s("medicare-billing"):["medicare-billing","invoice","payment","history","discounts","user-management","discount-management","patients-management","calculator","settings"].includes(u)&&s(u);return}else if(f?.system==="pharmacy"){["pharmacy","settings"].includes(u)&&s(u);return}else if(f?.system==="emr"){u==="emr"?s("patients"):["patients","appointments","settings"].includes(u)&&s(u);return}s(u==="billing"?"medicare-billing":u==="emr"?"patients":u)},navigateToSystem:u=>{s(u==="billing"?"medicare-billing":u==="emr"?"patients":u==="pharmacy"?"pharmacy":"dashboard")},navigateToLanding:()=>{s("landing")},navigateToLogin:()=>{s("login")}}}const Pl=(r,s)=>{try{return window.__ENV__?.[r]||s}catch{return s}},cg={emr:{baseUrl:Pl("EMR_API_URL","https://api.emr-system.hospital.ph"),apiKey:Pl("EMR_API_KEY",""),version:"v1",endpoints:{patients:"/patients",appointments:"/appointments",medicalRecords:"/medical-records",treatments:"/treatments",diagnoses:"/diagnoses"},syncInterval:15,timeout:3e4},pharmacy:{baseUrl:Pl("PHARMACY_API_URL","https://api.pharmacy-system.hospital.ph"),apiKey:Pl("PHARMACY_API_KEY",""),version:"v1",endpoints:{transactions:"/transactions",inventory:"/inventory",prescriptions:"/prescriptions",pricing:"/pricing"},syncInterval:5,timeout:2e4},billing:{currency:"PHP",taxRate:.12,defaultPaymentMethods:["Cash","Credit Card","GCash","PayMaya","Bank Transfer"]}};class Wb{config={...cg};listeners=[];constructor(){this.loadFromStorage()}getConfig(){return{...this.config}}updateEMRConfig(s){this.config.emr={...this.config.emr,...s},this.saveToStorage(),this.notifyListeners()}updatePharmacyConfig(s){this.config.pharmacy={...this.config.pharmacy,...s},this.saveToStorage(),this.notifyListeners()}updateBillingConfig(s){this.config.billing={...this.config.billing,...s},this.saveToStorage(),this.notifyListeners()}resetToDefaults(){this.config={...cg},this.saveToStorage(),this.notifyListeners()}validateConfig(){const s=[];return this.config.emr.baseUrl?this.isValidUrl(this.config.emr.baseUrl)||s.push("EMR Base URL is not valid"):s.push("EMR Base URL is required"),(!this.config.emr.apiKey||this.config.emr.apiKey==="YOUR_EMR_API_KEY_HERE")&&s.push("EMR API Key is required"),this.config.pharmacy.baseUrl?this.isValidUrl(this.config.pharmacy.baseUrl)||s.push("Pharmacy Base URL is not valid"):s.push("Pharmacy Base URL is required"),(!this.config.pharmacy.apiKey||this.config.pharmacy.apiKey==="YOUR_PHARMACY_API_KEY_HERE")&&s.push("Pharmacy API Key is required"),(this.config.billing.taxRate<0||this.config.billing.taxRate>1)&&s.push("Tax rate must be between 0 and 1"),{valid:s.length===0,errors:s}}async testConfiguration(){const s={emr:{success:!1,error:void 0},pharmacy:{success:!1,error:void 0}};try{const a=`${this.config.emr.baseUrl}/health`,o=await fetch(a,{method:"GET",headers:{Authorization:`Bearer ${this.config.emr.apiKey}`,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.config.emr.timeout)});s.emr.success=o.ok,o.ok||(s.emr.error=`HTTP ${o.status}: ${o.statusText}`)}catch(a){s.emr.error=a instanceof Error?a.message:"Connection failed"}try{const a=`${this.config.pharmacy.baseUrl}/health`,o=await fetch(a,{method:"GET",headers:{Authorization:`Bearer ${this.config.pharmacy.apiKey}`,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.config.pharmacy.timeout)});s.pharmacy.success=o.ok,o.ok||(s.pharmacy.error=`HTTP ${o.status}: ${o.statusText}`)}catch(a){s.pharmacy.error=a instanceof Error?a.message:"Connection failed"}return s}addListener(s){this.listeners.push(s)}removeListener(s){this.listeners=this.listeners.filter(a=>a!==s)}exportConfig(){return JSON.stringify(this.config,null,2)}importConfig(s){try{const a=JSON.parse(s);return this.isValidConfigStructure(a)?(this.config=a,this.saveToStorage(),this.notifyListeners(),{success:!0}):{success:!1,error:"Invalid configuration structure"}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Failed to parse configuration"}}}saveToStorage(){try{localStorage.setItem("hims_integration_config",JSON.stringify(this.config))}catch(s){console.warn("Failed to save configuration to localStorage:",s)}}loadFromStorage(){try{const s=localStorage.getItem("hims_integration_config");if(s){const a=JSON.parse(s);this.isValidConfigStructure(a)&&(this.config=a)}}catch(s){console.warn("Failed to load configuration from localStorage:",s)}}notifyListeners(){this.listeners.forEach(s=>{try{s(this.getConfig())}catch(a){console.error("Error in configuration listener:",a)}})}isValidUrl(s){try{return new URL(s),!0}catch{return!1}}isValidConfigStructure(s){return s&&typeof s=="object"&&s.emr&&s.pharmacy&&s.billing&&typeof s.emr.baseUrl=="string"&&typeof s.emr.apiKey=="string"&&typeof s.pharmacy.baseUrl=="string"&&typeof s.pharmacy.apiKey=="string"&&typeof s.billing.currency=="string"}}const cn=new Wb;class qb{get config(){return cn.getConfig().emr}status={connected:!1,lastSync:null,lastError:null,totalSynced:0};async testConnection(){try{const s=await this.makeRequest("/health");return this.status.connected=!0,this.status.lastError=null,!0}catch(s){return this.status.connected=!1,this.status.lastError=`Connection failed: ${s}`,!1}}async getPatients(s=50,a=0){try{const o=[{id:"emr_001",patientId:"P001",firstName:"Maria",lastName:"Santos",dateOfBirth:"1985-03-15",gender:"Female",contactNumber:"+63917123456",email:"maria.santos@email.com",address:"123 Rizal Street, Quezon City, Metro Manila",emergencyContact:{name:"Juan Santos",relationship:"Spouse",phone:"+63917123457"},medicalHistory:["Gastroenteritis","Previous UTI"],allergies:["None"],currentMedications:["Paracetamol 500mg","Amoxicillin 500mg","Mefenamic Acid 500mg"],lastVisit:"2025-01-05",status:"Active"},{id:"emr_002",patientId:"P004",firstName:"Roberto",lastName:"Cruz",dateOfBirth:"1990-06-12",gender:"Male",contactNumber:"+63918234567",email:"roberto.cruz@email.com",address:"456 EDSA, Makati City, Metro Manila",emergencyContact:{name:"Linda Cruz",relationship:"Wife",phone:"+63918234568"},medicalHistory:["Appendicitis"],allergies:["None"],currentMedications:["Ceftriaxone 1g","Metronidazole 500mg","Tramadol 50mg"],lastVisit:"2025-01-02",status:"Active"}];return this.status.lastSync=new Date,this.status.totalSynced+=o.length,o}catch(o){throw this.status.lastError=`Failed to fetch patients: ${o}`,o}}async getAppointments(s,a,o){try{const l=[{id:"appt_001",patientId:"P001",doctorId:"DOC-001",doctorName:"Dr. Juan Reyes",department:"Internal Medicine",appointmentDate:"2025-01-03",appointmentTime:"10:00",duration:30,type:"Consultation",status:"Completed",notes:"Initial assessment for abdominal pain",cost:1500},{id:"appt_002",patientId:"P004",doctorId:"DOC-002",doctorName:"Dr. Pedro Gonzales",department:"Surgery",appointmentDate:"2024-12-31",appointmentTime:"14:00",duration:120,type:"Surgery",status:"Completed",notes:"Emergency appendectomy",cost:5e4}];return s?l.filter(d=>d.patientId===s):l}catch(l){throw this.status.lastError=`Failed to fetch appointments: ${l}`,l}}async getTreatments(s,a=!1){try{let l=[{id:"treat_001",patientId:"P001",appointmentId:"appt_001",treatmentDate:"2025-01-03",diagnosis:"Acute Gastroenteritis (K52.9)",treatment:"Pain management and antibiotic therapy",medications:[{name:"Paracetamol 500mg",dosage:"500mg",frequency:"Every 6 hours",duration:"7 days",cost:50},{name:"Amoxicillin 500mg",dosage:"500mg",frequency:"Three times daily",duration:"7 days",cost:178.5},{name:"Mefenamic Acid 500mg",dosage:"500mg",frequency:"Three times daily",duration:"5 days",cost:50}],procedures:[{name:"Complete Blood Count",code:"85025",cost:400},{name:"Abdominal Ultrasound",code:"76700",cost:2500}],doctorNotes:"Patient diagnosed with gastroenteritis. Prescribed antibiotics and pain management. Follow-up in 1 week.",totalCost:4678.5,billable:!0}];return s&&(l=l.filter(d=>d.patientId===s)),a&&(l=l.filter(d=>d.billable)),l}catch(o){throw this.status.lastError=`Failed to fetch treatments: ${o}`,o}}async markTreatmentAsBilled(s,a){try{return console.log(`Marking treatment ${s} as billed with invoice ${a}`),!0}catch(o){return this.status.lastError=`Failed to mark treatment as billed: ${o}`,!1}}getStatus(){return this.status}async makeRequest(s,a={}){const o=`${this.config.baseUrl}${this.config.endpoints.patients||s}`,l={headers:{Authorization:`Bearer ${this.config.apiKey}`,"Content-Type":"application/json",Accept:"application/json"},timeout:this.config.timeout},d=await fetch(o,{...l,...a});if(!d.ok)throw new Error(`EMR API Error: ${d.status} ${d.statusText}`);return d.json()}async syncData(){try{if(console.log("Starting EMR data synchronization..."),!await this.testConnection())throw new Error("Cannot connect to EMR system");await this.getPatients(),await this.getAppointments(),await this.getTreatments(),console.log("EMR data synchronization completed successfully")}catch(s){throw console.error("EMR synchronization failed:",s),this.status.lastError=`Sync failed: ${s}`,s}}}const hs=new qb;class Gb{get config(){return cn.getConfig().pharmacy}status={connected:!1,lastSync:null,lastError:null,totalSynced:0};async testConnection(){try{const s=await this.makeRequest("/health");return this.status.connected=!0,this.status.lastError=null,!0}catch(s){return this.status.connected=!1,this.status.lastError=`Connection failed: ${s}`,!1}}async getTransactions(s,a,o,l=!1){try{let u=[{id:"pharm_001",transactionId:"PH-TXN-2025-001",patientId:"P001",patientName:"Maria Santos",pharmacyId:"PHARM-001",pharmacyName:"MedPlus Pharmacy",pharmacyAddress:"Ground Floor, Medical Center Building, Quezon City",transactionDate:"2025-01-04",transactionTime:"15:30",prescriptionId:"RX-2025-001",doctorId:"DOC-001",doctorName:"Dr. Juan Reyes",items:[{id:"item_001",medicationId:"MED-001",medicationName:"Paracetamol",genericName:"Paracetamol",brand:"Biogesic",strength:"500mg",dosageForm:"Tablet",quantity:20,unitPrice:2.5,totalPrice:50,prescriptionRequired:!1,batchNumber:"PC250104",expiryDate:"2026-12-31"},{id:"item_002",medicationId:"MED-002",medicationName:"Amoxicillin",genericName:"Amoxicillin",brand:"Amoxil",strength:"500mg",dosageForm:"Capsule",quantity:21,unitPrice:8.5,totalPrice:178.5,prescriptionRequired:!0,batchNumber:"AMX250104",expiryDate:"2026-11-30"},{id:"item_003",medicationId:"MED-003",medicationName:"Mefenamic Acid",genericName:"Mefenamic Acid",brand:"Dolfenal",strength:"500mg",dosageForm:"Capsule",quantity:10,unitPrice:5,totalPrice:50,prescriptionRequired:!1,batchNumber:"MF250104",expiryDate:"2026-10-31"}],subtotal:278.5,tax:33.42,discount:0,totalAmount:311.92,paymentMethod:"Cash",paymentStatus:"Paid",syncStatus:"Synced",syncedAt:"2025-01-04T15:45:00Z",notes:"Pain medication and antibiotics for abdominal pain treatment"},{id:"pharm_002",transactionId:"PH-TXN-2025-002",patientId:"P004",patientName:"Roberto Cruz",pharmacyId:"PHARM-001",pharmacyName:"MedPlus Pharmacy",pharmacyAddress:"Ground Floor, Medical Center Building, Quezon City",transactionDate:"2025-01-01",transactionTime:"11:15",prescriptionId:"RX-2025-002",doctorId:"DOC-002",doctorName:"Dr. Pedro Gonzales",items:[{id:"item_004",medicationId:"MED-004",medicationName:"Ceftriaxone Sodium",genericName:"Ceftriaxone",brand:"Rocephin",strength:"1g",dosageForm:"Injectable",quantity:6,unitPrice:95,totalPrice:570,prescriptionRequired:!0,batchNumber:"CFT250101",expiryDate:"2026-12-31"},{id:"item_005",medicationId:"MED-005",medicationName:"Metronidazole",genericName:"Metronidazole",brand:"Flagyl",strength:"500mg",dosageForm:"Tablet",quantity:21,unitPrice:6.5,totalPrice:136.5,prescriptionRequired:!0,batchNumber:"MTZ250101",expiryDate:"2026-11-30"},{id:"item_006",medicationId:"MED-006",medicationName:"Tramadol Hydrochloride",genericName:"Tramadol",brand:"Tramal",strength:"50mg",dosageForm:"Capsule",quantity:20,unitPrice:12,totalPrice:240,prescriptionRequired:!0,batchNumber:"TRM250101",expiryDate:"2026-09-30"}],subtotal:946.5,tax:113.58,discount:0,totalAmount:1060.08,paymentMethod:"PhilHealth",paymentStatus:"Paid",syncStatus:"Synced",syncedAt:"2025-01-01T11:30:00Z",notes:"Post-operative medications for appendectomy"},{id:"pharm_003",transactionId:"PH-TXN-2025-003",patientId:"P007",patientName:"Sofia Garcia",pharmacyId:"PHARM-001",pharmacyName:"MedPlus Pharmacy",pharmacyAddress:"Ground Floor, Medical Center Building, Quezon City",transactionDate:"2025-01-03",transactionTime:"09:45",prescriptionId:"RX-2025-003",doctorId:"DOC-003",doctorName:"Dr. Carlos Mendoza",items:[{id:"item_007",medicationId:"MED-007",medicationName:"Omeprazole",genericName:"Omeprazole",brand:"Losec",strength:"20mg",dosageForm:"Capsule",quantity:30,unitPrice:8,totalPrice:240,prescriptionRequired:!0,batchNumber:"OMP250103",expiryDate:"2026-12-31"},{id:"item_008",medicationId:"MED-008",medicationName:"Ondansetron",genericName:"Ondansetron",brand:"Zofran",strength:"4mg",dosageForm:"Tablet",quantity:10,unitPrice:25,totalPrice:250,prescriptionRequired:!0,batchNumber:"OND250103",expiryDate:"2026-10-31"}],subtotal:490,tax:58.8,discount:0,totalAmount:548.8,paymentMethod:"GCash",paymentStatus:"Paid",syncStatus:"Synced",syncedAt:"2025-01-03T10:00:00Z",notes:"Post-operative medications for gallbladder surgery"}];return s&&(u=u.filter(f=>f.patientId===s)),a&&(u=u.filter(f=>f.transactionDate>=a)),o&&(u=u.filter(f=>f.transactionDate<=o)),l&&(u=u.filter(f=>f.syncStatus==="Pending")),this.status.lastSync=new Date,this.status.totalSynced+=u.length,u}catch(d){throw this.status.lastError=`Failed to fetch transactions: ${d}`,d}}async getInventory(s){try{const a=[{id:"inv_001",medicationId:"MED-001",medicationName:"Paracetamol",genericName:"Paracetamol",brand:"Biogesic",strength:"500mg",dosageForm:"Tablet",unitPrice:2.5,stockQuantity:500,reorderLevel:100,status:"In Stock",lastUpdated:"2025-01-08T08:00:00Z"},{id:"inv_002",medicationId:"MED-002",medicationName:"Amoxicillin",genericName:"Amoxicillin",brand:"Amoxil",strength:"500mg",dosageForm:"Capsule",unitPrice:8.5,stockQuantity:25,reorderLevel:30,status:"Low Stock",lastUpdated:"2025-01-08T08:00:00Z"}];return s?a.filter(o=>o.medicationId===s):a}catch(a){throw this.status.lastError=`Failed to fetch inventory: ${a}`,a}}async getPrescriptions(s,a){try{let l=[{id:"presc_001",prescriptionId:"RX-2025-001",patientId:"P001",doctorId:"DOC-001",prescriptionDate:"2025-01-04",medications:[{medicationId:"MED-001",medicationName:"Paracetamol 500mg",dosage:"500mg",frequency:"Every 6 hours as needed",duration:"7 days",quantity:20,instructions:"Take with food for pain relief"},{medicationId:"MED-002",medicationName:"Amoxicillin 500mg",dosage:"500mg",frequency:"Three times daily",duration:"7 days",quantity:21,instructions:"Complete the full course"}],status:"Filled",filledAt:"2025-01-04T15:30:00Z",filledBy:"PharmTech-001"}];return s&&(l=l.filter(d=>d.patientId===s)),a&&(l=l.filter(d=>d.status===a)),l}catch(o){throw this.status.lastError=`Failed to fetch prescriptions: ${o}`,o}}async markTransactionAsSynced(s){try{return console.log(`Marking pharmacy transaction ${s} as synced`),!0}catch(a){return this.status.lastError=`Failed to mark transaction as synced: ${a}`,!1}}async createBillingEntry(s){try{const a={patientId:s.patientId,serviceType:"Pharmacy",description:`Pharmacy Purchase - ${s.pharmacyName}`,items:s.items.map(o=>({description:`${o.medicationName} (${o.strength}) x${o.quantity}`,quantity:o.quantity,unitPrice:o.unitPrice,amount:o.totalPrice})),subtotal:s.subtotal,tax:s.tax,discount:s.discount,total:s.totalAmount,paymentMethod:s.paymentMethod,paymentStatus:s.paymentStatus,externalReference:s.transactionId,notes:s.notes};return console.log("Creating billing entry for pharmacy transaction:",a),!0}catch(a){return this.status.lastError=`Failed to create billing entry: ${a}`,!1}}getStatus(){return this.status}async makeRequest(s,a={}){const o=`${this.config.baseUrl}${this.config.endpoints.transactions||s}`,l={headers:{Authorization:`Bearer ${this.config.apiKey}`,"Content-Type":"application/json",Accept:"application/json"},timeout:this.config.timeout},d=await fetch(o,{...l,...a});if(!d.ok)throw new Error(`Pharmacy API Error: ${d.status} ${d.statusText}`);return d.json()}async syncData(){try{if(console.log("Starting pharmacy data synchronization..."),!await this.testConnection())throw new Error("Cannot connect to pharmacy system");const a=await this.getTransactions(void 0,void 0,void 0,!0);for(const o of a)try{await this.createBillingEntry(o)&&await this.markTransactionAsSynced(o.id)}catch(l){console.error(`Failed to sync transaction ${o.id}:`,l)}console.log(`Pharmacy data synchronization completed. Synced ${a.length} transactions`)}catch(s){throw console.error("Pharmacy synchronization failed:",s),this.status.lastError=`Sync failed: ${s}`,s}}}const $r=new Gb;class Kb{eventListeners={};syncIntervals={};isRunning=!1;async start(){try{console.log("Starting Integration Manager..."),this.isRunning=!0;const s=await hs.testConnection(),a=await $r.testConnection();console.log(`EMR Connection: ${s?"Success":"Failed"}`),console.log(`Pharmacy Connection: ${a?"Success":"Failed"}`),s&&this.startPeriodicEMRSync(),a&&this.startPeriodicPharmacySync(),console.log("Integration Manager started successfully")}catch(s){throw console.error("Failed to start Integration Manager:",s),s}}stop(){console.log("Stopping Integration Manager..."),this.isRunning=!1,Object.values(this.syncIntervals).forEach(s=>{clearInterval(s)}),this.syncIntervals={},console.log("Integration Manager stopped")}startPeriodicEMRSync(){const s=cn.getConfig(),a=setInterval(async()=>{if(this.isRunning)try{this.emitEvent("emr_sync_started",{}),await hs.syncData(),this.emitEvent("emr_sync_completed",{})}catch(o){this.emitEvent("emr_sync_failed",{error:o.toString()})}},s.emr.syncInterval*60*1e3);this.syncIntervals.emr=a}startPeriodicPharmacySync(){const s=cn.getConfig(),a=setInterval(async()=>{if(this.isRunning)try{this.emitEvent("pharmacy_sync_started",{}),await $r.syncData(),this.emitEvent("pharmacy_sync_completed",{})}catch(o){this.emitEvent("pharmacy_sync_failed",{error:o.toString()})}},s.pharmacy.syncInterval*60*1e3);this.syncIntervals.pharmacy=a}async syncEMRData(){this.emitEvent("emr_sync_started",{});try{await hs.syncData(),this.emitEvent("emr_sync_completed",{})}catch(s){throw this.emitEvent("emr_sync_failed",{error:s.toString()}),s}}async syncPharmacyData(){this.emitEvent("pharmacy_sync_started",{});try{await $r.syncData(),this.emitEvent("pharmacy_sync_completed",{})}catch(s){throw this.emitEvent("pharmacy_sync_failed",{error:s.toString()}),s}}async getPatientData(s){try{const[a,o,l,d]=await Promise.all([hs.getPatients(),hs.getAppointments(s),hs.getTreatments(s),$r.getTransactions(s)]);return{patient:a.find(f=>f.patientId===s)||null,appointments:o,treatments:l,pharmacyTransactions:d}}catch(a){throw console.error("Failed to get integrated patient data:",a),a}}async getUnbilledItems(s){try{const[a,o]=await Promise.all([hs.getTreatments(s,!0),$r.getTransactions(s,void 0,void 0,!0)]);return{treatments:a,pharmacyTransactions:o}}catch(a){throw console.error("Failed to get unbilled items:",a),a}}async createIntegratedInvoice(s,a=!0){try{const{patient:o,treatments:l,pharmacyTransactions:d}=await this.getUnbilledItems(s);if(!o)throw new Error("Patient not found");const u=l.map(x=>({type:"treatment",id:x.id,description:x.diagnosis,date:x.treatmentDate,doctor:x.id,items:[...x.medications.map(v=>({description:`${v.name} - ${v.dosage}`,quantity:1,unitPrice:v.cost,amount:v.cost})),...x.procedures.map(v=>({description:`${v.name} (${v.code})`,quantity:1,unitPrice:v.cost,amount:v.cost}))],subtotal:x.totalCost})),f=a?d.map(x=>({type:"pharmacy",id:x.id,description:`Pharmacy Purchase - ${x.pharmacyName}`,date:x.transactionDate,items:x.items.map(v=>({description:`${v.medicationName} (${v.strength}) x${v.quantity}`,quantity:v.quantity,unitPrice:v.unitPrice,amount:v.totalPrice})),subtotal:x.subtotal,tax:x.tax})):[],y={patientId:o.patientId,patientName:`${o.firstName} ${o.lastName}`,treatmentItems:u,pharmacyItems:f,totalTreatments:u.reduce((x,v)=>x+v.subtotal,0),totalPharmacy:f.reduce((x,v)=>x+v.subtotal,0),totalTax:f.reduce((x,v)=>x+(v.tax||0),0)};return y.grandTotal=y.totalTreatments+y.totalPharmacy+y.totalTax,{invoiceData:y,success:!0}}catch(o){return console.error("Failed to create integrated invoice:",o),{invoiceData:null,success:!1}}}getIntegrationStatus(){return{emr:hs.getStatus(),pharmacy:$r.getStatus()}}addEventListener(s,a){this.eventListeners[s]||(this.eventListeners[s]=[]),this.eventListeners[s].push(a)}removeEventListener(s,a){this.eventListeners[s]&&(this.eventListeners[s]=this.eventListeners[s].filter(o=>o!==a))}emitEvent(s,a){const o={event:s,timestamp:new Date,data:a};this.eventListeners[s]&&this.eventListeners[s].forEach(l=>{try{l(o)}catch(d){console.error("Error in event listener:",d)}})}isConnected(){const s=this.getIntegrationStatus();return s.emr.connected||s.pharmacy.connected}getLastSyncTimes(){const s=this.getIntegrationStatus();return{emr:s.emr.lastSync,pharmacy:s.pharmacy.lastSync}}getConnectionErrors(){const s=this.getIntegrationStatus();return{emr:s.emr.lastError,pharmacy:s.pharmacy.lastError}}}const Ot=new Kb;class dg{static async initialize(){try{await Ot.start(),console.log("Integration services initialized successfully")}catch(s){throw console.error("Failed to initialize integration services:",s),s}}static cleanup(){Ot.stop()}}function Mx(r){var s,a,o="";if(typeof r=="string"||typeof r=="number")o+=r;else if(typeof r=="object")if(Array.isArray(r)){var l=r.length;for(s=0;s<l;s++)r[s]&&(a=Mx(r[s]))&&(o&&(o+=" "),o+=a)}else for(a in r)r[a]&&(o&&(o+=" "),o+=a);return o}function Ox(){for(var r,s,a=0,o="",l=arguments.length;a<l;a++)(r=arguments[a])&&(s=Mx(r))&&(o&&(o+=" "),o+=s);return o}const _m="-",Yb=r=>{const s=Xb(r),{conflictingClassGroups:a,conflictingClassGroupModifiers:o}=r;return{getClassGroupId:u=>{const f=u.split(_m);return f[0]===""&&f.length!==1&&f.shift(),Lx(f,s)||Qb(u)},getConflictingClassGroupIds:(u,f)=>{const y=a[u]||[];return f&&o[u]?[...y,...o[u]]:y}}},Lx=(r,s)=>{if(r.length===0)return s.classGroupId;const a=r[0],o=s.nextPart.get(a),l=o?Lx(r.slice(1),o):void 0;if(l)return l;if(s.validators.length===0)return;const d=r.join(_m);return s.validators.find(({validator:u})=>u(d))?.classGroupId},ug=/^\[(.+)\]$/,Qb=r=>{if(ug.test(r)){const s=ug.exec(r)[1],a=s?.substring(0,s.indexOf(":"));if(a)return"arbitrary.."+a}},Xb=r=>{const{theme:s,classGroups:a}=r,o={nextPart:new Map,validators:[]};for(const l in a)Xu(a[l],o,l,s);return o},Xu=(r,s,a,o)=>{r.forEach(l=>{if(typeof l=="string"){const d=l===""?s:mg(s,l);d.classGroupId=a;return}if(typeof l=="function"){if(Jb(l)){Xu(l(o),s,a,o);return}s.validators.push({validator:l,classGroupId:a});return}Object.entries(l).forEach(([d,u])=>{Xu(u,mg(s,d),a,o)})})},mg=(r,s)=>{let a=r;return s.split(_m).forEach(o=>{a.nextPart.has(o)||a.nextPart.set(o,{nextPart:new Map,validators:[]}),a=a.nextPart.get(o)}),a},Jb=r=>r.isThemeGetter,Zb=r=>{if(r<1)return{get:()=>{},set:()=>{}};let s=0,a=new Map,o=new Map;const l=(d,u)=>{a.set(d,u),s++,s>r&&(s=0,o=a,a=new Map)};return{get(d){let u=a.get(d);if(u!==void 0)return u;if((u=o.get(d))!==void 0)return l(d,u),u},set(d,u){a.has(d)?a.set(d,u):l(d,u)}}},Ju="!",Zu=":",e1=Zu.length,t1=r=>{const{prefix:s,experimentalParseClassName:a}=r;let o=l=>{const d=[];let u=0,f=0,y=0,x;for(let N=0;N<l.length;N++){let b=l[N];if(u===0&&f===0){if(b===Zu){d.push(l.slice(y,N)),y=N+e1;continue}if(b==="/"){x=N;continue}}b==="["?u++:b==="]"?u--:b==="("?f++:b===")"&&f--}const v=d.length===0?l:l.substring(y),g=n1(v),S=g!==v,C=x&&x>y?x-y:void 0;return{modifiers:d,hasImportantModifier:S,baseClassName:g,maybePostfixModifierPosition:C}};if(s){const l=s+Zu,d=o;o=u=>u.startsWith(l)?d(u.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(a){const l=o;o=d=>a({className:d,parseClassName:l})}return o},n1=r=>r.endsWith(Ju)?r.substring(0,r.length-1):r.startsWith(Ju)?r.substring(1):r,r1=r=>{const s=Object.fromEntries(r.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const l=[];let d=[];return o.forEach(u=>{u[0]==="["||s[u]?(l.push(...d.sort(),u),d=[]):d.push(u)}),l.push(...d.sort()),l}},s1=r=>({cache:Zb(r.cacheSize),parseClassName:t1(r),sortModifiers:r1(r),...Yb(r)}),a1=/\s+/,i1=(r,s)=>{const{parseClassName:a,getClassGroupId:o,getConflictingClassGroupIds:l,sortModifiers:d}=s,u=[],f=r.trim().split(a1);let y="";for(let x=f.length-1;x>=0;x-=1){const v=f[x],{isExternal:g,modifiers:S,hasImportantModifier:C,baseClassName:N,maybePostfixModifierPosition:b}=a(v);if(g){y=v+(y.length>0?" "+y:y);continue}let j=!!b,E=o(j?N.substring(0,b):N);if(!E){if(!j){y=v+(y.length>0?" "+y:y);continue}if(E=o(N),!E){y=v+(y.length>0?" "+y:y);continue}j=!1}const I=d(S).join(":"),M=C?I+Ju:I,D=M+E;if(u.includes(D))continue;u.push(D);const q=l(E,j);for(let Q=0;Q<q.length;++Q){const U=q[Q];u.push(M+U)}y=v+(y.length>0?" "+y:y)}return y};function o1(){let r=0,s,a,o="";for(;r<arguments.length;)(s=arguments[r++])&&(a=Fx(s))&&(o&&(o+=" "),o+=a);return o}const Fx=r=>{if(typeof r=="string")return r;let s,a="";for(let o=0;o<r.length;o++)r[o]&&(s=Fx(r[o]))&&(a&&(a+=" "),a+=s);return a};function l1(r,...s){let a,o,l,d=u;function u(y){const x=s.reduce((v,g)=>g(v),r());return a=s1(x),o=a.cache.get,l=a.cache.set,d=f,f(y)}function f(y){const x=o(y);if(x)return x;const v=i1(y,a);return l(y,v),v}return function(){return d(o1.apply(null,arguments))}}const Jt=r=>{const s=a=>a[r]||[];return s.isThemeGetter=!0,s},zx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,$x=/^\((?:(\w[\w-]*):)?(.+)\)$/i,c1=/^\d+\/\d+$/,d1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,u1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,m1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,f1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,p1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fa=r=>c1.test(r),lt=r=>!!r&&!Number.isNaN(Number(r)),gs=r=>!!r&&Number.isInteger(Number(r)),Au=r=>r.endsWith("%")&&lt(r.slice(0,-1)),zr=r=>d1.test(r),h1=()=>!0,g1=r=>u1.test(r)&&!m1.test(r),Bx=()=>!1,x1=r=>f1.test(r),y1=r=>p1.test(r),v1=r=>!_e(r)&&!Me(r),w1=r=>ei(r,Vx,Bx),_e=r=>zx.test(r),Js=r=>ei(r,Wx,g1),Ru=r=>ei(r,C1,lt),fg=r=>ei(r,Ux,Bx),j1=r=>ei(r,Hx,y1),El=r=>ei(r,qx,x1),Me=r=>$x.test(r),Hi=r=>ti(r,Wx),b1=r=>ti(r,P1),pg=r=>ti(r,Ux),N1=r=>ti(r,Vx),S1=r=>ti(r,Hx),Dl=r=>ti(r,qx,!0),ei=(r,s,a)=>{const o=zx.exec(r);return o?o[1]?s(o[1]):a(o[2]):!1},ti=(r,s,a=!1)=>{const o=$x.exec(r);return o?o[1]?s(o[1]):a:!1},Ux=r=>r==="position"||r==="percentage",Hx=r=>r==="image"||r==="url",Vx=r=>r==="length"||r==="size"||r==="bg-size",Wx=r=>r==="length",C1=r=>r==="number",P1=r=>r==="family-name",qx=r=>r==="shadow",E1=()=>{const r=Jt("color"),s=Jt("font"),a=Jt("text"),o=Jt("font-weight"),l=Jt("tracking"),d=Jt("leading"),u=Jt("breakpoint"),f=Jt("container"),y=Jt("spacing"),x=Jt("radius"),v=Jt("shadow"),g=Jt("inset-shadow"),S=Jt("text-shadow"),C=Jt("drop-shadow"),N=Jt("blur"),b=Jt("perspective"),j=Jt("aspect"),E=Jt("ease"),I=Jt("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],q=()=>[...D(),Me,_e],Q=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],V=()=>[Me,_e,y],ie=()=>[Fa,"full","auto",...V()],le=()=>[gs,"none","subgrid",Me,_e],we=()=>["auto",{span:["full",gs,Me,_e]},gs,Me,_e],Z=()=>[gs,"auto",Me,_e],ne=()=>["auto","min","max","fr",Me,_e],fe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],me=()=>["start","end","center","stretch","center-safe","end-safe"],se=()=>["auto",...V()],te=()=>[Fa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...V()],L=()=>[r,Me,_e],k=()=>[...D(),pg,fg,{position:[Me,_e]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],A=()=>["auto","cover","contain",N1,w1,{size:[Me,_e]}],T=()=>[Au,Hi,Js],z=()=>["","none","full",x,Me,_e],O=()=>["",lt,Hi,Js],R=()=>["solid","dashed","dotted","double"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>[lt,Au,pg,fg],Y=()=>["","none",N,Me,_e],he=()=>["none",lt,Me,_e],Ne=()=>["none",lt,Me,_e],Qe=()=>[lt,Me,_e],Je=()=>[Fa,"full",...V()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[zr],breakpoint:[zr],color:[h1],container:[zr],"drop-shadow":[zr],ease:["in","out","in-out"],font:[v1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[zr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[zr],shadow:[zr],spacing:["px",lt],text:[zr],"text-shadow":[zr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Fa,_e,Me,j]}],container:["container"],columns:[{columns:[lt,_e,Me,f]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:q()}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ie()}],"inset-x":[{"inset-x":ie()}],"inset-y":[{"inset-y":ie()}],start:[{start:ie()}],end:[{end:ie()}],top:[{top:ie()}],right:[{right:ie()}],bottom:[{bottom:ie()}],left:[{left:ie()}],visibility:["visible","invisible","collapse"],z:[{z:[gs,"auto",Me,_e]}],basis:[{basis:[Fa,"full","auto",f,...V()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[lt,Fa,"auto","initial","none",_e]}],grow:[{grow:["",lt,Me,_e]}],shrink:[{shrink:["",lt,Me,_e]}],order:[{order:[gs,"first","last","none",Me,_e]}],"grid-cols":[{"grid-cols":le()}],"col-start-end":[{col:we()}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":le()}],"row-start-end":[{row:we()}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ne()}],"auto-rows":[{"auto-rows":ne()}],gap:[{gap:V()}],"gap-x":[{"gap-x":V()}],"gap-y":[{"gap-y":V()}],"justify-content":[{justify:[...fe(),"normal"]}],"justify-items":[{"justify-items":[...me(),"normal"]}],"justify-self":[{"justify-self":["auto",...me()]}],"align-content":[{content:["normal",...fe()]}],"align-items":[{items:[...me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...me(),{baseline:["","last"]}]}],"place-content":[{"place-content":fe()}],"place-items":[{"place-items":[...me(),"baseline"]}],"place-self":[{"place-self":["auto",...me()]}],p:[{p:V()}],px:[{px:V()}],py:[{py:V()}],ps:[{ps:V()}],pe:[{pe:V()}],pt:[{pt:V()}],pr:[{pr:V()}],pb:[{pb:V()}],pl:[{pl:V()}],m:[{m:se()}],mx:[{mx:se()}],my:[{my:se()}],ms:[{ms:se()}],me:[{me:se()}],mt:[{mt:se()}],mr:[{mr:se()}],mb:[{mb:se()}],ml:[{ml:se()}],"space-x":[{"space-x":V()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":V()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[f,"screen",...te()]}],"min-w":[{"min-w":[f,"screen","none",...te()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",a,Hi,Js]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,Me,Ru]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Au,_e]}],"font-family":[{font:[b1,_e,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,Me,_e]}],"line-clamp":[{"line-clamp":[lt,"none",Me,Ru]}],leading:[{leading:[d,...V()]}],"list-image":[{"list-image":["none",Me,_e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Me,_e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:[lt,"from-font","auto",Me,Js]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[lt,"auto",Me,_e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me,_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me,_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:k()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:A()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},gs,Me,_e],radial:["",Me,_e],conic:[gs,Me,_e]},S1,j1]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:T()}],"gradient-via-pos":[{via:T()}],"gradient-to-pos":[{to:T()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:O()}],"border-w-x":[{"border-x":O()}],"border-w-y":[{"border-y":O()}],"border-w-s":[{"border-s":O()}],"border-w-e":[{"border-e":O()}],"border-w-t":[{"border-t":O()}],"border-w-r":[{"border-r":O()}],"border-w-b":[{"border-b":O()}],"border-w-l":[{"border-l":O()}],"divide-x":[{"divide-x":O()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":O()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...R(),"hidden","none"]}],"divide-style":[{divide:[...R(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...R(),"none","hidden"]}],"outline-offset":[{"outline-offset":[lt,Me,_e]}],"outline-w":[{outline:["",lt,Hi,Js]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",v,Dl,El]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",g,Dl,El]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[lt,Js]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":O()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",S,Dl,El]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[lt,Me,_e]}],"mix-blend":[{"mix-blend":[...X(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":X()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[lt]}],"mask-image-linear-from-pos":[{"mask-linear-from":B()}],"mask-image-linear-to-pos":[{"mask-linear-to":B()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":B()}],"mask-image-t-to-pos":[{"mask-t-to":B()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":B()}],"mask-image-r-to-pos":[{"mask-r-to":B()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":B()}],"mask-image-b-to-pos":[{"mask-b-to":B()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":B()}],"mask-image-l-to-pos":[{"mask-l-to":B()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":B()}],"mask-image-x-to-pos":[{"mask-x-to":B()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":B()}],"mask-image-y-to-pos":[{"mask-y-to":B()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[Me,_e]}],"mask-image-radial-from-pos":[{"mask-radial-from":B()}],"mask-image-radial-to-pos":[{"mask-radial-to":B()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[lt]}],"mask-image-conic-from-pos":[{"mask-conic-from":B()}],"mask-image-conic-to-pos":[{"mask-conic-to":B()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:k()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:A()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Me,_e]}],filter:[{filter:["","none",Me,_e]}],blur:[{blur:Y()}],brightness:[{brightness:[lt,Me,_e]}],contrast:[{contrast:[lt,Me,_e]}],"drop-shadow":[{"drop-shadow":["","none",C,Dl,El]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",lt,Me,_e]}],"hue-rotate":[{"hue-rotate":[lt,Me,_e]}],invert:[{invert:["",lt,Me,_e]}],saturate:[{saturate:[lt,Me,_e]}],sepia:[{sepia:["",lt,Me,_e]}],"backdrop-filter":[{"backdrop-filter":["","none",Me,_e]}],"backdrop-blur":[{"backdrop-blur":Y()}],"backdrop-brightness":[{"backdrop-brightness":[lt,Me,_e]}],"backdrop-contrast":[{"backdrop-contrast":[lt,Me,_e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",lt,Me,_e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[lt,Me,_e]}],"backdrop-invert":[{"backdrop-invert":["",lt,Me,_e]}],"backdrop-opacity":[{"backdrop-opacity":[lt,Me,_e]}],"backdrop-saturate":[{"backdrop-saturate":[lt,Me,_e]}],"backdrop-sepia":[{"backdrop-sepia":["",lt,Me,_e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":V()}],"border-spacing-x":[{"border-spacing-x":V()}],"border-spacing-y":[{"border-spacing-y":V()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Me,_e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[lt,"initial",Me,_e]}],ease:[{ease:["linear","initial",E,Me,_e]}],delay:[{delay:[lt,Me,_e]}],animate:[{animate:["none",I,Me,_e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Me,_e]}],"perspective-origin":[{"perspective-origin":q()}],rotate:[{rotate:he()}],"rotate-x":[{"rotate-x":he()}],"rotate-y":[{"rotate-y":he()}],"rotate-z":[{"rotate-z":he()}],scale:[{scale:Ne()}],"scale-x":[{"scale-x":Ne()}],"scale-y":[{"scale-y":Ne()}],"scale-z":[{"scale-z":Ne()}],"scale-3d":["scale-3d"],skew:[{skew:Qe()}],"skew-x":[{"skew-x":Qe()}],"skew-y":[{"skew-y":Qe()}],transform:[{transform:[Me,_e,"","none","gpu","cpu"]}],"transform-origin":[{origin:q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Je()}],"translate-x":[{"translate-x":Je()}],"translate-y":[{"translate-y":Je()}],"translate-z":[{"translate-z":Je()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me,_e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me,_e]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[lt,Hi,Js,Ru]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},D1=l1(E1);function Ye(...r){return D1(Ox(r))}function je({className:r,...s}){return e.jsx("div",{"data-slot":"card",className:Ye("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",r),...s})}function st({className:r,...s}){return e.jsx("div",{"data-slot":"card-header",className:Ye("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...s})}function at({className:r,...s}){return e.jsx("h4",{"data-slot":"card-title",className:Ye("leading-none",r),...s})}function dn({className:r,...s}){return e.jsx("p",{"data-slot":"card-description",className:Ye("text-muted-foreground",r),...s})}function Se({className:r,...s}){return e.jsx("div",{"data-slot":"card-content",className:Ye("px-6 [&:last-child]:pb-6",r),...s})}function hg(r,s){if(typeof r=="function")return r(s);r!=null&&(r.current=s)}function Vr(...r){return s=>{let a=!1;const o=r.map(l=>{const d=hg(l,s);return!a&&typeof d=="function"&&(a=!0),d});if(a)return()=>{for(let l=0;l<o.length;l++){const d=o[l];typeof d=="function"?d():hg(r[l],null)}}}}function xt(...r){return p.useCallback(Vr(...r),r)}function Ns(r){const s=k1(r),a=p.forwardRef((o,l)=>{const{children:d,...u}=o,f=p.Children.toArray(d),y=f.find(R1);if(y){const x=y.props.children,v=f.map(g=>g===y?p.Children.count(x)>1?p.Children.only(null):p.isValidElement(x)?x.props.children:null:g);return e.jsx(s,{...u,ref:l,children:p.isValidElement(x)?p.cloneElement(x,void 0,v):null})}return e.jsx(s,{...u,ref:l,children:d})});return a.displayName=`${r}.Slot`,a}var Gx=Ns("Slot");function k1(r){const s=p.forwardRef((a,o)=>{const{children:l,...d}=a;if(p.isValidElement(l)){const u=I1(l),f=T1(d,l.props);return l.type!==p.Fragment&&(f.ref=o?Vr(o,u):u),p.cloneElement(l,f)}return p.Children.count(l)>1?p.Children.only(null):null});return s.displayName=`${r}.SlotClone`,s}var Kx=Symbol("radix.slottable");function A1(r){const s=({children:a})=>e.jsx(e.Fragment,{children:a});return s.displayName=`${r}.Slottable`,s.__radixId=Kx,s}function R1(r){return p.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===Kx}function T1(r,s){const a={...s};for(const o in s){const l=r[o],d=s[o];/^on[A-Z]/.test(o)?l&&d?a[o]=(...f)=>{const y=d(...f);return l(...f),y}:l&&(a[o]=l):o==="style"?a[o]={...l,...d}:o==="className"&&(a[o]=[l,d].filter(Boolean).join(" "))}return{...r,...a}}function I1(r){let s=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?r.ref:(s=Object.getOwnPropertyDescriptor(r,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?r.props.ref:r.props.ref||r.ref)}const gg=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,xg=Ox,Yx=(r,s)=>a=>{var o;if(s?.variants==null)return xg(r,a?.class,a?.className);const{variants:l,defaultVariants:d}=s,u=Object.keys(l).map(x=>{const v=a?.[x],g=d?.[x];if(v===null)return null;const S=gg(v)||gg(g);return l[x][S]}),f=a&&Object.entries(a).reduce((x,v)=>{let[g,S]=v;return S===void 0||(x[g]=S),x},{}),y=s==null||(o=s.compoundVariants)===null||o===void 0?void 0:o.reduce((x,v)=>{let{class:g,className:S,...C}=v;return Object.entries(C).every(N=>{let[b,j]=N;return Array.isArray(j)?j.includes({...d,...f}[b]):{...d,...f}[b]===j})?[...x,g,S]:x},[]);return xg(r,u,y,a?.class,a?.className)},Mm=Yx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),oe=p.forwardRef(({className:r,variant:s,size:a,asChild:o=!1,...l},d)=>{const u=o?Gx:"button";return e.jsx(u,{"data-slot":"button",className:Ye(Mm({variant:s,size:a,className:r})),ref:d,...l})});oe.displayName="Button";const _1=Yx("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ct({className:r,variant:s,asChild:a=!1,...o}){const l=a?Gx:"span";return e.jsx(l,{"data-slot":"badge",className:Ye(_1({variant:s}),r),...o})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,a,o)=>o?o.toUpperCase():a.toLowerCase()),yg=r=>{const s=O1(r);return s.charAt(0).toUpperCase()+s.slice(1)},Qx=(...r)=>r.filter((s,a,o)=>!!s&&s.trim()!==""&&o.indexOf(s)===a).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=p.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:d,iconNode:u,...f},y)=>p.createElement("svg",{ref:y,...L1,width:s,height:s,stroke:r,strokeWidth:o?Number(a)*24/Number(s):a,className:Qx("lucide",l),...f},[...u.map(([x,v])=>p.createElement(x,v)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(r,s)=>{const a=p.forwardRef(({className:o,...l},d)=>p.createElement(F1,{ref:d,iconNode:s,className:Qx(`lucide-${M1(yg(r))}`,`lucide-${r}`,o),...l}));return a.displayName=yg(r),a};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],sa=Pe("activity",z1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Om=Pe("arrow-left",$1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],vs=Pe("arrow-right",B1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],H1=Pe("banknote",U1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Gi=Pe("calculator",V1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wa=Pe("calendar",W1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],G1=Pe("chart-column",q1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Lm=Pe("check",K1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Xl=Pe("chevron-down",Y1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],X1=Pe("chevron-left",Q1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Z1=Pe("chevron-up",J1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Xx=Pe("chevrons-up-down",eN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qi=Pe("circle-alert",tN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wr=Pe("circle-check-big",nN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Jl=Pe("circle-x",rN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ws=Pe("clock",sN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],js=Pe("credit-card",aN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Zl=Pe("database",iN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ul=Pe("dollar-sign",oN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Fm=Pe("download",lN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],dN=Pe("ellipsis",cN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],vg=Pe("external-link",uN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],fN=Pe("eye-off",mN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hr=Pe("eye",pN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],gN=Pe("file-check",hN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bs=Pe("file-text",xN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],vN=Pe("flask-conical",yN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],na=Pe("gift",wN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],bN=Pe("heart",jN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],em=Pe("history",NN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]],wg=Pe("hospital",SN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],PN=Pe("key",CN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],DN=Pe("loader-circle",EN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],AN=Pe("lock",kN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],jg=Pe("log-out",RN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],IN=Pe("package",TN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],MN=Pe("pen",_N);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Jx=Pe("percent",ON);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],FN=Pe("phone",LN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],Nr=Pe("pill",zN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ya=Pe("plus",$N);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Xi=Pe("printer",BN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],zn=Pe("receipt",UN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ln=Pe("refresh-cw",HN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],WN=Pe("save",VN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ms=Pe("search",qN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Zx=Pe("send",GN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qa=Pe("settings",KN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],e0=Pe("shield",YN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],bg=Pe("smartphone",QN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ng=Pe("square-check-big",XN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ec=Pe("square-pen",JN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Sg=Pe("square",ZN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],t2=Pe("stethoscope",e2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Sr=Pe("tag",n2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],Cg=Pe("test-tube",r2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]],a2=Pe("toggle-right",s2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],qr=Pe("trash-2",i2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],l2=Pe("trending-down",o2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],d2=Pe("trending-up",c2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],t0=Pe("triangle-alert",u2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],f2=Pe("upload",m2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],h2=Pe("user-check",p2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],Ji=Pe("user-cog",g2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],n0=Pe("user-plus",x2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],v2=Pe("user-x",y2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tc=Pe("user",w2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],yn=Pe("users",j2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],N2=Pe("wifi-off",b2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],C2=Pe("wifi",S2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],E2=Pe("x",P2);var so=Ix();const r0=Tx(so);function D2(r){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s.appendChild(a),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r))}const k2=r=>{switch(r){case"success":return T2;case"info":return _2;case"warning":return I2;case"error":return M2;default:return null}},A2=Array(12).fill(0),R2=({visible:r,className:s})=>ve.createElement("div",{className:["sonner-loading-wrapper",s].filter(Boolean).join(" "),"data-visible":r},ve.createElement("div",{className:"sonner-spinner"},A2.map((a,o)=>ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),T2=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),I2=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_2=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),M2=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),O2=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),L2=()=>{const[r,s]=ve.useState(document.hidden);return ve.useEffect(()=>{const a=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),r};let tm=1;class F2{constructor(){this.subscribe=s=>(this.subscribers.push(s),()=>{const a=this.subscribers.indexOf(s);this.subscribers.splice(a,1)}),this.publish=s=>{this.subscribers.forEach(a=>a(s))},this.addToast=s=>{this.publish(s),this.toasts=[...this.toasts,s]},this.create=s=>{var a;const{message:o,...l}=s,d=typeof s?.id=="number"||((a=s.id)==null?void 0:a.length)>0?s.id:tm++,u=this.toasts.find(y=>y.id===d),f=s.dismissible===void 0?!0:s.dismissible;return this.dismissedToasts.has(d)&&this.dismissedToasts.delete(d),u?this.toasts=this.toasts.map(y=>y.id===d?(this.publish({...y,...s,id:d,title:o}),{...y,...s,id:d,dismissible:f,title:o}):y):this.addToast({title:o,...l,dismissible:f,id:d}),d},this.dismiss=s=>(s?(this.dismissedToasts.add(s),requestAnimationFrame(()=>this.subscribers.forEach(a=>a({id:s,dismiss:!0})))):this.toasts.forEach(a=>{this.subscribers.forEach(o=>o({id:a.id,dismiss:!0}))}),s),this.message=(s,a)=>this.create({...a,message:s}),this.error=(s,a)=>this.create({...a,message:s,type:"error"}),this.success=(s,a)=>this.create({...a,type:"success",message:s}),this.info=(s,a)=>this.create({...a,type:"info",message:s}),this.warning=(s,a)=>this.create({...a,type:"warning",message:s}),this.loading=(s,a)=>this.create({...a,type:"loading",message:s}),this.promise=(s,a)=>{if(!a)return;let o;a.loading!==void 0&&(o=this.create({...a,promise:s,type:"loading",message:a.loading,description:typeof a.description!="function"?a.description:void 0}));const l=Promise.resolve(s instanceof Function?s():s);let d=o!==void 0,u;const f=l.then(async x=>{if(u=["resolve",x],ve.isValidElement(x))d=!1,this.create({id:o,type:"default",message:x});else if($2(x)&&!x.ok){d=!1;const g=typeof a.error=="function"?await a.error(`HTTP error! status: ${x.status}`):a.error,S=typeof a.description=="function"?await a.description(`HTTP error! status: ${x.status}`):a.description,N=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:o,type:"error",description:S,...N})}else if(x instanceof Error){d=!1;const g=typeof a.error=="function"?await a.error(x):a.error,S=typeof a.description=="function"?await a.description(x):a.description,N=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:o,type:"error",description:S,...N})}else if(a.success!==void 0){d=!1;const g=typeof a.success=="function"?await a.success(x):a.success,S=typeof a.description=="function"?await a.description(x):a.description,N=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:o,type:"success",description:S,...N})}}).catch(async x=>{if(u=["reject",x],a.error!==void 0){d=!1;const v=typeof a.error=="function"?await a.error(x):a.error,g=typeof a.description=="function"?await a.description(x):a.description,C=typeof v=="object"&&!ve.isValidElement(v)?v:{message:v};this.create({id:o,type:"error",description:g,...C})}}).finally(()=>{d&&(this.dismiss(o),o=void 0),a.finally==null||a.finally.call(a)}),y=()=>new Promise((x,v)=>f.then(()=>u[0]==="reject"?v(u[1]):x(u[1])).catch(v));return typeof o!="string"&&typeof o!="number"?{unwrap:y}:Object.assign(o,{unwrap:y})},this.custom=(s,a)=>{const o=a?.id||tm++;return this.create({jsx:s(o),id:o,...a}),o},this.getActiveToasts=()=>this.toasts.filter(s=>!this.dismissedToasts.has(s.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const An=new F2,z2=(r,s)=>{const a=s?.id||tm++;return An.addToast({title:r,...s,id:a}),a},$2=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",B2=z2,U2=()=>An.toasts,H2=()=>An.getActiveToasts(),ce=Object.assign(B2,{success:An.success,info:An.info,warning:An.warning,error:An.error,custom:An.custom,message:An.message,promise:An.promise,dismiss:An.dismiss,loading:An.loading},{getHistory:U2,getToasts:H2});D2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function kl(r){return r.label!==void 0}const V2=3,W2="24px",q2="16px",Pg=4e3,G2=356,K2=14,Y2=45,Q2=200;function vr(...r){return r.filter(Boolean).join(" ")}function X2(r){const[s,a]=r.split("-"),o=[];return s&&o.push(s),a&&o.push(a),o}const J2=r=>{var s,a,o,l,d,u,f,y,x;const{invert:v,toast:g,unstyled:S,interacting:C,setHeights:N,visibleToasts:b,heights:j,index:E,toasts:I,expanded:M,removeToast:D,defaultRichColors:q,closeButton:Q,style:U,cancelButtonStyle:V,actionButtonStyle:ie,className:le="",descriptionClassName:we="",duration:Z,position:ne,gap:fe,expandByDefault:me,classNames:se,icons:te,closeButtonAriaLabel:L="Close toast"}=r,[k,K]=ve.useState(null),[A,T]=ve.useState(null),[z,O]=ve.useState(!1),[R,X]=ve.useState(!1),[B,Y]=ve.useState(!1),[he,Ne]=ve.useState(!1),[Qe,Je]=ve.useState(!1),[yt,kt]=ve.useState(0),[H,Ge]=ve.useState(0),ht=ve.useRef(g.duration||Z||Pg),ae=ve.useRef(null),Xe=ve.useRef(null),Oe=E===0,$e=E+1<=b,nt=g.type,rt=g.dismissible!==!1,tt=g.className||"",jt=g.descriptionClassName||"",W=ve.useMemo(()=>j.findIndex(Ee=>Ee.toastId===g.id)||0,[j,g.id]),be=ve.useMemo(()=>{var Ee;return(Ee=g.closeButton)!=null?Ee:Q},[g.closeButton,Q]),Be=ve.useMemo(()=>g.duration||Z||Pg,[g.duration,Z]),He=ve.useRef(0),ft=ve.useRef(0),zt=ve.useRef(0),Et=ve.useRef(null),[Ze,Nt]=ne.split("-"),At=ve.useMemo(()=>j.reduce((Ee,Le,Te)=>Te>=W?Ee:Ee+Le.height,0),[j,W]),Pt=L2(),Ht=g.invert||v,Qn=nt==="loading";ft.current=ve.useMemo(()=>W*fe+At,[W,At]),ve.useEffect(()=>{ht.current=Be},[Be]),ve.useEffect(()=>{O(!0)},[]),ve.useEffect(()=>{const Ee=Xe.current;if(Ee){const Le=Ee.getBoundingClientRect().height;return Ge(Le),N(Te=>[{toastId:g.id,height:Le,position:g.position},...Te]),()=>N(Te=>Te.filter(ot=>ot.toastId!==g.id))}},[N,g.id]),ve.useLayoutEffect(()=>{if(!z)return;const Ee=Xe.current,Le=Ee.style.height;Ee.style.height="auto";const Te=Ee.getBoundingClientRect().height;Ee.style.height=Le,Ge(Te),N(ot=>ot.find(St=>St.toastId===g.id)?ot.map(St=>St.toastId===g.id?{...St,height:Te}:St):[{toastId:g.id,height:Te,position:g.position},...ot])},[z,g.title,g.description,N,g.id,g.jsx,g.action,g.cancel]);const $t=ve.useCallback(()=>{X(!0),kt(ft.current),N(Ee=>Ee.filter(Le=>Le.toastId!==g.id)),setTimeout(()=>{D(g)},Q2)},[g,D,N,ft]);ve.useEffect(()=>{if(g.promise&&nt==="loading"||g.duration===1/0||g.type==="loading")return;let Ee;return M||C||Pt?(()=>{if(zt.current<He.current){const ot=new Date().getTime()-He.current;ht.current=ht.current-ot}zt.current=new Date().getTime()})():(()=>{ht.current!==1/0&&(He.current=new Date().getTime(),Ee=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),$t()},ht.current))})(),()=>clearTimeout(Ee)},[M,C,g,nt,Pt,$t]),ve.useEffect(()=>{g.delete&&($t(),g.onDismiss==null||g.onDismiss.call(g,g))},[$t,g.delete]);function P(){var Ee;if(te?.loading){var Le;return ve.createElement("div",{className:vr(se?.loader,g==null||(Le=g.classNames)==null?void 0:Le.loader,"sonner-loader"),"data-visible":nt==="loading"},te.loading)}return ve.createElement(R2,{className:vr(se?.loader,g==null||(Ee=g.classNames)==null?void 0:Ee.loader),visible:nt==="loading"})}const de=g.icon||te?.[nt]||k2(nt);var Re,Ue;return ve.createElement("li",{tabIndex:0,ref:Xe,className:vr(le,tt,se?.toast,g==null||(s=g.classNames)==null?void 0:s.toast,se?.default,se?.[nt],g==null||(a=g.classNames)==null?void 0:a[nt]),"data-sonner-toast":"","data-rich-colors":(Re=g.richColors)!=null?Re:q,"data-styled":!(g.jsx||g.unstyled||S),"data-mounted":z,"data-promise":!!g.promise,"data-swiped":Qe,"data-removed":R,"data-visible":$e,"data-y-position":Ze,"data-x-position":Nt,"data-index":E,"data-front":Oe,"data-swiping":B,"data-dismissible":rt,"data-type":nt,"data-invert":Ht,"data-swipe-out":he,"data-swipe-direction":A,"data-expanded":!!(M||me&&z),"data-testid":g.testId,style:{"--index":E,"--toasts-before":E,"--z-index":I.length-E,"--offset":`${R?yt:ft.current}px`,"--initial-height":me?"auto":`${H}px`,...U,...g.style},onDragEnd:()=>{Y(!1),K(null),Et.current=null},onPointerDown:Ee=>{Ee.button!==2&&(Qn||!rt||(ae.current=new Date,kt(ft.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(Y(!0),Et.current={x:Ee.clientX,y:Ee.clientY})))},onPointerUp:()=>{var Ee,Le,Te;if(he||!rt)return;Et.current=null;const ot=Number(((Ee=Xe.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),bt=Number(((Le=Xe.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),St=new Date().getTime()-((Te=ae.current)==null?void 0:Te.getTime()),vt=k==="x"?ot:bt,Bn=Math.abs(vt)/St;if(Math.abs(vt)>=Y2||Bn>.11){kt(ft.current),g.onDismiss==null||g.onDismiss.call(g,g),T(k==="x"?ot>0?"right":"left":bt>0?"down":"up"),$t(),Ne(!0);return}else{var dt,ut;(dt=Xe.current)==null||dt.style.setProperty("--swipe-amount-x","0px"),(ut=Xe.current)==null||ut.style.setProperty("--swipe-amount-y","0px")}Je(!1),Y(!1),K(null)},onPointerMove:Ee=>{var Le,Te,ot;if(!Et.current||!rt||((Le=window.getSelection())==null?void 0:Le.toString().length)>0)return;const St=Ee.clientY-Et.current.y,vt=Ee.clientX-Et.current.x;var Bn;const dt=(Bn=r.swipeDirections)!=null?Bn:X2(ne);!k&&(Math.abs(vt)>1||Math.abs(St)>1)&&K(Math.abs(vt)>Math.abs(St)?"x":"y");let ut={x:0,y:0};const Lt=Vt=>1/(1.5+Math.abs(Vt)/20);if(k==="y"){if(dt.includes("top")||dt.includes("bottom"))if(dt.includes("top")&&St<0||dt.includes("bottom")&&St>0)ut.y=St;else{const Vt=St*Lt(St);ut.y=Math.abs(Vt)<Math.abs(St)?Vt:St}}else if(k==="x"&&(dt.includes("left")||dt.includes("right")))if(dt.includes("left")&&vt<0||dt.includes("right")&&vt>0)ut.x=vt;else{const Vt=vt*Lt(vt);ut.x=Math.abs(Vt)<Math.abs(vt)?Vt:vt}(Math.abs(ut.x)>0||Math.abs(ut.y)>0)&&Je(!0),(Te=Xe.current)==null||Te.style.setProperty("--swipe-amount-x",`${ut.x}px`),(ot=Xe.current)==null||ot.style.setProperty("--swipe-amount-y",`${ut.y}px`)}},be&&!g.jsx&&nt!=="loading"?ve.createElement("button",{"aria-label":L,"data-disabled":Qn,"data-close-button":!0,onClick:Qn||!rt?()=>{}:()=>{$t(),g.onDismiss==null||g.onDismiss.call(g,g)},className:vr(se?.closeButton,g==null||(o=g.classNames)==null?void 0:o.closeButton)},(Ue=te?.close)!=null?Ue:O2):null,(nt||g.icon||g.promise)&&g.icon!==null&&(te?.[nt]!==null||g.icon)?ve.createElement("div",{"data-icon":"",className:vr(se?.icon,g==null||(l=g.classNames)==null?void 0:l.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||P():null,g.type!=="loading"?de:null):null,ve.createElement("div",{"data-content":"",className:vr(se?.content,g==null||(d=g.classNames)==null?void 0:d.content)},ve.createElement("div",{"data-title":"",className:vr(se?.title,g==null||(u=g.classNames)==null?void 0:u.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ve.createElement("div",{"data-description":"",className:vr(we,jt,se?.description,g==null||(f=g.classNames)==null?void 0:f.description)},typeof g.description=="function"?g.description():g.description):null),ve.isValidElement(g.cancel)?g.cancel:g.cancel&&kl(g.cancel)?ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||V,onClick:Ee=>{kl(g.cancel)&&rt&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ee),$t())},className:vr(se?.cancelButton,g==null||(y=g.classNames)==null?void 0:y.cancelButton)},g.cancel.label):null,ve.isValidElement(g.action)?g.action:g.action&&kl(g.action)?ve.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||ie,onClick:Ee=>{kl(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ee),!Ee.defaultPrevented&&$t())},className:vr(se?.actionButton,g==null||(x=g.classNames)==null?void 0:x.actionButton)},g.action.label):null)};function Eg(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function Z2(r,s){const a={};return[r,s].forEach((o,l)=>{const d=l===1,u=d?"--mobile-offset":"--offset",f=d?q2:W2;function y(x){["top","right","bottom","left"].forEach(v=>{a[`${u}-${v}`]=typeof x=="number"?`${x}px`:x})}typeof o=="number"||typeof o=="string"?y(o):typeof o=="object"?["top","right","bottom","left"].forEach(x=>{o[x]===void 0?a[`${u}-${x}`]=f:a[`${u}-${x}`]=typeof o[x]=="number"?`${o[x]}px`:o[x]}):y(f)}),a}const s0=ve.forwardRef(function(s,a){const{id:o,invert:l,position:d="bottom-right",hotkey:u=["altKey","KeyT"],expand:f,closeButton:y,className:x,offset:v,mobileOffset:g,theme:S="light",richColors:C,duration:N,style:b,visibleToasts:j=V2,toastOptions:E,dir:I=Eg(),gap:M=K2,icons:D,containerAriaLabel:q="Notifications"}=s,[Q,U]=ve.useState([]),V=ve.useMemo(()=>o?Q.filter(z=>z.toasterId===o):Q.filter(z=>!z.toasterId),[Q,o]),ie=ve.useMemo(()=>Array.from(new Set([d].concat(V.filter(z=>z.position).map(z=>z.position)))),[V,d]),[le,we]=ve.useState([]),[Z,ne]=ve.useState(!1),[fe,me]=ve.useState(!1),[se,te]=ve.useState(S!=="system"?S:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=ve.useRef(null),k=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=ve.useRef(null),A=ve.useRef(!1),T=ve.useCallback(z=>{U(O=>{var R;return(R=O.find(X=>X.id===z.id))!=null&&R.delete||An.dismiss(z.id),O.filter(({id:X})=>X!==z.id)})},[]);return ve.useEffect(()=>An.subscribe(z=>{if(z.dismiss){requestAnimationFrame(()=>{U(O=>O.map(R=>R.id===z.id?{...R,delete:!0}:R))});return}setTimeout(()=>{r0.flushSync(()=>{U(O=>{const R=O.findIndex(X=>X.id===z.id);return R!==-1?[...O.slice(0,R),{...O[R],...z},...O.slice(R+1)]:[z,...O]})})})}),[Q]),ve.useEffect(()=>{if(S!=="system"){te(S);return}if(S==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;const z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:O})=>{te(O?"dark":"light")})}catch{z.addListener(({matches:R})=>{try{te(R?"dark":"light")}catch(X){console.error(X)}})}},[S]),ve.useEffect(()=>{Q.length<=1&&ne(!1)},[Q]),ve.useEffect(()=>{const z=O=>{var R;if(u.every(Y=>O[Y]||O.code===Y)){var B;ne(!0),(B=L.current)==null||B.focus()}O.code==="Escape"&&(document.activeElement===L.current||(R=L.current)!=null&&R.contains(document.activeElement))&&ne(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[u]),ve.useEffect(()=>{if(L.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,A.current=!1)}},[L.current]),ve.createElement("section",{ref:a,"aria-label":`${q} ${k}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ie.map((z,O)=>{var R;const[X,B]=z.split("-");return V.length?ve.createElement("ol",{key:z,dir:I==="auto"?Eg():I,tabIndex:-1,ref:L,className:x,"data-sonner-toaster":!0,"data-sonner-theme":se,"data-y-position":X,"data-x-position":B,style:{"--front-toast-height":`${((R=le[0])==null?void 0:R.height)||0}px`,"--width":`${G2}px`,"--gap":`${M}px`,...b,...Z2(v,g)},onBlur:Y=>{A.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(A.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||A.current||(A.current=!0,K.current=Y.relatedTarget)},onMouseEnter:()=>ne(!0),onMouseMove:()=>ne(!0),onMouseLeave:()=>{fe||ne(!1)},onDragEnd:()=>ne(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||me(!0)},onPointerUp:()=>me(!1)},V.filter(Y=>!Y.position&&O===0||Y.position===z).map((Y,he)=>{var Ne,Qe;return ve.createElement(J2,{key:Y.id,icons:D,index:he,toast:Y,defaultRichColors:C,duration:(Ne=E?.duration)!=null?Ne:N,className:E?.className,descriptionClassName:E?.descriptionClassName,invert:l,visibleToasts:j,closeButton:(Qe=E?.closeButton)!=null?Qe:y,interacting:fe,position:z,style:E?.style,unstyled:E?.unstyled,classNames:E?.classNames,cancelButtonStyle:E?.cancelButtonStyle,actionButtonStyle:E?.actionButtonStyle,closeButtonAriaLabel:E?.closeButtonAriaLabel,removeToast:T,toasts:V.filter(Je=>Je.position==Y.position),heights:le.filter(Je=>Je.position==Y.position),setHeights:we,expandByDefault:f,gap:M,expanded:Z,swipeDirections:s.swipeDirections})})):null}))}),Dg=Object.freeze(Object.defineProperty({__proto__:null,Toaster:s0,toast:ce},Symbol.toStringTag,{value:"Module"}));function kg({onNavigateToView:r}){const[s,a]=p.useState(!1),o=async()=>{a(!0),await new Promise(f=>setTimeout(f,1e3)),a(!1),ce.success("Dashboard data refreshed successfully!")},l=[{title:"Total Revenue Today",value:"45,847",change:"+18% from yesterday",positive:!0,icon:Ul,bgColor:"bg-teal-50",iconColor:"#358E83"},{title:"Pending Invoices",value:"23",change:"5 critical items",positive:!1,icon:t0,bgColor:"bg-red-50",iconColor:"#E94D61"},{title:"Due This Week",value:"156",change:"Next 7 days",positive:null,icon:Wa,bgColor:"bg-yellow-50",iconColor:"#F59E0B"},{title:"Processed Payments",value:"127,450",change:"+24% from yesterday",positive:!0,icon:Wr,bgColor:"bg-green-50",iconColor:"#10B981"}],d=[{id:1,type:"payment",description:"Payment received from Juan Dela Cruz",amount:"2,500",time:"2 minutes ago"},{id:2,type:"invoice",description:"Invoice #INV-2024-001 generated",amount:"8,750",time:"15 minutes ago"},{id:3,type:"discount",description:"Senior citizen discount applied",amount:"-350",time:"1 hour ago"},{id:4,type:"payment",description:"GCash payment processed",amount:"4,200",time:"2 hours ago"}],u=()=>new Date().toLocaleString("en-PH",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-1",children:[e.jsx(ws,{className:"h-4 w-4 mr-1"}),"Last updated: 2 minutes ago"]}),e.jsx("p",{className:"text-xs text-gray-400",children:u()})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((f,y)=>{const x=f.icon;return e.jsx(je,{className:`${f.bgColor} border-0`,children:e.jsxs(Se,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"p-2 rounded-lg bg-white/80",children:e.jsx(x,{className:"h-6 w-6",style:{color:f.iconColor}})})})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:f.title}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:f.value}),e.jsxs("p",{className:`text-xs flex items-center ${f.positive===!0?"text-green-600":f.positive===!1?"text-red-600":"text-gray-600"}`,children:[f.positive===!0&&e.jsx(d2,{className:"h-3 w-3 mr-1"}),f.positive===!1&&e.jsx(l2,{className:"h-3 w-3 mr-1"}),f.change]})]})]})},y)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(je,{children:[e.jsx(st,{children:e.jsx(at,{className:"text-lg",children:"Quick Actions"})}),e.jsxs(Se,{className:"space-y-3",children:[e.jsxs(oe,{className:"w-full justify-start h-auto p-4",style:{backgroundColor:"#358E83"},onClick:()=>r?.("invoice"),children:[e.jsx(bs,{className:"h-4 w-4 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Generate Invoice"}),e.jsx("div",{className:"text-xs opacity-90",children:"Create new patient invoice"})]})]}),e.jsxs(oe,{className:"w-full justify-start h-auto p-4",style:{backgroundColor:"#E94D61"},onClick:()=>r?.("payment"),children:[e.jsx(Ul,{className:"h-4 w-4 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Process Payment"}),e.jsx("div",{className:"text-xs opacity-90",children:"Record patient payment"})]})]}),e.jsxs(oe,{variant:"outline",className:"w-full justify-start h-auto p-4",onClick:()=>r?.("patients-management"),children:[e.jsx(Ji,{className:"h-4 w-4 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Patient Management"}),e.jsx("div",{className:"text-xs text-gray-600",children:"View patient records"})]})]}),e.jsxs(oe,{variant:"outline",className:"w-full justify-start h-auto p-4",onClick:()=>r?.("history"),children:[e.jsx(sa,{className:"h-4 w-4 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"View Reports"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Billing analytics"})]})]})]})]}),e.jsxs(je,{className:"lg:col-span-2",children:[e.jsxs(st,{className:"flex flex-row items-center justify-between",children:[e.jsx(at,{className:"text-lg",children:"Recent Activity"}),e.jsxs(oe,{variant:"ghost",size:"sm",onClick:o,disabled:s,children:[e.jsx(Ln,{className:`h-4 w-4 mr-1 ${s?"animate-spin":""}`}),s?"Refreshing...":"Refresh"]})]}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-4",children:d.map(f=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:`p-2 rounded-full ${f.type==="payment"?"bg-green-100":f.type==="invoice"?"bg-blue-100":"bg-orange-100"}`,children:[f.type==="payment"&&e.jsx(Ul,{className:"h-4 w-4 text-green-600"}),f.type==="invoice"&&e.jsx(bs,{className:"h-4 w-4 text-blue-600"}),f.type==="discount"&&e.jsx(ct,{className:"h-4 w-4 text-orange-600"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:f.description}),e.jsx("p",{className:"text-xs text-gray-500",children:f.time})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:`text-sm font-medium ${f.amount.startsWith("-")?"text-red-600":"text-green-600"}`,children:f.amount})})]},f.id))})})]})]})]})}const mc=import.meta?.env?.VITE_API_URL||"http://localhost:5000/api";async function fc(r){const s=await r.text();if(!(r.headers.get("content-type")||"").toLowerCase().includes("application/json"))throw console.error("safeJson non-json response:",r.status,s.slice(0,200)),new Error(`Non-JSON response (${r.status})`);try{return JSON.parse(s)}catch(o){throw console.error("safeJson parse error:",o,s.slice(0,200)),o}}async function Zi(){const r=await fetch(`${mc}/patients`),s=await fc(r);if(!r.ok||!s?.success)throw new Error(s?.message||"Failed to load patients");return s.data||[]}async function nm(){const r=await fetch(`${mc}/invoices`),s=await fc(r);if(!r.ok||!s?.success)throw new Error(s?.message||"Failed to load invoices");return s.data||[]}async function rm(){const r=await fetch(`${mc}/payments`),s=await fc(r);if(!r.ok||!s?.success)throw new Error(s?.message||"Failed to load payments");return s.data||[]}async function Ag(r,s){const a=await fetch(`${mc}/invoices/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),o=await fc(a);if(!a.ok||!o?.success)throw new Error(o?.message||"Failed to update invoice");return o.data}function Rg({onNavigateToModule:r}){const[s,a]=p.useState(0),[o,l]=p.useState(0),[d,u]=p.useState(0),[f,y]=p.useState(0),[x,v]=p.useState([]),[g,S]=p.useState(!0),[C,N]=p.useState(null),b=(j,E=["amount","total","paidAmount","paid","price"])=>{for(const I of E)if(j&&I in j){const M=Number(j[I]);if(!isNaN(M))return M}return 0};return p.useEffect(()=>{(async()=>{S(!0),N(null);try{const[E,I]=await Promise.all([nm(),rm()]);console.debug("Dashboard invoices:",E),console.debug("Dashboard payments:",I);const M=new Date;M.setHours(0,0,0,0);const D=new Date;D.setHours(23,59,59,999);const q=I.reduce((Z,ne)=>{const fe=new Date(ne.paymentDate||ne.date||ne.createdAt||ne.updatedAt||null);return!isNaN(fe.getTime())&&fe>=M&&fe<=D?Z+b(ne):Z},0);a(q);const Q=E.filter(Z=>{const ne=(Z.status||Z.state||"").toString().toLowerCase();return["pending","unpaid","draft","overdue"].includes(ne)}).length;l(Q);const U=new Date,V=new Date;V.setDate(U.getDate()+7);const ie=E.filter(Z=>{const ne=new Date(Z.dueDate||Z.due||Z.due_at||Z.date||Z.createdAt||null);return!isNaN(ne.getTime())&&ne>=U&&ne<=V}).length;u(ie);const le=I.filter(Z=>{const ne=(Z.status||Z.state||"").toString().toLowerCase();return["paid","completed","processed"].includes(ne)}).length;y(le);const we=[...E.map(Z=>({type:"invoice",id:Z._id||Z.id,label:Z.number||Z.invoiceNumber||Z.patientName||Z.name||"Invoice "+(Z._id||Z.id),status:Z.status||Z.state,date:Z.dueDate||Z.date||Z.createdAt})),...I.map(Z=>({type:"payment",id:Z._id||Z.id,label:Z.invoiceNumber||Z.reference||Z.patientName||"Payment "+(Z._id||Z.id),status:Z.status||Z.state,date:Z.paymentDate||Z.date||Z.createdAt}))].filter(Z=>Z.date).sort((Z,ne)=>new Date(ne.date).getTime()-new Date(Z.date).getTime()).slice(0,8);v(we)}catch(E){console.error("Dashboard load error:",E),N(E.message||"Failed to load dashboard data")}finally{S(!1)}})()},[]),g?e.jsx("div",{className:"p-6",children:"Loading dashboard..."}):C?e.jsxs("div",{className:"p-6 text-red-600",children:["Error: ",C,". Check console/network."]}):e.jsxs("div",{children:[e.jsxs("section",{children:[e.jsx("div",{className:"bg-[#358E83] rounded-lg p-4 mb-6",children:e.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Billing and Payment System"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(je,{className:"overflow-hidden",children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Invoice Management"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Create, review, and send invoices to patients for services rendered. Track payment status."}),e.jsxs(oe,{className:"bg-blue-500 hover:bg-blue-600 text-white",onClick:()=>r("invoice"),children:["Manage Invoices",e.jsx(vs,{className:"ml-2 h-4 w-4"})]})]}),e.jsx("div",{className:"w-32 bg-orange-100 flex items-center justify-center",children:e.jsxs("div",{className:"w-16 h-20 bg-white rounded-lg shadow-sm flex items-center justify-center relative",children:[e.jsx(bs,{className:"h-8 w-8 text-gray-400"}),e.jsx("div",{className:"absolute -bottom-2 -left-2 w-6 h-4 bg-orange-200 rounded transform rotate-12"})]})})]})}),e.jsx(je,{className:"overflow-hidden",children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Payment Processing"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Process patient payments through various methods, including credit card, GCash, PayMaya, and cash."}),e.jsxs(oe,{className:"bg-blue-500 hover:bg-blue-600 text-white",onClick:()=>r("payment"),children:["Process Payments",e.jsx(vs,{className:"ml-2 h-4 w-4"})]})]}),e.jsx("div",{className:"w-32 bg-orange-100 flex items-center justify-center",children:e.jsxs("div",{className:"w-16 h-20 bg-white rounded-lg shadow-sm flex items-center justify-center relative",children:[e.jsx(js,{className:"h-8 w-8 text-teal-500"}),e.jsxs("div",{className:"absolute -bottom-1 -right-1 flex space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),e.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"})]})]})})]})}),e.jsx(je,{className:"overflow-hidden",children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Billing History"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Review historical billing data, payment records, and generate financial reports."}),e.jsxs(oe,{className:"bg-blue-500 hover:bg-blue-600 text-white",onClick:()=>r("history"),children:["View History",e.jsx(vs,{className:"ml-2 h-4 w-4"})]})]}),e.jsx("div",{className:"w-32 bg-orange-100 flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-20 bg-white rounded-lg shadow-sm flex items-center justify-center",children:e.jsx(G1,{className:"h-8 w-8 text-blue-500"})})})]})}),e.jsx(je,{className:"overflow-hidden",children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Discounts & Promotions"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Manage discount codes, promotional offers, and special pricing for patients."}),e.jsxs(oe,{className:"bg-blue-500 hover:bg-blue-600 text-white",onClick:()=>r("discounts"),children:["Manage Discounts",e.jsx(vs,{className:"ml-2 h-4 w-4"})]})]}),e.jsx("div",{className:"w-32 bg-orange-100 flex items-center justify-center",children:e.jsxs("div",{className:"w-16 h-20 bg-white rounded-lg shadow-sm flex items-center justify-center relative",children:[e.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"%"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full"})]})})]})})]})]}),e.jsxs("section",{className:"mt-12",children:[e.jsx("div",{className:"bg-[#358E83] rounded-lg p-4 mb-6",children:e.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Quick Overview"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(je,{children:e.jsx(Se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Patients"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"2,847"})]}),e.jsx(yn,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Appointments Today"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"43"})]}),e.jsx(Wa,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending Invoices"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"15"})]}),e.jsx(bs,{className:"h-8 w-8 text-orange-500"})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Revenue (MTD)"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"6.2M"})]}),e.jsx(Ul,{className:"h-8 w-8 text-teal-500"})]})})})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Dashboard"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-6",children:[e.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Total Revenue Today"}),e.jsxs("div",{className:"text-xl font-bold",children:["",s.toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Pending Invoices"}),e.jsx("div",{className:"text-xl font-bold",children:o})]}),e.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Due This Week"}),e.jsx("div",{className:"text-xl font-bold",children:d})]}),e.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Processed Payments"}),e.jsx("div",{className:"text-xl font-bold",children:f})]})]}),e.jsxs("div",{className:"mt-6 bg-white p-4 rounded shadow",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Recent Activity"}),e.jsxs("ul",{className:"space-y-2",children:[x.map((j,E)=>e.jsxs("li",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:j.label}),e.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",j.type,")"]})]}),e.jsx("div",{className:"text-sm text-gray-600",children:new Date(j.date).toLocaleString()})]},j.id||E)),x.length===0&&e.jsx("li",{className:"text-sm text-gray-500",children:"No recent activity"})]})]})]})]})}function Al({onNavigateToModule:r}){return e.jsxs("div",{children:[e.jsx("section",{className:"mb-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(je,{className:"overflow-hidden",children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Patient Management"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Create and manage patient records that will be accessible to cashiers for billing and invoicing."}),e.jsxs(oe,{className:"bg-blue-500 hover:bg-blue-600 text-white",onClick:()=>r("patients-management"),children:["Manage Patients",e.jsx(vs,{className:"ml-2 h-4 w-4"})]})]}),e.jsx("div",{className:"w-32 bg-orange-100 flex items-center justify-center",children:e.jsxs("div",{className:"w-16 h-20 bg-white rounded-lg shadow-sm flex items-center justify-center relative",children:[e.jsx(yn,{className:"h-8 w-8 text-[#358E83]"}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(Ji,{className:"h-3 w-3 text-white"})})]})})]})}),e.jsx(je,{className:"overflow-hidden",children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"User Accounts"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Create, edit, and manage user accounts for all hospital systems. Control access permissions and roles."}),e.jsxs(oe,{className:"bg-blue-500 hover:bg-blue-600 text-white",onClick:()=>r("user-management"),children:["Manage Users",e.jsx(vs,{className:"ml-2 h-4 w-4"})]})]}),e.jsx("div",{className:"w-32 bg-orange-100 flex items-center justify-center",children:e.jsxs("div",{className:"w-16 h-20 bg-white rounded-lg shadow-sm flex items-center justify-center relative",children:[e.jsx(yn,{className:"h-8 w-8 text-blue-500"}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-6 h-6 bg-[#358E83] rounded-full flex items-center justify-center",children:e.jsx(Ji,{className:"h-3 w-3 text-white"})})]})})]})}),e.jsx(je,{className:"overflow-hidden",children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Discount Management"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Create and manage discount codes, promotions, and special pricing for billing operations."}),e.jsxs(oe,{className:"bg-blue-500 hover:bg-blue-600 text-white",onClick:()=>r("discount-management"),children:["Manage Discounts",e.jsx(vs,{className:"ml-2 h-4 w-4"})]})]}),e.jsx("div",{className:"w-32 bg-orange-100 flex items-center justify-center",children:e.jsxs("div",{className:"w-16 h-20 bg-white rounded-lg shadow-sm flex items-center justify-center relative",children:[e.jsx(Sr,{className:"h-8 w-8 text-[#E94D61]"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(Jx,{className:"h-2 w-2 text-white"})})]})})]})}),e.jsx(je,{className:"overflow-hidden",children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Security & Permissions"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Configure role-based access control, manage permissions, and ensure system security."}),e.jsxs(oe,{className:"bg-blue-500 hover:bg-blue-600 text-white",onClick:()=>r("user-management"),children:["Security Settings",e.jsx(vs,{className:"ml-2 h-4 w-4"})]})]}),e.jsx("div",{className:"w-32 bg-orange-100 flex items-center justify-center",children:e.jsxs("div",{className:"w-16 h-20 bg-white rounded-lg shadow-sm flex items-center justify-center relative",children:[e.jsx(e0,{className:"h-8 w-8 text-purple-500"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(AN,{className:"h-2 w-2 text-white"})})]})})]})})]})}),e.jsx("section",{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(je,{children:[e.jsx(st,{className:"pb-3",children:e.jsx(at,{className:"text-sm font-medium text-gray-600",children:"Total Users"})}),e.jsxs(Se,{children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"156"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Across all systems"})]})]}),e.jsxs(je,{children:[e.jsx(st,{className:"pb-3",children:e.jsx(at,{className:"text-sm font-medium text-gray-600",children:"Active Sessions"})}),e.jsxs(Se,{children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"42"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Currently online"})]})]}),e.jsxs(je,{children:[e.jsx(st,{className:"pb-3",children:e.jsx(at,{className:"text-sm font-medium text-gray-600",children:"System Health"})}),e.jsxs(Se,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:"100%"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All systems operational"})]})]})]})})]})}function eS({onNavigateToView:r}){return e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Patients Module"}),e.jsxs(oe,{variant:"outline",onClick:()=>r?.("medicare-billing"),children:[e.jsx(Om,{className:"h-4 w-4 mr-2"}),"Back to Billing"]})]}),e.jsxs(je,{children:[e.jsx(st,{children:e.jsx(at,{children:"Patient Management"})}),e.jsx(Se,{children:e.jsx("p",{className:"text-gray-600",children:"This module would contain patient management functionality including patient registration, medical records, appointment history, and more."})})]})]})})}function Ce({className:r,type:s,...a}){return e.jsx("input",{type:s,"data-slot":"input",className:Ye("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...a})}var tS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qe=tS.reduce((r,s)=>{const a=Ns(`Primitive.${s}`),o=p.forwardRef((l,d)=>{const{asChild:u,...f}=l,y=u?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(y,{...f,ref:d})});return o.displayName=`Primitive.${s}`,{...r,[s]:o}},{});function a0(r,s){r&&so.flushSync(()=>r.dispatchEvent(s))}var nS="Label",i0=p.forwardRef((r,s)=>e.jsx(qe.label,{...r,ref:s,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(r.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i0.displayName=nS;var rS=i0;function ue({className:r,...s}){return e.jsx(rS,{"data-slot":"label",className:Ye("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...s})}var sS="Separator",Tg="horizontal",aS=["horizontal","vertical"],o0=p.forwardRef((r,s)=>{const{decorative:a,orientation:o=Tg,...l}=r,d=iS(o)?o:Tg,f=a?{role:"none"}:{"aria-orientation":d==="vertical"?d:void 0,role:"separator"};return e.jsx(qe.div,{"data-orientation":d,...f,...l,ref:s})});o0.displayName=sS;function iS(r){return aS.includes(r)}var oS=o0;function br({className:r,orientation:s="horizontal",decorative:a=!0,...o}){return e.jsx(oS,{"data-slot":"separator-root",decorative:a,orientation:s,className:Ye("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",r),...o})}function Ae(r,s,{checkForDefaultPrevented:a=!0}={}){return function(l){if(r?.(l),a===!1||!l.defaultPrevented)return s?.(l)}}function lS(r,s){const a=p.createContext(s),o=d=>{const{children:u,...f}=d,y=p.useMemo(()=>f,Object.values(f));return e.jsx(a.Provider,{value:y,children:u})};o.displayName=r+"Provider";function l(d){const u=p.useContext(a);if(u)return u;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${r}\``)}return[o,l]}function dr(r,s=[]){let a=[];function o(d,u){const f=p.createContext(u),y=a.length;a=[...a,u];const x=g=>{const{scope:S,children:C,...N}=g,b=S?.[r]?.[y]||f,j=p.useMemo(()=>N,Object.values(N));return e.jsx(b.Provider,{value:j,children:C})};x.displayName=d+"Provider";function v(g,S){const C=S?.[r]?.[y]||f,N=p.useContext(C);if(N)return N;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${d}\``)}return[x,v]}const l=()=>{const d=a.map(u=>p.createContext(u));return function(f){const y=f?.[r]||d;return p.useMemo(()=>({[`__scope${r}`]:{...f,[r]:y}}),[f,y])}};return l.scopeName=r,[o,cS(l,...s)]}function cS(...r){const s=r[0];if(r.length===1)return s;const a=()=>{const o=r.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(d){const u=o.reduce((f,{useScope:y,scopeName:x})=>{const g=y(d)[`__scope${x}`];return{...f,...g}},{});return p.useMemo(()=>({[`__scope${s.scopeName}`]:u}),[u])}};return a.scopeName=s.scopeName,a}var vn=globalThis?.document?p.useLayoutEffect:()=>{},dS=_x[" useId ".trim().toString()]||(()=>{}),uS=0;function mn(r){const[s,a]=p.useState(dS());return vn(()=>{a(o=>o??String(uS++))},[r]),r||(s?`radix-${s}`:"")}var mS=_x[" useInsertionEffect ".trim().toString()]||vn;function Ss({prop:r,defaultProp:s,onChange:a=()=>{},caller:o}){const[l,d,u]=fS({defaultProp:s,onChange:a}),f=r!==void 0,y=f?r:l;{const v=p.useRef(r!==void 0);p.useEffect(()=>{const g=v.current;g!==f&&console.warn(`${o} is changing from ${g?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=f},[f,o])}const x=p.useCallback(v=>{if(f){const g=pS(v)?v(r):v;g!==r&&u.current?.(g)}else d(v)},[f,r,d,u]);return[y,x]}function fS({defaultProp:r,onChange:s}){const[a,o]=p.useState(r),l=p.useRef(a),d=p.useRef(s);return mS(()=>{d.current=s},[s]),p.useEffect(()=>{l.current!==a&&(d.current?.(a),l.current=a)},[a,l]),[a,o,d]}function pS(r){return typeof r=="function"}function Dr(r){const s=p.useRef(r);return p.useEffect(()=>{s.current=r}),p.useMemo(()=>(...a)=>s.current?.(...a),[])}function hS(r,s=globalThis?.document){const a=Dr(r);p.useEffect(()=>{const o=l=>{l.key==="Escape"&&a(l)};return s.addEventListener("keydown",o,{capture:!0}),()=>s.removeEventListener("keydown",o,{capture:!0})},[a,s])}var gS="DismissableLayer",sm="dismissableLayer.update",xS="dismissableLayer.pointerDownOutside",yS="dismissableLayer.focusOutside",Ig,l0=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ao=p.forwardRef((r,s)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:d,onInteractOutside:u,onDismiss:f,...y}=r,x=p.useContext(l0),[v,g]=p.useState(null),S=v?.ownerDocument??globalThis?.document,[,C]=p.useState({}),N=xt(s,U=>g(U)),b=Array.from(x.layers),[j]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),E=b.indexOf(j),I=v?b.indexOf(v):-1,M=x.layersWithOutsidePointerEventsDisabled.size>0,D=I>=E,q=jS(U=>{const V=U.target,ie=[...x.branches].some(le=>le.contains(V));!D||ie||(l?.(U),u?.(U),U.defaultPrevented||f?.())},S),Q=bS(U=>{const V=U.target;[...x.branches].some(le=>le.contains(V))||(d?.(U),u?.(U),U.defaultPrevented||f?.())},S);return hS(U=>{I===x.layers.size-1&&(o?.(U),!U.defaultPrevented&&f&&(U.preventDefault(),f()))},S),p.useEffect(()=>{if(v)return a&&(x.layersWithOutsidePointerEventsDisabled.size===0&&(Ig=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(v)),x.layers.add(v),_g(),()=>{a&&x.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=Ig)}},[v,S,a,x]),p.useEffect(()=>()=>{v&&(x.layers.delete(v),x.layersWithOutsidePointerEventsDisabled.delete(v),_g())},[v,x]),p.useEffect(()=>{const U=()=>C({});return document.addEventListener(sm,U),()=>document.removeEventListener(sm,U)},[]),e.jsx(qe.div,{...y,ref:N,style:{pointerEvents:M?D?"auto":"none":void 0,...r.style},onFocusCapture:Ae(r.onFocusCapture,Q.onFocusCapture),onBlurCapture:Ae(r.onBlurCapture,Q.onBlurCapture),onPointerDownCapture:Ae(r.onPointerDownCapture,q.onPointerDownCapture)})});ao.displayName=gS;var vS="DismissableLayerBranch",wS=p.forwardRef((r,s)=>{const a=p.useContext(l0),o=p.useRef(null),l=xt(s,o);return p.useEffect(()=>{const d=o.current;if(d)return a.branches.add(d),()=>{a.branches.delete(d)}},[a.branches]),e.jsx(qe.div,{...r,ref:l})});wS.displayName=vS;function jS(r,s=globalThis?.document){const a=Dr(r),o=p.useRef(!1),l=p.useRef(()=>{});return p.useEffect(()=>{const d=f=>{if(f.target&&!o.current){let y=function(){c0(xS,a,x,{discrete:!0})};const x={originalEvent:f};f.pointerType==="touch"?(s.removeEventListener("click",l.current),l.current=y,s.addEventListener("click",l.current,{once:!0})):y()}else s.removeEventListener("click",l.current);o.current=!1},u=window.setTimeout(()=>{s.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(u),s.removeEventListener("pointerdown",d),s.removeEventListener("click",l.current)}},[s,a]),{onPointerDownCapture:()=>o.current=!0}}function bS(r,s=globalThis?.document){const a=Dr(r),o=p.useRef(!1);return p.useEffect(()=>{const l=d=>{d.target&&!o.current&&c0(yS,a,{originalEvent:d},{discrete:!1})};return s.addEventListener("focusin",l),()=>s.removeEventListener("focusin",l)},[s,a]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function _g(){const r=new CustomEvent(sm);document.dispatchEvent(r)}function c0(r,s,a,{discrete:o}){const l=a.originalEvent.target,d=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:a});s&&l.addEventListener(r,s,{once:!0}),o?a0(l,d):l.dispatchEvent(d)}var Tu="focusScope.autoFocusOnMount",Iu="focusScope.autoFocusOnUnmount",Mg={bubbles:!1,cancelable:!0},NS="FocusScope",io=p.forwardRef((r,s)=>{const{loop:a=!1,trapped:o=!1,onMountAutoFocus:l,onUnmountAutoFocus:d,...u}=r,[f,y]=p.useState(null),x=Dr(l),v=Dr(d),g=p.useRef(null),S=xt(s,b=>y(b)),C=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(o){let b=function(M){if(C.paused||!f)return;const D=M.target;f.contains(D)?g.current=D:ys(g.current,{select:!0})},j=function(M){if(C.paused||!f)return;const D=M.relatedTarget;D!==null&&(f.contains(D)||ys(g.current,{select:!0}))},E=function(M){if(document.activeElement===document.body)for(const q of M)q.removedNodes.length>0&&ys(f)};document.addEventListener("focusin",b),document.addEventListener("focusout",j);const I=new MutationObserver(E);return f&&I.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",j),I.disconnect()}}},[o,f,C.paused]),p.useEffect(()=>{if(f){Lg.add(C);const b=document.activeElement;if(!f.contains(b)){const E=new CustomEvent(Tu,Mg);f.addEventListener(Tu,x),f.dispatchEvent(E),E.defaultPrevented||(SS(kS(d0(f)),{select:!0}),document.activeElement===b&&ys(f))}return()=>{f.removeEventListener(Tu,x),setTimeout(()=>{const E=new CustomEvent(Iu,Mg);f.addEventListener(Iu,v),f.dispatchEvent(E),E.defaultPrevented||ys(b??document.body,{select:!0}),f.removeEventListener(Iu,v),Lg.remove(C)},0)}}},[f,x,v,C]);const N=p.useCallback(b=>{if(!a&&!o||C.paused)return;const j=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,E=document.activeElement;if(j&&E){const I=b.currentTarget,[M,D]=CS(I);M&&D?!b.shiftKey&&E===D?(b.preventDefault(),a&&ys(M,{select:!0})):b.shiftKey&&E===M&&(b.preventDefault(),a&&ys(D,{select:!0})):E===I&&b.preventDefault()}},[a,o,C.paused]);return e.jsx(qe.div,{tabIndex:-1,...u,ref:S,onKeyDown:N})});io.displayName=NS;function SS(r,{select:s=!1}={}){const a=document.activeElement;for(const o of r)if(ys(o,{select:s}),document.activeElement!==a)return}function CS(r){const s=d0(r),a=Og(s,r),o=Og(s.reverse(),r);return[a,o]}function d0(r){const s=[],a=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const l=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||l?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function Og(r,s){for(const a of r)if(!PS(a,{upTo:s}))return a}function PS(r,{upTo:s}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(s!==void 0&&r===s)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function ES(r){return r instanceof HTMLInputElement&&"select"in r}function ys(r,{select:s=!1}={}){if(r&&r.focus){const a=document.activeElement;r.focus({preventScroll:!0}),r!==a&&ES(r)&&s&&r.select()}}var Lg=DS();function DS(){let r=[];return{add(s){const a=r[0];s!==a&&a?.pause(),r=Fg(r,s),r.unshift(s)},remove(s){r=Fg(r,s),r[0]?.resume()}}}function Fg(r,s){const a=[...r],o=a.indexOf(s);return o!==-1&&a.splice(o,1),a}function kS(r){return r.filter(s=>s.tagName!=="A")}var AS="Portal",oo=p.forwardRef((r,s)=>{const{container:a,...o}=r,[l,d]=p.useState(!1);vn(()=>d(!0),[]);const u=a||l&&globalThis?.document?.body;return u?r0.createPortal(e.jsx(qe.div,{...o,ref:s}),u):null});oo.displayName=AS;function RS(r,s){return p.useReducer((a,o)=>s[a][o]??a,r)}var ur=r=>{const{present:s,children:a}=r,o=TS(s),l=typeof a=="function"?a({present:o.isPresent}):p.Children.only(a),d=xt(o.ref,IS(l));return typeof a=="function"||o.isPresent?p.cloneElement(l,{ref:d}):null};ur.displayName="Presence";function TS(r){const[s,a]=p.useState(),o=p.useRef(null),l=p.useRef(r),d=p.useRef("none"),u=r?"mounted":"unmounted",[f,y]=RS(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const x=Rl(o.current);d.current=f==="mounted"?x:"none"},[f]),vn(()=>{const x=o.current,v=l.current;if(v!==r){const S=d.current,C=Rl(x);r?y("MOUNT"):C==="none"||x?.display==="none"?y("UNMOUNT"):y(v&&S!==C?"ANIMATION_OUT":"UNMOUNT"),l.current=r}},[r,y]),vn(()=>{if(s){let x;const v=s.ownerDocument.defaultView??window,g=C=>{const b=Rl(o.current).includes(CSS.escape(C.animationName));if(C.target===s&&b&&(y("ANIMATION_END"),!l.current)){const j=s.style.animationFillMode;s.style.animationFillMode="forwards",x=v.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=j)})}},S=C=>{C.target===s&&(d.current=Rl(o.current))};return s.addEventListener("animationstart",S),s.addEventListener("animationcancel",g),s.addEventListener("animationend",g),()=>{v.clearTimeout(x),s.removeEventListener("animationstart",S),s.removeEventListener("animationcancel",g),s.removeEventListener("animationend",g)}}else y("ANIMATION_END")},[s,y]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:p.useCallback(x=>{o.current=x?getComputedStyle(x):null,a(x)},[])}}function Rl(r){return r?.animationName||"none"}function IS(r){let s=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?r.ref:(s=Object.getOwnPropertyDescriptor(r,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?r.props.ref:r.props.ref||r.ref)}var _u=0;function pc(){p.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??zg()),document.body.insertAdjacentElement("beforeend",r[1]??zg()),_u++,()=>{_u===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),_u--}},[])}function zg(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var Cr=function(){return Cr=Object.assign||function(s){for(var a,o=1,l=arguments.length;o<l;o++){a=arguments[o];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(s[d]=a[d])}return s},Cr.apply(this,arguments)};function u0(r,s){var a={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&s.indexOf(o)<0&&(a[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(r);l<o.length;l++)s.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(r,o[l])&&(a[o[l]]=r[o[l]]);return a}function _S(r,s,a){if(a||arguments.length===2)for(var o=0,l=s.length,d;o<l;o++)(d||!(o in s))&&(d||(d=Array.prototype.slice.call(s,0,o)),d[o]=s[o]);return r.concat(d||Array.prototype.slice.call(s))}var Hl="right-scroll-bar-position",Vl="width-before-scroll-bar",MS="with-scroll-bars-hidden",OS="--removed-body-scroll-bar-size";function Mu(r,s){return typeof r=="function"?r(s):r&&(r.current=s),r}function LS(r,s){var a=p.useState(function(){return{value:r,callback:s,facade:{get current(){return a.value},set current(o){var l=a.value;l!==o&&(a.value=o,a.callback(o,l))}}}})[0];return a.callback=s,a.facade}var FS=typeof window<"u"?p.useLayoutEffect:p.useEffect,$g=new WeakMap;function zS(r,s){var a=LS(null,function(o){return r.forEach(function(l){return Mu(l,o)})});return FS(function(){var o=$g.get(a);if(o){var l=new Set(o),d=new Set(r),u=a.current;l.forEach(function(f){d.has(f)||Mu(f,null)}),d.forEach(function(f){l.has(f)||Mu(f,u)})}$g.set(a,r)},[r]),a}function $S(r){return r}function BS(r,s){s===void 0&&(s=$S);var a=[],o=!1,l={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:r},useMedium:function(d){var u=s(d,o);return a.push(u),function(){a=a.filter(function(f){return f!==u})}},assignSyncMedium:function(d){for(o=!0;a.length;){var u=a;a=[],u.forEach(d)}a={push:function(f){return d(f)},filter:function(){return a}}},assignMedium:function(d){o=!0;var u=[];if(a.length){var f=a;a=[],f.forEach(d),u=a}var y=function(){var v=u;u=[],v.forEach(d)},x=function(){return Promise.resolve().then(y)};x(),a={push:function(v){u.push(v),x()},filter:function(v){return u=u.filter(v),a}}}};return l}function US(r){r===void 0&&(r={});var s=BS(null);return s.options=Cr({async:!0,ssr:!1},r),s}var m0=function(r){var s=r.sideCar,a=u0(r,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=s.read();if(!o)throw new Error("Sidecar medium not found");return p.createElement(o,Cr({},a))};m0.isSideCarExport=!0;function HS(r,s){return r.useMedium(s),m0}var f0=US(),Ou=function(){},hc=p.forwardRef(function(r,s){var a=p.useRef(null),o=p.useState({onScrollCapture:Ou,onWheelCapture:Ou,onTouchMoveCapture:Ou}),l=o[0],d=o[1],u=r.forwardProps,f=r.children,y=r.className,x=r.removeScrollBar,v=r.enabled,g=r.shards,S=r.sideCar,C=r.noRelative,N=r.noIsolation,b=r.inert,j=r.allowPinchZoom,E=r.as,I=E===void 0?"div":E,M=r.gapMode,D=u0(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),q=S,Q=zS([a,s]),U=Cr(Cr({},D),l);return p.createElement(p.Fragment,null,v&&p.createElement(q,{sideCar:f0,removeScrollBar:x,shards:g,noRelative:C,noIsolation:N,inert:b,setCallbacks:d,allowPinchZoom:!!j,lockRef:a,gapMode:M}),u?p.cloneElement(p.Children.only(f),Cr(Cr({},U),{ref:Q})):p.createElement(I,Cr({},U,{className:y,ref:Q}),f))});hc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hc.classNames={fullWidth:Vl,zeroRight:Hl};var VS=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WS(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var s=VS();return s&&r.setAttribute("nonce",s),r}function qS(r,s){r.styleSheet?r.styleSheet.cssText=s:r.appendChild(document.createTextNode(s))}function GS(r){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(r)}var KS=function(){var r=0,s=null;return{add:function(a){r==0&&(s=WS())&&(qS(s,a),GS(s)),r++},remove:function(){r--,!r&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},YS=function(){var r=KS();return function(s,a){p.useEffect(function(){return r.add(s),function(){r.remove()}},[s&&a])}},p0=function(){var r=YS(),s=function(a){var o=a.styles,l=a.dynamic;return r(o,l),null};return s},QS={left:0,top:0,right:0,gap:0},Lu=function(r){return parseInt(r||"",10)||0},XS=function(r){var s=window.getComputedStyle(document.body),a=s[r==="padding"?"paddingLeft":"marginLeft"],o=s[r==="padding"?"paddingTop":"marginTop"],l=s[r==="padding"?"paddingRight":"marginRight"];return[Lu(a),Lu(o),Lu(l)]},JS=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return QS;var s=XS(r),a=document.documentElement.clientWidth,o=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,o-a+s[2]-s[0])}},ZS=p0(),qa="data-scroll-locked",eC=function(r,s,a,o){var l=r.left,d=r.top,u=r.right,f=r.gap;return a===void 0&&(a="margin"),`
  .`.concat(MS,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(f,"px ").concat(o,`;
  }
  body[`).concat(qa,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(o,";"),a==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(o,`;
    `),a==="padding"&&"padding-right: ".concat(f,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hl,` {
    right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(Vl,` {
    margin-right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(Hl," .").concat(Hl,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Vl," .").concat(Vl,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(qa,`] {
    `).concat(OS,": ").concat(f,`px;
  }
`)},Bg=function(){var r=parseInt(document.body.getAttribute(qa)||"0",10);return isFinite(r)?r:0},tC=function(){p.useEffect(function(){return document.body.setAttribute(qa,(Bg()+1).toString()),function(){var r=Bg()-1;r<=0?document.body.removeAttribute(qa):document.body.setAttribute(qa,r.toString())}},[])},nC=function(r){var s=r.noRelative,a=r.noImportant,o=r.gapMode,l=o===void 0?"margin":o;tC();var d=p.useMemo(function(){return JS(l)},[l]);return p.createElement(ZS,{styles:eC(d,!s,l,a?"":"!important")})},am=!1;if(typeof window<"u")try{var Tl=Object.defineProperty({},"passive",{get:function(){return am=!0,!0}});window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{am=!1}var za=am?{passive:!1}:!1,rC=function(r){return r.tagName==="TEXTAREA"},h0=function(r,s){if(!(r instanceof Element))return!1;var a=window.getComputedStyle(r);return a[s]!=="hidden"&&!(a.overflowY===a.overflowX&&!rC(r)&&a[s]==="visible")},sC=function(r){return h0(r,"overflowY")},aC=function(r){return h0(r,"overflowX")},Ug=function(r,s){var a=s.ownerDocument,o=s;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var l=g0(r,o);if(l){var d=x0(r,o),u=d[1],f=d[2];if(u>f)return!0}o=o.parentNode}while(o&&o!==a.body);return!1},iC=function(r){var s=r.scrollTop,a=r.scrollHeight,o=r.clientHeight;return[s,a,o]},oC=function(r){var s=r.scrollLeft,a=r.scrollWidth,o=r.clientWidth;return[s,a,o]},g0=function(r,s){return r==="v"?sC(s):aC(s)},x0=function(r,s){return r==="v"?iC(s):oC(s)},lC=function(r,s){return r==="h"&&s==="rtl"?-1:1},cC=function(r,s,a,o,l){var d=lC(r,window.getComputedStyle(s).direction),u=d*o,f=a.target,y=s.contains(f),x=!1,v=u>0,g=0,S=0;do{if(!f)break;var C=x0(r,f),N=C[0],b=C[1],j=C[2],E=b-j-d*N;(N||E)&&g0(r,f)&&(g+=E,S+=N);var I=f.parentNode;f=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!y&&f!==document.body||y&&(s.contains(f)||s===f));return(v&&Math.abs(g)<1||!v&&Math.abs(S)<1)&&(x=!0),x},Il=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},Hg=function(r){return[r.deltaX,r.deltaY]},Vg=function(r){return r&&"current"in r?r.current:r},dC=function(r,s){return r[0]===s[0]&&r[1]===s[1]},uC=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},mC=0,$a=[];function fC(r){var s=p.useRef([]),a=p.useRef([0,0]),o=p.useRef(),l=p.useState(mC++)[0],d=p.useState(p0)[0],u=p.useRef(r);p.useEffect(function(){u.current=r},[r]),p.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(l));var b=_S([r.lockRef.current],(r.shards||[]).map(Vg),!0).filter(Boolean);return b.forEach(function(j){return j.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),b.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(l))})}}},[r.inert,r.lockRef.current,r.shards]);var f=p.useCallback(function(b,j){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!u.current.allowPinchZoom;var E=Il(b),I=a.current,M="deltaX"in b?b.deltaX:I[0]-E[0],D="deltaY"in b?b.deltaY:I[1]-E[1],q,Q=b.target,U=Math.abs(M)>Math.abs(D)?"h":"v";if("touches"in b&&U==="h"&&Q.type==="range")return!1;var V=Ug(U,Q);if(!V)return!0;if(V?q=U:(q=U==="v"?"h":"v",V=Ug(U,Q)),!V)return!1;if(!o.current&&"changedTouches"in b&&(M||D)&&(o.current=q),!q)return!0;var ie=o.current||q;return cC(ie,j,b,ie==="h"?M:D)},[]),y=p.useCallback(function(b){var j=b;if(!(!$a.length||$a[$a.length-1]!==d)){var E="deltaY"in j?Hg(j):Il(j),I=s.current.filter(function(q){return q.name===j.type&&(q.target===j.target||j.target===q.shadowParent)&&dC(q.delta,E)})[0];if(I&&I.should){j.cancelable&&j.preventDefault();return}if(!I){var M=(u.current.shards||[]).map(Vg).filter(Boolean).filter(function(q){return q.contains(j.target)}),D=M.length>0?f(j,M[0]):!u.current.noIsolation;D&&j.cancelable&&j.preventDefault()}}},[]),x=p.useCallback(function(b,j,E,I){var M={name:b,delta:j,target:E,should:I,shadowParent:pC(E)};s.current.push(M),setTimeout(function(){s.current=s.current.filter(function(D){return D!==M})},1)},[]),v=p.useCallback(function(b){a.current=Il(b),o.current=void 0},[]),g=p.useCallback(function(b){x(b.type,Hg(b),b.target,f(b,r.lockRef.current))},[]),S=p.useCallback(function(b){x(b.type,Il(b),b.target,f(b,r.lockRef.current))},[]);p.useEffect(function(){return $a.push(d),r.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:S}),document.addEventListener("wheel",y,za),document.addEventListener("touchmove",y,za),document.addEventListener("touchstart",v,za),function(){$a=$a.filter(function(b){return b!==d}),document.removeEventListener("wheel",y,za),document.removeEventListener("touchmove",y,za),document.removeEventListener("touchstart",v,za)}},[]);var C=r.removeScrollBar,N=r.inert;return p.createElement(p.Fragment,null,N?p.createElement(d,{styles:uC(l)}):null,C?p.createElement(nC,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function pC(r){for(var s=null;r!==null;)r instanceof ShadowRoot&&(s=r.host,r=r.host),r=r.parentNode;return s}const hC=HS(f0,fC);var lo=p.forwardRef(function(r,s){return p.createElement(hc,Cr({},r,{ref:s,sideCar:hC}))});lo.classNames=hc.classNames;var gC=function(r){if(typeof document>"u")return null;var s=Array.isArray(r)?r[0]:r;return s.ownerDocument.body},Ba=new WeakMap,_l=new WeakMap,Ml={},Fu=0,y0=function(r){return r&&(r.host||y0(r.parentNode))},xC=function(r,s){return s.map(function(a){if(r.contains(a))return a;var o=y0(a);return o&&r.contains(o)?o:(console.error("aria-hidden",a,"in not contained inside",r,". Doing nothing"),null)}).filter(function(a){return!!a})},yC=function(r,s,a,o){var l=xC(s,Array.isArray(r)?r:[r]);Ml[a]||(Ml[a]=new WeakMap);var d=Ml[a],u=[],f=new Set,y=new Set(l),x=function(g){!g||f.has(g)||(f.add(g),x(g.parentNode))};l.forEach(x);var v=function(g){!g||y.has(g)||Array.prototype.forEach.call(g.children,function(S){if(f.has(S))v(S);else try{var C=S.getAttribute(o),N=C!==null&&C!=="false",b=(Ba.get(S)||0)+1,j=(d.get(S)||0)+1;Ba.set(S,b),d.set(S,j),u.push(S),b===1&&N&&_l.set(S,!0),j===1&&S.setAttribute(a,"true"),N||S.setAttribute(o,"true")}catch(E){console.error("aria-hidden: cannot operate on ",S,E)}})};return v(s),f.clear(),Fu++,function(){u.forEach(function(g){var S=Ba.get(g)-1,C=d.get(g)-1;Ba.set(g,S),d.set(g,C),S||(_l.has(g)||g.removeAttribute(o),_l.delete(g)),C||g.removeAttribute(a)}),Fu--,Fu||(Ba=new WeakMap,Ba=new WeakMap,_l=new WeakMap,Ml={})}},gc=function(r,s,a){a===void 0&&(a="data-aria-hidden");var o=Array.from(Array.isArray(r)?r:[r]),l=gC(r);return l?(o.push.apply(o,Array.from(l.querySelectorAll("[aria-live], script"))),yC(o,l,a,"aria-hidden")):function(){return null}},xc="Dialog",[v0,w0]=dr(xc),[vC,mr]=v0(xc),j0=r=>{const{__scopeDialog:s,children:a,open:o,defaultOpen:l,onOpenChange:d,modal:u=!0}=r,f=p.useRef(null),y=p.useRef(null),[x,v]=Ss({prop:o,defaultProp:l??!1,onChange:d,caller:xc});return e.jsx(vC,{scope:s,triggerRef:f,contentRef:y,contentId:mn(),titleId:mn(),descriptionId:mn(),open:x,onOpenChange:v,onOpenToggle:p.useCallback(()=>v(g=>!g),[v]),modal:u,children:a})};j0.displayName=xc;var b0="DialogTrigger",N0=p.forwardRef((r,s)=>{const{__scopeDialog:a,...o}=r,l=mr(b0,a),d=xt(s,l.triggerRef);return e.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":Bm(l.open),...o,ref:d,onClick:Ae(r.onClick,l.onOpenToggle)})});N0.displayName=b0;var zm="DialogPortal",[wC,S0]=v0(zm,{forceMount:void 0}),C0=r=>{const{__scopeDialog:s,forceMount:a,children:o,container:l}=r,d=mr(zm,s);return e.jsx(wC,{scope:s,forceMount:a,children:p.Children.map(o,u=>e.jsx(ur,{present:a||d.open,children:e.jsx(oo,{asChild:!0,container:l,children:u})}))})};C0.displayName=zm;var nc="DialogOverlay",P0=p.forwardRef((r,s)=>{const a=S0(nc,r.__scopeDialog),{forceMount:o=a.forceMount,...l}=r,d=mr(nc,r.__scopeDialog);return d.modal?e.jsx(ur,{present:o||d.open,children:e.jsx(bC,{...l,ref:s})}):null});P0.displayName=nc;var jC=Ns("DialogOverlay.RemoveScroll"),bC=p.forwardRef((r,s)=>{const{__scopeDialog:a,...o}=r,l=mr(nc,a);return e.jsx(lo,{as:jC,allowPinchZoom:!0,shards:[l.contentRef],children:e.jsx(qe.div,{"data-state":Bm(l.open),...o,ref:s,style:{pointerEvents:"auto",...o.style}})})}),oa="DialogContent",E0=p.forwardRef((r,s)=>{const a=S0(oa,r.__scopeDialog),{forceMount:o=a.forceMount,...l}=r,d=mr(oa,r.__scopeDialog);return e.jsx(ur,{present:o||d.open,children:d.modal?e.jsx(NC,{...l,ref:s}):e.jsx(SC,{...l,ref:s})})});E0.displayName=oa;var NC=p.forwardRef((r,s)=>{const a=mr(oa,r.__scopeDialog),o=p.useRef(null),l=xt(s,a.contentRef,o);return p.useEffect(()=>{const d=o.current;if(d)return gc(d)},[]),e.jsx(D0,{...r,ref:l,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(r.onCloseAutoFocus,d=>{d.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:Ae(r.onPointerDownOutside,d=>{const u=d.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&d.preventDefault()}),onFocusOutside:Ae(r.onFocusOutside,d=>d.preventDefault())})}),SC=p.forwardRef((r,s)=>{const a=mr(oa,r.__scopeDialog),o=p.useRef(!1),l=p.useRef(!1);return e.jsx(D0,{...r,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{r.onCloseAutoFocus?.(d),d.defaultPrevented||(o.current||a.triggerRef.current?.focus(),d.preventDefault()),o.current=!1,l.current=!1},onInteractOutside:d=>{r.onInteractOutside?.(d),d.defaultPrevented||(o.current=!0,d.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const u=d.target;a.triggerRef.current?.contains(u)&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&l.current&&d.preventDefault()}})}),D0=p.forwardRef((r,s)=>{const{__scopeDialog:a,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:d,...u}=r,f=mr(oa,a),y=p.useRef(null),x=xt(s,y);return pc(),e.jsxs(e.Fragment,{children:[e.jsx(io,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:l,onUnmountAutoFocus:d,children:e.jsx(ao,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":Bm(f.open),...u,ref:x,onDismiss:()=>f.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(PC,{titleId:f.titleId}),e.jsx(DC,{contentRef:y,descriptionId:f.descriptionId})]})]})}),$m="DialogTitle",k0=p.forwardRef((r,s)=>{const{__scopeDialog:a,...o}=r,l=mr($m,a);return e.jsx(qe.h2,{id:l.titleId,...o,ref:s})});k0.displayName=$m;var A0="DialogDescription",R0=p.forwardRef((r,s)=>{const{__scopeDialog:a,...o}=r,l=mr(A0,a);return e.jsx(qe.p,{id:l.descriptionId,...o,ref:s})});R0.displayName=A0;var T0="DialogClose",I0=p.forwardRef((r,s)=>{const{__scopeDialog:a,...o}=r,l=mr(T0,a);return e.jsx(qe.button,{type:"button",...o,ref:s,onClick:Ae(r.onClick,()=>l.onOpenChange(!1))})});I0.displayName=T0;function Bm(r){return r?"open":"closed"}var _0="DialogTitleWarning",[CC,M0]=lS(_0,{contentName:oa,titleName:$m,docsSlug:"dialog"}),PC=({titleId:r})=>{const s=M0(_0),a=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return p.useEffect(()=>{r&&(document.getElementById(r)||console.error(a))},[a,r]),null},EC="DialogDescriptionWarning",DC=({contentRef:r,descriptionId:s})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${M0(EC).contentName}}.`;return p.useEffect(()=>{const l=r.current?.getAttribute("aria-describedby");s&&l&&(document.getElementById(s)||console.warn(o))},[o,r,s]),null},Um=j0,O0=N0,Hm=C0,yc=P0,vc=E0,Vm=k0,Wm=R0,qm=I0;const an=Um,kC=O0,AC=Hm,L0=p.forwardRef(({className:r,...s},a)=>e.jsx(yc,{ref:a,"data-slot":"dialog-overlay",className:Ye("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...s}));L0.displayName=yc.displayName;const Zt=p.forwardRef(({className:r,children:s,...a},o)=>e.jsxs(AC,{children:[e.jsx(L0,{}),e.jsxs(vc,{ref:o,"data-slot":"dialog-content",className:Ye("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),...a,children:[s,e.jsxs(qm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(E2,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Zt.displayName=vc.displayName;const en=p.forwardRef(({className:r,...s},a)=>e.jsx("div",{ref:a,"data-slot":"dialog-header",className:Ye("flex flex-col gap-2 text-center sm:text-left",r),...s}));en.displayName="DialogHeader";const F0=p.forwardRef(({className:r,...s},a)=>e.jsx("div",{ref:a,"data-slot":"dialog-footer",className:Ye("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",r),...s}));F0.displayName="DialogFooter";const tn=p.forwardRef(({className:r,...s},a)=>e.jsx(Vm,{ref:a,"data-slot":"dialog-title",className:Ye("text-lg leading-none font-semibold",r),...s}));tn.displayName=Vm.displayName;const un=p.forwardRef(({className:r,...s},a)=>e.jsx(Wm,{ref:a,"data-slot":"dialog-description",className:Ye("text-muted-foreground text-sm",r),...s}));un.displayName=Wm.displayName;function Wg(r,[s,a]){return Math.min(a,Math.max(s,r))}function Gm(r){const s=r+"CollectionProvider",[a,o]=dr(s),[l,d]=a(s,{collectionRef:{current:null},itemMap:new Map}),u=b=>{const{scope:j,children:E}=b,I=ve.useRef(null),M=ve.useRef(new Map).current;return e.jsx(l,{scope:j,itemMap:M,collectionRef:I,children:E})};u.displayName=s;const f=r+"CollectionSlot",y=Ns(f),x=ve.forwardRef((b,j)=>{const{scope:E,children:I}=b,M=d(f,E),D=xt(j,M.collectionRef);return e.jsx(y,{ref:D,children:I})});x.displayName=f;const v=r+"CollectionItemSlot",g="data-radix-collection-item",S=Ns(v),C=ve.forwardRef((b,j)=>{const{scope:E,children:I,...M}=b,D=ve.useRef(null),q=xt(j,D),Q=d(v,E);return ve.useEffect(()=>(Q.itemMap.set(D,{ref:D,...M}),()=>void Q.itemMap.delete(D))),e.jsx(S,{[g]:"",ref:q,children:I})});C.displayName=v;function N(b){const j=d(r+"CollectionConsumer",b);return ve.useCallback(()=>{const I=j.collectionRef.current;if(!I)return[];const M=Array.from(I.querySelectorAll(`[${g}]`));return Array.from(j.itemMap.values()).sort((Q,U)=>M.indexOf(Q.ref.current)-M.indexOf(U.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:u,Slot:x,ItemSlot:C},N,o]}var RC=p.createContext(void 0);function wc(r){const s=p.useContext(RC);return r||s||"ltr"}const TC=["top","right","bottom","left"],Cs=Math.min,Fn=Math.max,rc=Math.round,Ol=Math.floor,Er=r=>({x:r,y:r}),IC={left:"right",right:"left",bottom:"top",top:"bottom"},_C={start:"end",end:"start"};function im(r,s,a){return Fn(r,Cs(s,a))}function Gr(r,s){return typeof r=="function"?r(s):r}function Kr(r){return r.split("-")[0]}function ni(r){return r.split("-")[1]}function Km(r){return r==="x"?"y":"x"}function Ym(r){return r==="y"?"height":"width"}const MC=new Set(["top","bottom"]);function Pr(r){return MC.has(Kr(r))?"y":"x"}function Qm(r){return Km(Pr(r))}function OC(r,s,a){a===void 0&&(a=!1);const o=ni(r),l=Qm(r),d=Ym(l);let u=l==="x"?o===(a?"end":"start")?"right":"left":o==="start"?"bottom":"top";return s.reference[d]>s.floating[d]&&(u=sc(u)),[u,sc(u)]}function LC(r){const s=sc(r);return[om(r),s,om(s)]}function om(r){return r.replace(/start|end/g,s=>_C[s])}const qg=["left","right"],Gg=["right","left"],FC=["top","bottom"],zC=["bottom","top"];function $C(r,s,a){switch(r){case"top":case"bottom":return a?s?Gg:qg:s?qg:Gg;case"left":case"right":return s?FC:zC;default:return[]}}function BC(r,s,a,o){const l=ni(r);let d=$C(Kr(r),a==="start",o);return l&&(d=d.map(u=>u+"-"+l),s&&(d=d.concat(d.map(om)))),d}function sc(r){return r.replace(/left|right|bottom|top/g,s=>IC[s])}function UC(r){return{top:0,right:0,bottom:0,left:0,...r}}function z0(r){return typeof r!="number"?UC(r):{top:r,right:r,bottom:r,left:r}}function ac(r){const{x:s,y:a,width:o,height:l}=r;return{width:o,height:l,top:a,left:s,right:s+o,bottom:a+l,x:s,y:a}}function Kg(r,s,a){let{reference:o,floating:l}=r;const d=Pr(s),u=Qm(s),f=Ym(u),y=Kr(s),x=d==="y",v=o.x+o.width/2-l.width/2,g=o.y+o.height/2-l.height/2,S=o[f]/2-l[f]/2;let C;switch(y){case"top":C={x:v,y:o.y-l.height};break;case"bottom":C={x:v,y:o.y+o.height};break;case"right":C={x:o.x+o.width,y:g};break;case"left":C={x:o.x-l.width,y:g};break;default:C={x:o.x,y:o.y}}switch(ni(s)){case"start":C[u]-=S*(a&&x?-1:1);break;case"end":C[u]+=S*(a&&x?-1:1);break}return C}const HC=async(r,s,a)=>{const{placement:o="bottom",strategy:l="absolute",middleware:d=[],platform:u}=a,f=d.filter(Boolean),y=await(u.isRTL==null?void 0:u.isRTL(s));let x=await u.getElementRects({reference:r,floating:s,strategy:l}),{x:v,y:g}=Kg(x,o,y),S=o,C={},N=0;for(let b=0;b<f.length;b++){const{name:j,fn:E}=f[b],{x:I,y:M,data:D,reset:q}=await E({x:v,y:g,initialPlacement:o,placement:S,strategy:l,middlewareData:C,rects:x,platform:u,elements:{reference:r,floating:s}});v=I??v,g=M??g,C={...C,[j]:{...C[j],...D}},q&&N<=50&&(N++,typeof q=="object"&&(q.placement&&(S=q.placement),q.rects&&(x=q.rects===!0?await u.getElementRects({reference:r,floating:s,strategy:l}):q.rects),{x:v,y:g}=Kg(x,S,y)),b=-1)}return{x:v,y:g,placement:S,strategy:l,middlewareData:C}};async function eo(r,s){var a;s===void 0&&(s={});const{x:o,y:l,platform:d,rects:u,elements:f,strategy:y}=r,{boundary:x="clippingAncestors",rootBoundary:v="viewport",elementContext:g="floating",altBoundary:S=!1,padding:C=0}=Gr(s,r),N=z0(C),j=f[S?g==="floating"?"reference":"floating":g],E=ac(await d.getClippingRect({element:(a=await(d.isElement==null?void 0:d.isElement(j)))==null||a?j:j.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(f.floating)),boundary:x,rootBoundary:v,strategy:y})),I=g==="floating"?{x:o,y:l,width:u.floating.width,height:u.floating.height}:u.reference,M=await(d.getOffsetParent==null?void 0:d.getOffsetParent(f.floating)),D=await(d.isElement==null?void 0:d.isElement(M))?await(d.getScale==null?void 0:d.getScale(M))||{x:1,y:1}:{x:1,y:1},q=ac(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:I,offsetParent:M,strategy:y}):I);return{top:(E.top-q.top+N.top)/D.y,bottom:(q.bottom-E.bottom+N.bottom)/D.y,left:(E.left-q.left+N.left)/D.x,right:(q.right-E.right+N.right)/D.x}}const VC=r=>({name:"arrow",options:r,async fn(s){const{x:a,y:o,placement:l,rects:d,platform:u,elements:f,middlewareData:y}=s,{element:x,padding:v=0}=Gr(r,s)||{};if(x==null)return{};const g=z0(v),S={x:a,y:o},C=Qm(l),N=Ym(C),b=await u.getDimensions(x),j=C==="y",E=j?"top":"left",I=j?"bottom":"right",M=j?"clientHeight":"clientWidth",D=d.reference[N]+d.reference[C]-S[C]-d.floating[N],q=S[C]-d.reference[C],Q=await(u.getOffsetParent==null?void 0:u.getOffsetParent(x));let U=Q?Q[M]:0;(!U||!await(u.isElement==null?void 0:u.isElement(Q)))&&(U=f.floating[M]||d.floating[N]);const V=D/2-q/2,ie=U/2-b[N]/2-1,le=Cs(g[E],ie),we=Cs(g[I],ie),Z=le,ne=U-b[N]-we,fe=U/2-b[N]/2+V,me=im(Z,fe,ne),se=!y.arrow&&ni(l)!=null&&fe!==me&&d.reference[N]/2-(fe<Z?le:we)-b[N]/2<0,te=se?fe<Z?fe-Z:fe-ne:0;return{[C]:S[C]+te,data:{[C]:me,centerOffset:fe-me-te,...se&&{alignmentOffset:te}},reset:se}}}),WC=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(s){var a,o;const{placement:l,middlewareData:d,rects:u,initialPlacement:f,platform:y,elements:x}=s,{mainAxis:v=!0,crossAxis:g=!0,fallbackPlacements:S,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:b=!0,...j}=Gr(r,s);if((a=d.arrow)!=null&&a.alignmentOffset)return{};const E=Kr(l),I=Pr(f),M=Kr(f)===f,D=await(y.isRTL==null?void 0:y.isRTL(x.floating)),q=S||(M||!b?[sc(f)]:LC(f)),Q=N!=="none";!S&&Q&&q.push(...BC(f,b,N,D));const U=[f,...q],V=await eo(s,j),ie=[];let le=((o=d.flip)==null?void 0:o.overflows)||[];if(v&&ie.push(V[E]),g){const fe=OC(l,u,D);ie.push(V[fe[0]],V[fe[1]])}if(le=[...le,{placement:l,overflows:ie}],!ie.every(fe=>fe<=0)){var we,Z;const fe=(((we=d.flip)==null?void 0:we.index)||0)+1,me=U[fe];if(me&&(!(g==="alignment"?I!==Pr(me):!1)||le.every(L=>Pr(L.placement)===I?L.overflows[0]>0:!0)))return{data:{index:fe,overflows:le},reset:{placement:me}};let se=(Z=le.filter(te=>te.overflows[0]<=0).sort((te,L)=>te.overflows[1]-L.overflows[1])[0])==null?void 0:Z.placement;if(!se)switch(C){case"bestFit":{var ne;const te=(ne=le.filter(L=>{if(Q){const k=Pr(L.placement);return k===I||k==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(k=>k>0).reduce((k,K)=>k+K,0)]).sort((L,k)=>L[1]-k[1])[0])==null?void 0:ne[0];te&&(se=te);break}case"initialPlacement":se=f;break}if(l!==se)return{reset:{placement:se}}}return{}}}};function Yg(r,s){return{top:r.top-s.height,right:r.right-s.width,bottom:r.bottom-s.height,left:r.left-s.width}}function Qg(r){return TC.some(s=>r[s]>=0)}const qC=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(s){const{rects:a}=s,{strategy:o="referenceHidden",...l}=Gr(r,s);switch(o){case"referenceHidden":{const d=await eo(s,{...l,elementContext:"reference"}),u=Yg(d,a.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Qg(u)}}}case"escaped":{const d=await eo(s,{...l,altBoundary:!0}),u=Yg(d,a.floating);return{data:{escapedOffsets:u,escaped:Qg(u)}}}default:return{}}}}},$0=new Set(["left","top"]);async function GC(r,s){const{placement:a,platform:o,elements:l}=r,d=await(o.isRTL==null?void 0:o.isRTL(l.floating)),u=Kr(a),f=ni(a),y=Pr(a)==="y",x=$0.has(u)?-1:1,v=d&&y?-1:1,g=Gr(s,r);let{mainAxis:S,crossAxis:C,alignmentAxis:N}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return f&&typeof N=="number"&&(C=f==="end"?N*-1:N),y?{x:C*v,y:S*x}:{x:S*x,y:C*v}}const KC=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(s){var a,o;const{x:l,y:d,placement:u,middlewareData:f}=s,y=await GC(s,r);return u===((a=f.offset)==null?void 0:a.placement)&&(o=f.arrow)!=null&&o.alignmentOffset?{}:{x:l+y.x,y:d+y.y,data:{...y,placement:u}}}}},YC=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(s){const{x:a,y:o,placement:l}=s,{mainAxis:d=!0,crossAxis:u=!1,limiter:f={fn:j=>{let{x:E,y:I}=j;return{x:E,y:I}}},...y}=Gr(r,s),x={x:a,y:o},v=await eo(s,y),g=Pr(Kr(l)),S=Km(g);let C=x[S],N=x[g];if(d){const j=S==="y"?"top":"left",E=S==="y"?"bottom":"right",I=C+v[j],M=C-v[E];C=im(I,C,M)}if(u){const j=g==="y"?"top":"left",E=g==="y"?"bottom":"right",I=N+v[j],M=N-v[E];N=im(I,N,M)}const b=f.fn({...s,[S]:C,[g]:N});return{...b,data:{x:b.x-a,y:b.y-o,enabled:{[S]:d,[g]:u}}}}}},QC=function(r){return r===void 0&&(r={}),{options:r,fn(s){const{x:a,y:o,placement:l,rects:d,middlewareData:u}=s,{offset:f=0,mainAxis:y=!0,crossAxis:x=!0}=Gr(r,s),v={x:a,y:o},g=Pr(l),S=Km(g);let C=v[S],N=v[g];const b=Gr(f,s),j=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(y){const M=S==="y"?"height":"width",D=d.reference[S]-d.floating[M]+j.mainAxis,q=d.reference[S]+d.reference[M]-j.mainAxis;C<D?C=D:C>q&&(C=q)}if(x){var E,I;const M=S==="y"?"width":"height",D=$0.has(Kr(l)),q=d.reference[g]-d.floating[M]+(D&&((E=u.offset)==null?void 0:E[g])||0)+(D?0:j.crossAxis),Q=d.reference[g]+d.reference[M]+(D?0:((I=u.offset)==null?void 0:I[g])||0)-(D?j.crossAxis:0);N<q?N=q:N>Q&&(N=Q)}return{[S]:C,[g]:N}}}},XC=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(s){var a,o;const{placement:l,rects:d,platform:u,elements:f}=s,{apply:y=()=>{},...x}=Gr(r,s),v=await eo(s,x),g=Kr(l),S=ni(l),C=Pr(l)==="y",{width:N,height:b}=d.floating;let j,E;g==="top"||g==="bottom"?(j=g,E=S===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(E=g,j=S==="end"?"top":"bottom");const I=b-v.top-v.bottom,M=N-v.left-v.right,D=Cs(b-v[j],I),q=Cs(N-v[E],M),Q=!s.middlewareData.shift;let U=D,V=q;if((a=s.middlewareData.shift)!=null&&a.enabled.x&&(V=M),(o=s.middlewareData.shift)!=null&&o.enabled.y&&(U=I),Q&&!S){const le=Fn(v.left,0),we=Fn(v.right,0),Z=Fn(v.top,0),ne=Fn(v.bottom,0);C?V=N-2*(le!==0||we!==0?le+we:Fn(v.left,v.right)):U=b-2*(Z!==0||ne!==0?Z+ne:Fn(v.top,v.bottom))}await y({...s,availableWidth:V,availableHeight:U});const ie=await u.getDimensions(f.floating);return N!==ie.width||b!==ie.height?{reset:{rects:!0}}:{}}}};function jc(){return typeof window<"u"}function ri(r){return B0(r)?(r.nodeName||"").toLowerCase():"#document"}function $n(r){var s;return(r==null||(s=r.ownerDocument)==null?void 0:s.defaultView)||window}function Ar(r){var s;return(s=(B0(r)?r.ownerDocument:r.document)||window.document)==null?void 0:s.documentElement}function B0(r){return jc()?r instanceof Node||r instanceof $n(r).Node:!1}function lr(r){return jc()?r instanceof Element||r instanceof $n(r).Element:!1}function kr(r){return jc()?r instanceof HTMLElement||r instanceof $n(r).HTMLElement:!1}function Xg(r){return!jc()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof $n(r).ShadowRoot}const JC=new Set(["inline","contents"]);function co(r){const{overflow:s,overflowX:a,overflowY:o,display:l}=cr(r);return/auto|scroll|overlay|hidden|clip/.test(s+o+a)&&!JC.has(l)}const ZC=new Set(["table","td","th"]);function eP(r){return ZC.has(ri(r))}const tP=[":popover-open",":modal"];function bc(r){return tP.some(s=>{try{return r.matches(s)}catch{return!1}})}const nP=["transform","translate","scale","rotate","perspective"],rP=["transform","translate","scale","rotate","perspective","filter"],sP=["paint","layout","strict","content"];function Xm(r){const s=Jm(),a=lr(r)?cr(r):r;return nP.some(o=>a[o]?a[o]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!s&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!s&&(a.filter?a.filter!=="none":!1)||rP.some(o=>(a.willChange||"").includes(o))||sP.some(o=>(a.contain||"").includes(o))}function aP(r){let s=Ps(r);for(;kr(s)&&!Xa(s);){if(Xm(s))return s;if(bc(s))return null;s=Ps(s)}return null}function Jm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iP=new Set(["html","body","#document"]);function Xa(r){return iP.has(ri(r))}function cr(r){return $n(r).getComputedStyle(r)}function Nc(r){return lr(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Ps(r){if(ri(r)==="html")return r;const s=r.assignedSlot||r.parentNode||Xg(r)&&r.host||Ar(r);return Xg(s)?s.host:s}function U0(r){const s=Ps(r);return Xa(s)?r.ownerDocument?r.ownerDocument.body:r.body:kr(s)&&co(s)?s:U0(s)}function to(r,s,a){var o;s===void 0&&(s=[]),a===void 0&&(a=!0);const l=U0(r),d=l===((o=r.ownerDocument)==null?void 0:o.body),u=$n(l);if(d){const f=lm(u);return s.concat(u,u.visualViewport||[],co(l)?l:[],f&&a?to(f):[])}return s.concat(l,to(l,[],a))}function lm(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function H0(r){const s=cr(r);let a=parseFloat(s.width)||0,o=parseFloat(s.height)||0;const l=kr(r),d=l?r.offsetWidth:a,u=l?r.offsetHeight:o,f=rc(a)!==d||rc(o)!==u;return f&&(a=d,o=u),{width:a,height:o,$:f}}function Zm(r){return lr(r)?r:r.contextElement}function Ga(r){const s=Zm(r);if(!kr(s))return Er(1);const a=s.getBoundingClientRect(),{width:o,height:l,$:d}=H0(s);let u=(d?rc(a.width):a.width)/o,f=(d?rc(a.height):a.height)/l;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const oP=Er(0);function V0(r){const s=$n(r);return!Jm()||!s.visualViewport?oP:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function lP(r,s,a){return s===void 0&&(s=!1),!a||s&&a!==$n(r)?!1:s}function la(r,s,a,o){s===void 0&&(s=!1),a===void 0&&(a=!1);const l=r.getBoundingClientRect(),d=Zm(r);let u=Er(1);s&&(o?lr(o)&&(u=Ga(o)):u=Ga(r));const f=lP(d,a,o)?V0(d):Er(0);let y=(l.left+f.x)/u.x,x=(l.top+f.y)/u.y,v=l.width/u.x,g=l.height/u.y;if(d){const S=$n(d),C=o&&lr(o)?$n(o):o;let N=S,b=lm(N);for(;b&&o&&C!==N;){const j=Ga(b),E=b.getBoundingClientRect(),I=cr(b),M=E.left+(b.clientLeft+parseFloat(I.paddingLeft))*j.x,D=E.top+(b.clientTop+parseFloat(I.paddingTop))*j.y;y*=j.x,x*=j.y,v*=j.x,g*=j.y,y+=M,x+=D,N=$n(b),b=lm(N)}}return ac({width:v,height:g,x:y,y:x})}function Sc(r,s){const a=Nc(r).scrollLeft;return s?s.left+a:la(Ar(r)).left+a}function W0(r,s){const a=r.getBoundingClientRect(),o=a.left+s.scrollLeft-Sc(r,a),l=a.top+s.scrollTop;return{x:o,y:l}}function cP(r){let{elements:s,rect:a,offsetParent:o,strategy:l}=r;const d=l==="fixed",u=Ar(o),f=s?bc(s.floating):!1;if(o===u||f&&d)return a;let y={scrollLeft:0,scrollTop:0},x=Er(1);const v=Er(0),g=kr(o);if((g||!g&&!d)&&((ri(o)!=="body"||co(u))&&(y=Nc(o)),kr(o))){const C=la(o);x=Ga(o),v.x=C.x+o.clientLeft,v.y=C.y+o.clientTop}const S=u&&!g&&!d?W0(u,y):Er(0);return{width:a.width*x.x,height:a.height*x.y,x:a.x*x.x-y.scrollLeft*x.x+v.x+S.x,y:a.y*x.y-y.scrollTop*x.y+v.y+S.y}}function dP(r){return Array.from(r.getClientRects())}function uP(r){const s=Ar(r),a=Nc(r),o=r.ownerDocument.body,l=Fn(s.scrollWidth,s.clientWidth,o.scrollWidth,o.clientWidth),d=Fn(s.scrollHeight,s.clientHeight,o.scrollHeight,o.clientHeight);let u=-a.scrollLeft+Sc(r);const f=-a.scrollTop;return cr(o).direction==="rtl"&&(u+=Fn(s.clientWidth,o.clientWidth)-l),{width:l,height:d,x:u,y:f}}const Jg=25;function mP(r,s){const a=$n(r),o=Ar(r),l=a.visualViewport;let d=o.clientWidth,u=o.clientHeight,f=0,y=0;if(l){d=l.width,u=l.height;const v=Jm();(!v||v&&s==="fixed")&&(f=l.offsetLeft,y=l.offsetTop)}const x=Sc(o);if(x<=0){const v=o.ownerDocument,g=v.body,S=getComputedStyle(g),C=v.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,N=Math.abs(o.clientWidth-g.clientWidth-C);N<=Jg&&(d-=N)}else x<=Jg&&(d+=x);return{width:d,height:u,x:f,y}}const fP=new Set(["absolute","fixed"]);function pP(r,s){const a=la(r,!0,s==="fixed"),o=a.top+r.clientTop,l=a.left+r.clientLeft,d=kr(r)?Ga(r):Er(1),u=r.clientWidth*d.x,f=r.clientHeight*d.y,y=l*d.x,x=o*d.y;return{width:u,height:f,x:y,y:x}}function Zg(r,s,a){let o;if(s==="viewport")o=mP(r,a);else if(s==="document")o=uP(Ar(r));else if(lr(s))o=pP(s,a);else{const l=V0(r);o={x:s.x-l.x,y:s.y-l.y,width:s.width,height:s.height}}return ac(o)}function q0(r,s){const a=Ps(r);return a===s||!lr(a)||Xa(a)?!1:cr(a).position==="fixed"||q0(a,s)}function hP(r,s){const a=s.get(r);if(a)return a;let o=to(r,[],!1).filter(f=>lr(f)&&ri(f)!=="body"),l=null;const d=cr(r).position==="fixed";let u=d?Ps(r):r;for(;lr(u)&&!Xa(u);){const f=cr(u),y=Xm(u);!y&&f.position==="fixed"&&(l=null),(d?!y&&!l:!y&&f.position==="static"&&!!l&&fP.has(l.position)||co(u)&&!y&&q0(r,u))?o=o.filter(v=>v!==u):l=f,u=Ps(u)}return s.set(r,o),o}function gP(r){let{element:s,boundary:a,rootBoundary:o,strategy:l}=r;const u=[...a==="clippingAncestors"?bc(s)?[]:hP(s,this._c):[].concat(a),o],f=u[0],y=u.reduce((x,v)=>{const g=Zg(s,v,l);return x.top=Fn(g.top,x.top),x.right=Cs(g.right,x.right),x.bottom=Cs(g.bottom,x.bottom),x.left=Fn(g.left,x.left),x},Zg(s,f,l));return{width:y.right-y.left,height:y.bottom-y.top,x:y.left,y:y.top}}function xP(r){const{width:s,height:a}=H0(r);return{width:s,height:a}}function yP(r,s,a){const o=kr(s),l=Ar(s),d=a==="fixed",u=la(r,!0,d,s);let f={scrollLeft:0,scrollTop:0};const y=Er(0);function x(){y.x=Sc(l)}if(o||!o&&!d)if((ri(s)!=="body"||co(l))&&(f=Nc(s)),o){const C=la(s,!0,d,s);y.x=C.x+s.clientLeft,y.y=C.y+s.clientTop}else l&&x();d&&!o&&l&&x();const v=l&&!o&&!d?W0(l,f):Er(0),g=u.left+f.scrollLeft-y.x-v.x,S=u.top+f.scrollTop-y.y-v.y;return{x:g,y:S,width:u.width,height:u.height}}function zu(r){return cr(r).position==="static"}function ex(r,s){if(!kr(r)||cr(r).position==="fixed")return null;if(s)return s(r);let a=r.offsetParent;return Ar(r)===a&&(a=a.ownerDocument.body),a}function G0(r,s){const a=$n(r);if(bc(r))return a;if(!kr(r)){let l=Ps(r);for(;l&&!Xa(l);){if(lr(l)&&!zu(l))return l;l=Ps(l)}return a}let o=ex(r,s);for(;o&&eP(o)&&zu(o);)o=ex(o,s);return o&&Xa(o)&&zu(o)&&!Xm(o)?a:o||aP(r)||a}const vP=async function(r){const s=this.getOffsetParent||G0,a=this.getDimensions,o=await a(r.floating);return{reference:yP(r.reference,await s(r.floating),r.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function wP(r){return cr(r).direction==="rtl"}const jP={convertOffsetParentRelativeRectToViewportRelativeRect:cP,getDocumentElement:Ar,getClippingRect:gP,getOffsetParent:G0,getElementRects:vP,getClientRects:dP,getDimensions:xP,getScale:Ga,isElement:lr,isRTL:wP};function K0(r,s){return r.x===s.x&&r.y===s.y&&r.width===s.width&&r.height===s.height}function bP(r,s){let a=null,o;const l=Ar(r);function d(){var f;clearTimeout(o),(f=a)==null||f.disconnect(),a=null}function u(f,y){f===void 0&&(f=!1),y===void 0&&(y=1),d();const x=r.getBoundingClientRect(),{left:v,top:g,width:S,height:C}=x;if(f||s(),!S||!C)return;const N=Ol(g),b=Ol(l.clientWidth-(v+S)),j=Ol(l.clientHeight-(g+C)),E=Ol(v),M={rootMargin:-N+"px "+-b+"px "+-j+"px "+-E+"px",threshold:Fn(0,Cs(1,y))||1};let D=!0;function q(Q){const U=Q[0].intersectionRatio;if(U!==y){if(!D)return u();U?u(!1,U):o=setTimeout(()=>{u(!1,1e-7)},1e3)}U===1&&!K0(x,r.getBoundingClientRect())&&u(),D=!1}try{a=new IntersectionObserver(q,{...M,root:l.ownerDocument})}catch{a=new IntersectionObserver(q,M)}a.observe(r)}return u(!0),d}function NP(r,s,a,o){o===void 0&&(o={});const{ancestorScroll:l=!0,ancestorResize:d=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:y=!1}=o,x=Zm(r),v=l||d?[...x?to(x):[],...to(s)]:[];v.forEach(E=>{l&&E.addEventListener("scroll",a,{passive:!0}),d&&E.addEventListener("resize",a)});const g=x&&f?bP(x,a):null;let S=-1,C=null;u&&(C=new ResizeObserver(E=>{let[I]=E;I&&I.target===x&&C&&(C.unobserve(s),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var M;(M=C)==null||M.observe(s)})),a()}),x&&!y&&C.observe(x),C.observe(s));let N,b=y?la(r):null;y&&j();function j(){const E=la(r);b&&!K0(b,E)&&a(),b=E,N=requestAnimationFrame(j)}return a(),()=>{var E;v.forEach(I=>{l&&I.removeEventListener("scroll",a),d&&I.removeEventListener("resize",a)}),g?.(),(E=C)==null||E.disconnect(),C=null,y&&cancelAnimationFrame(N)}}const SP=KC,CP=YC,PP=WC,EP=XC,DP=qC,tx=VC,kP=QC,AP=(r,s,a)=>{const o=new Map,l={platform:jP,...a},d={...l.platform,_c:o};return HC(r,s,{...l,platform:d})};var RP=typeof document<"u",TP=function(){},Wl=RP?p.useLayoutEffect:TP;function ic(r,s){if(r===s)return!0;if(typeof r!=typeof s)return!1;if(typeof r=="function"&&r.toString()===s.toString())return!0;let a,o,l;if(r&&s&&typeof r=="object"){if(Array.isArray(r)){if(a=r.length,a!==s.length)return!1;for(o=a;o--!==0;)if(!ic(r[o],s[o]))return!1;return!0}if(l=Object.keys(r),a=l.length,a!==Object.keys(s).length)return!1;for(o=a;o--!==0;)if(!{}.hasOwnProperty.call(s,l[o]))return!1;for(o=a;o--!==0;){const d=l[o];if(!(d==="_owner"&&r.$$typeof)&&!ic(r[d],s[d]))return!1}return!0}return r!==r&&s!==s}function Y0(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function nx(r,s){const a=Y0(r);return Math.round(s*a)/a}function $u(r){const s=p.useRef(r);return Wl(()=>{s.current=r}),s}function IP(r){r===void 0&&(r={});const{placement:s="bottom",strategy:a="absolute",middleware:o=[],platform:l,elements:{reference:d,floating:u}={},transform:f=!0,whileElementsMounted:y,open:x}=r,[v,g]=p.useState({x:0,y:0,strategy:a,placement:s,middlewareData:{},isPositioned:!1}),[S,C]=p.useState(o);ic(S,o)||C(o);const[N,b]=p.useState(null),[j,E]=p.useState(null),I=p.useCallback(L=>{L!==Q.current&&(Q.current=L,b(L))},[]),M=p.useCallback(L=>{L!==U.current&&(U.current=L,E(L))},[]),D=d||N,q=u||j,Q=p.useRef(null),U=p.useRef(null),V=p.useRef(v),ie=y!=null,le=$u(y),we=$u(l),Z=$u(x),ne=p.useCallback(()=>{if(!Q.current||!U.current)return;const L={placement:s,strategy:a,middleware:S};we.current&&(L.platform=we.current),AP(Q.current,U.current,L).then(k=>{const K={...k,isPositioned:Z.current!==!1};fe.current&&!ic(V.current,K)&&(V.current=K,so.flushSync(()=>{g(K)}))})},[S,s,a,we,Z]);Wl(()=>{x===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,g(L=>({...L,isPositioned:!1})))},[x]);const fe=p.useRef(!1);Wl(()=>(fe.current=!0,()=>{fe.current=!1}),[]),Wl(()=>{if(D&&(Q.current=D),q&&(U.current=q),D&&q){if(le.current)return le.current(D,q,ne);ne()}},[D,q,ne,le,ie]);const me=p.useMemo(()=>({reference:Q,floating:U,setReference:I,setFloating:M}),[I,M]),se=p.useMemo(()=>({reference:D,floating:q}),[D,q]),te=p.useMemo(()=>{const L={position:a,left:0,top:0};if(!se.floating)return L;const k=nx(se.floating,v.x),K=nx(se.floating,v.y);return f?{...L,transform:"translate("+k+"px, "+K+"px)",...Y0(se.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:k,top:K}},[a,f,se.floating,v.x,v.y]);return p.useMemo(()=>({...v,update:ne,refs:me,elements:se,floatingStyles:te}),[v,ne,me,se,te])}const _P=r=>{function s(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:r,fn(a){const{element:o,padding:l}=typeof r=="function"?r(a):r;return o&&s(o)?o.current!=null?tx({element:o.current,padding:l}).fn(a):{}:o?tx({element:o,padding:l}).fn(a):{}}}},MP=(r,s)=>({...SP(r),options:[r,s]}),OP=(r,s)=>({...CP(r),options:[r,s]}),LP=(r,s)=>({...kP(r),options:[r,s]}),FP=(r,s)=>({...PP(r),options:[r,s]}),zP=(r,s)=>({...EP(r),options:[r,s]}),$P=(r,s)=>({...DP(r),options:[r,s]}),BP=(r,s)=>({..._P(r),options:[r,s]});var UP="Arrow",Q0=p.forwardRef((r,s)=>{const{children:a,width:o=10,height:l=5,...d}=r;return e.jsx(qe.svg,{...d,ref:s,width:o,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?a:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Q0.displayName=UP;var HP=Q0;function X0(r){const[s,a]=p.useState(void 0);return vn(()=>{if(r){a({width:r.offsetWidth,height:r.offsetHeight});const o=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const d=l[0];let u,f;if("borderBoxSize"in d){const y=d.borderBoxSize,x=Array.isArray(y)?y[0]:y;u=x.inlineSize,f=x.blockSize}else u=r.offsetWidth,f=r.offsetHeight;a({width:u,height:f})});return o.observe(r,{box:"border-box"}),()=>o.unobserve(r)}else a(void 0)},[r]),s}var ef="Popper",[J0,si]=dr(ef),[VP,Z0]=J0(ef),ey=r=>{const{__scopePopper:s,children:a}=r,[o,l]=p.useState(null);return e.jsx(VP,{scope:s,anchor:o,onAnchorChange:l,children:a})};ey.displayName=ef;var ty="PopperAnchor",ny=p.forwardRef((r,s)=>{const{__scopePopper:a,virtualRef:o,...l}=r,d=Z0(ty,a),u=p.useRef(null),f=xt(s,u),y=p.useRef(null);return p.useEffect(()=>{const x=y.current;y.current=o?.current||u.current,x!==y.current&&d.onAnchorChange(y.current)}),o?null:e.jsx(qe.div,{...l,ref:f})});ny.displayName=ty;var tf="PopperContent",[WP,qP]=J0(tf),ry=p.forwardRef((r,s)=>{const{__scopePopper:a,side:o="bottom",sideOffset:l=0,align:d="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:y=!0,collisionBoundary:x=[],collisionPadding:v=0,sticky:g="partial",hideWhenDetached:S=!1,updatePositionStrategy:C="optimized",onPlaced:N,...b}=r,j=Z0(tf,a),[E,I]=p.useState(null),M=xt(s,B=>I(B)),[D,q]=p.useState(null),Q=X0(D),U=Q?.width??0,V=Q?.height??0,ie=o+(d!=="center"?"-"+d:""),le=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},we=Array.isArray(x)?x:[x],Z=we.length>0,ne={padding:le,boundary:we.filter(KP),altBoundary:Z},{refs:fe,floatingStyles:me,placement:se,isPositioned:te,middlewareData:L}=IP({strategy:"fixed",placement:ie,whileElementsMounted:(...B)=>NP(...B,{animationFrame:C==="always"}),elements:{reference:j.anchor},middleware:[MP({mainAxis:l+V,alignmentAxis:u}),y&&OP({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?LP():void 0,...ne}),y&&FP({...ne}),zP({...ne,apply:({elements:B,rects:Y,availableWidth:he,availableHeight:Ne})=>{const{width:Qe,height:Je}=Y.reference,yt=B.floating.style;yt.setProperty("--radix-popper-available-width",`${he}px`),yt.setProperty("--radix-popper-available-height",`${Ne}px`),yt.setProperty("--radix-popper-anchor-width",`${Qe}px`),yt.setProperty("--radix-popper-anchor-height",`${Je}px`)}}),D&&BP({element:D,padding:f}),YP({arrowWidth:U,arrowHeight:V}),S&&$P({strategy:"referenceHidden",...ne})]}),[k,K]=iy(se),A=Dr(N);vn(()=>{te&&A?.()},[te,A]);const T=L.arrow?.x,z=L.arrow?.y,O=L.arrow?.centerOffset!==0,[R,X]=p.useState();return vn(()=>{E&&X(window.getComputedStyle(E).zIndex)},[E]),e.jsx("div",{ref:fe.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:te?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:R,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:e.jsx(WP,{scope:a,placedSide:k,onArrowChange:q,arrowX:T,arrowY:z,shouldHideArrow:O,children:e.jsx(qe.div,{"data-side":k,"data-align":K,...b,ref:M,style:{...b.style,animation:te?void 0:"none"}})})})});ry.displayName=tf;var sy="PopperArrow",GP={top:"bottom",right:"left",bottom:"top",left:"right"},ay=p.forwardRef(function(s,a){const{__scopePopper:o,...l}=s,d=qP(sy,o),u=GP[d.placedSide];return e.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:e.jsx(HP,{...l,ref:a,style:{...l.style,display:"block"}})})});ay.displayName=sy;function KP(r){return r!==null}var YP=r=>({name:"transformOrigin",options:r,fn(s){const{placement:a,rects:o,middlewareData:l}=s,u=l.arrow?.centerOffset!==0,f=u?0:r.arrowWidth,y=u?0:r.arrowHeight,[x,v]=iy(a),g={start:"0%",center:"50%",end:"100%"}[v],S=(l.arrow?.x??0)+f/2,C=(l.arrow?.y??0)+y/2;let N="",b="";return x==="bottom"?(N=u?g:`${S}px`,b=`${-y}px`):x==="top"?(N=u?g:`${S}px`,b=`${o.floating.height+y}px`):x==="right"?(N=`${-y}px`,b=u?g:`${C}px`):x==="left"&&(N=`${o.floating.width+y}px`,b=u?g:`${C}px`),{data:{x:N,y:b}}}});function iy(r){const[s,a="center"]=r.split("-");return[s,a]}var nf=ey,Cc=ny,rf=ry,sf=ay;function oy(r){const s=p.useRef({value:r,previous:r});return p.useMemo(()=>(s.current.value!==r&&(s.current.previous=s.current.value,s.current.value=r),s.current.previous),[r])}var ly=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),QP="VisuallyHidden",XP=p.forwardRef((r,s)=>e.jsx(qe.span,{...r,ref:s,style:{...ly,...r.style}}));XP.displayName=QP;var JP=[" ","Enter","ArrowUp","ArrowDown"],ZP=[" ","Enter"],ca="Select",[Pc,Ec,eE]=Gm(ca),[ai]=dr(ca,[eE,si]),Dc=si(),[tE,Os]=ai(ca),[nE,rE]=ai(ca),cy=r=>{const{__scopeSelect:s,children:a,open:o,defaultOpen:l,onOpenChange:d,value:u,defaultValue:f,onValueChange:y,dir:x,name:v,autoComplete:g,disabled:S,required:C,form:N}=r,b=Dc(s),[j,E]=p.useState(null),[I,M]=p.useState(null),[D,q]=p.useState(!1),Q=wc(x),[U,V]=Ss({prop:o,defaultProp:l??!1,onChange:d,caller:ca}),[ie,le]=Ss({prop:u,defaultProp:f,onChange:y,caller:ca}),we=p.useRef(null),Z=j?N||!!j.closest("form"):!0,[ne,fe]=p.useState(new Set),me=Array.from(ne).map(se=>se.props.value).join(";");return e.jsx(nf,{...b,children:e.jsxs(tE,{required:C,scope:s,trigger:j,onTriggerChange:E,valueNode:I,onValueNodeChange:M,valueNodeHasChildren:D,onValueNodeHasChildrenChange:q,contentId:mn(),value:ie,onValueChange:le,open:U,onOpenChange:V,dir:Q,triggerPointerDownPosRef:we,disabled:S,children:[e.jsx(Pc.Provider,{scope:s,children:e.jsx(nE,{scope:r.__scopeSelect,onNativeOptionAdd:p.useCallback(se=>{fe(te=>new Set(te).add(se))},[]),onNativeOptionRemove:p.useCallback(se=>{fe(te=>{const L=new Set(te);return L.delete(se),L})},[]),children:a})}),Z?e.jsxs(Ry,{"aria-hidden":!0,required:C,tabIndex:-1,name:v,autoComplete:g,value:ie,onChange:se=>le(se.target.value),disabled:S,form:N,children:[ie===void 0?e.jsx("option",{value:""}):null,Array.from(ne)]},me):null]})})};cy.displayName=ca;var dy="SelectTrigger",uy=p.forwardRef((r,s)=>{const{__scopeSelect:a,disabled:o=!1,...l}=r,d=Dc(a),u=Os(dy,a),f=u.disabled||o,y=xt(s,u.onTriggerChange),x=Ec(a),v=p.useRef("touch"),[g,S,C]=Iy(b=>{const j=x().filter(M=>!M.disabled),E=j.find(M=>M.value===u.value),I=_y(j,b,E);I!==void 0&&u.onValueChange(I.value)}),N=b=>{f||(u.onOpenChange(!0),C()),b&&(u.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return e.jsx(Cc,{asChild:!0,...d,children:e.jsx(qe.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":Ty(u.value)?"":void 0,...l,ref:y,onClick:Ae(l.onClick,b=>{b.currentTarget.focus(),v.current!=="mouse"&&N(b)}),onPointerDown:Ae(l.onPointerDown,b=>{v.current=b.pointerType;const j=b.target;j.hasPointerCapture(b.pointerId)&&j.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(N(b),b.preventDefault())}),onKeyDown:Ae(l.onKeyDown,b=>{const j=g.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&S(b.key),!(j&&b.key===" ")&&JP.includes(b.key)&&(N(),b.preventDefault())})})})});uy.displayName=dy;var my="SelectValue",fy=p.forwardRef((r,s)=>{const{__scopeSelect:a,className:o,style:l,children:d,placeholder:u="",...f}=r,y=Os(my,a),{onValueNodeHasChildrenChange:x}=y,v=d!==void 0,g=xt(s,y.onValueNodeChange);return vn(()=>{x(v)},[x,v]),e.jsx(qe.span,{...f,ref:g,style:{pointerEvents:"none"},children:Ty(y.value)?e.jsx(e.Fragment,{children:u}):d})});fy.displayName=my;var sE="SelectIcon",py=p.forwardRef((r,s)=>{const{__scopeSelect:a,children:o,...l}=r;return e.jsx(qe.span,{"aria-hidden":!0,...l,ref:s,children:o||""})});py.displayName=sE;var aE="SelectPortal",hy=r=>e.jsx(oo,{asChild:!0,...r});hy.displayName=aE;var da="SelectContent",gy=p.forwardRef((r,s)=>{const a=Os(da,r.__scopeSelect),[o,l]=p.useState();if(vn(()=>{l(new DocumentFragment)},[]),!a.open){const d=o;return d?so.createPortal(e.jsx(xy,{scope:r.__scopeSelect,children:e.jsx(Pc.Slot,{scope:r.__scopeSelect,children:e.jsx("div",{children:r.children})})}),d):null}return e.jsx(yy,{...r,ref:s})});gy.displayName=da;var ar=10,[xy,Ls]=ai(da),iE="SelectContentImpl",oE=Ns("SelectContent.RemoveScroll"),yy=p.forwardRef((r,s)=>{const{__scopeSelect:a,position:o="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:d,onPointerDownOutside:u,side:f,sideOffset:y,align:x,alignOffset:v,arrowPadding:g,collisionBoundary:S,collisionPadding:C,sticky:N,hideWhenDetached:b,avoidCollisions:j,...E}=r,I=Os(da,a),[M,D]=p.useState(null),[q,Q]=p.useState(null),U=xt(s,B=>D(B)),[V,ie]=p.useState(null),[le,we]=p.useState(null),Z=Ec(a),[ne,fe]=p.useState(!1),me=p.useRef(!1);p.useEffect(()=>{if(M)return gc(M)},[M]),pc();const se=p.useCallback(B=>{const[Y,...he]=Z().map(Je=>Je.ref.current),[Ne]=he.slice(-1),Qe=document.activeElement;for(const Je of B)if(Je===Qe||(Je?.scrollIntoView({block:"nearest"}),Je===Y&&q&&(q.scrollTop=0),Je===Ne&&q&&(q.scrollTop=q.scrollHeight),Je?.focus(),document.activeElement!==Qe))return},[Z,q]),te=p.useCallback(()=>se([V,M]),[se,V,M]);p.useEffect(()=>{ne&&te()},[ne,te]);const{onOpenChange:L,triggerPointerDownPosRef:k}=I;p.useEffect(()=>{if(M){let B={x:0,y:0};const Y=Ne=>{B={x:Math.abs(Math.round(Ne.pageX)-(k.current?.x??0)),y:Math.abs(Math.round(Ne.pageY)-(k.current?.y??0))}},he=Ne=>{B.x<=10&&B.y<=10?Ne.preventDefault():M.contains(Ne.target)||L(!1),document.removeEventListener("pointermove",Y),k.current=null};return k.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",he,{capture:!0})}}},[M,L,k]),p.useEffect(()=>{const B=()=>L(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[L]);const[K,A]=Iy(B=>{const Y=Z().filter(Qe=>!Qe.disabled),he=Y.find(Qe=>Qe.ref.current===document.activeElement),Ne=_y(Y,B,he);Ne&&setTimeout(()=>Ne.ref.current.focus())}),T=p.useCallback((B,Y,he)=>{const Ne=!me.current&&!he;(I.value!==void 0&&I.value===Y||Ne)&&(ie(B),Ne&&(me.current=!0))},[I.value]),z=p.useCallback(()=>M?.focus(),[M]),O=p.useCallback((B,Y,he)=>{const Ne=!me.current&&!he;(I.value!==void 0&&I.value===Y||Ne)&&we(B)},[I.value]),R=o==="popper"?cm:vy,X=R===cm?{side:f,sideOffset:y,align:x,alignOffset:v,arrowPadding:g,collisionBoundary:S,collisionPadding:C,sticky:N,hideWhenDetached:b,avoidCollisions:j}:{};return e.jsx(xy,{scope:a,content:M,viewport:q,onViewportChange:Q,itemRefCallback:T,selectedItem:V,onItemLeave:z,itemTextRefCallback:O,focusSelectedItem:te,selectedItemText:le,position:o,isPositioned:ne,searchRef:K,children:e.jsx(lo,{as:oE,allowPinchZoom:!0,children:e.jsx(io,{asChild:!0,trapped:I.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:Ae(l,B=>{I.trigger?.focus({preventScroll:!0}),B.preventDefault()}),children:e.jsx(ao,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>I.onOpenChange(!1),children:e.jsx(R,{role:"listbox",id:I.contentId,"data-state":I.open?"open":"closed",dir:I.dir,onContextMenu:B=>B.preventDefault(),...E,...X,onPlaced:()=>fe(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Ae(E.onKeyDown,B=>{const Y=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!Y&&B.key.length===1&&A(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let Ne=Z().filter(Qe=>!Qe.disabled).map(Qe=>Qe.ref.current);if(["ArrowUp","End"].includes(B.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const Qe=B.target,Je=Ne.indexOf(Qe);Ne=Ne.slice(Je+1)}setTimeout(()=>se(Ne)),B.preventDefault()}})})})})})})});yy.displayName=iE;var lE="SelectItemAlignedPosition",vy=p.forwardRef((r,s)=>{const{__scopeSelect:a,onPlaced:o,...l}=r,d=Os(da,a),u=Ls(da,a),[f,y]=p.useState(null),[x,v]=p.useState(null),g=xt(s,U=>v(U)),S=Ec(a),C=p.useRef(!1),N=p.useRef(!0),{viewport:b,selectedItem:j,selectedItemText:E,focusSelectedItem:I}=u,M=p.useCallback(()=>{if(d.trigger&&d.valueNode&&f&&x&&b&&j&&E){const U=d.trigger.getBoundingClientRect(),V=x.getBoundingClientRect(),ie=d.valueNode.getBoundingClientRect(),le=E.getBoundingClientRect();if(d.dir!=="rtl"){const Qe=le.left-V.left,Je=ie.left-Qe,yt=U.left-Je,kt=U.width+yt,H=Math.max(kt,V.width),Ge=window.innerWidth-ar,ht=Wg(Je,[ar,Math.max(ar,Ge-H)]);f.style.minWidth=kt+"px",f.style.left=ht+"px"}else{const Qe=V.right-le.right,Je=window.innerWidth-ie.right-Qe,yt=window.innerWidth-U.right-Je,kt=U.width+yt,H=Math.max(kt,V.width),Ge=window.innerWidth-ar,ht=Wg(Je,[ar,Math.max(ar,Ge-H)]);f.style.minWidth=kt+"px",f.style.right=ht+"px"}const we=S(),Z=window.innerHeight-ar*2,ne=b.scrollHeight,fe=window.getComputedStyle(x),me=parseInt(fe.borderTopWidth,10),se=parseInt(fe.paddingTop,10),te=parseInt(fe.borderBottomWidth,10),L=parseInt(fe.paddingBottom,10),k=me+se+ne+L+te,K=Math.min(j.offsetHeight*5,k),A=window.getComputedStyle(b),T=parseInt(A.paddingTop,10),z=parseInt(A.paddingBottom,10),O=U.top+U.height/2-ar,R=Z-O,X=j.offsetHeight/2,B=j.offsetTop+X,Y=me+se+B,he=k-Y;if(Y<=O){const Qe=we.length>0&&j===we[we.length-1].ref.current;f.style.bottom="0px";const Je=x.clientHeight-b.offsetTop-b.offsetHeight,yt=Math.max(R,X+(Qe?z:0)+Je+te),kt=Y+yt;f.style.height=kt+"px"}else{const Qe=we.length>0&&j===we[0].ref.current;f.style.top="0px";const yt=Math.max(O,me+b.offsetTop+(Qe?T:0)+X)+he;f.style.height=yt+"px",b.scrollTop=Y-O+b.offsetTop}f.style.margin=`${ar}px 0`,f.style.minHeight=K+"px",f.style.maxHeight=Z+"px",o?.(),requestAnimationFrame(()=>C.current=!0)}},[S,d.trigger,d.valueNode,f,x,b,j,E,d.dir,o]);vn(()=>M(),[M]);const[D,q]=p.useState();vn(()=>{x&&q(window.getComputedStyle(x).zIndex)},[x]);const Q=p.useCallback(U=>{U&&N.current===!0&&(M(),I?.(),N.current=!1)},[M,I]);return e.jsx(dE,{scope:a,contentWrapper:f,shouldExpandOnScrollRef:C,onScrollButtonChange:Q,children:e.jsx("div",{ref:y,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:e.jsx(qe.div,{...l,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});vy.displayName=lE;var cE="SelectPopperPosition",cm=p.forwardRef((r,s)=>{const{__scopeSelect:a,align:o="start",collisionPadding:l=ar,...d}=r,u=Dc(a);return e.jsx(rf,{...u,...d,ref:s,align:o,collisionPadding:l,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cm.displayName=cE;var[dE,af]=ai(da,{}),dm="SelectViewport",wy=p.forwardRef((r,s)=>{const{__scopeSelect:a,nonce:o,...l}=r,d=Ls(dm,a),u=af(dm,a),f=xt(s,d.onViewportChange),y=p.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(Pc.Slot,{scope:a,children:e.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:Ae(l.onScroll,x=>{const v=x.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:S}=u;if(S?.current&&g){const C=Math.abs(y.current-v.scrollTop);if(C>0){const N=window.innerHeight-ar*2,b=parseFloat(g.style.minHeight),j=parseFloat(g.style.height),E=Math.max(b,j);if(E<N){const I=E+C,M=Math.min(N,I),D=I-M;g.style.height=M+"px",g.style.bottom==="0px"&&(v.scrollTop=D>0?D:0,g.style.justifyContent="flex-end")}}}y.current=v.scrollTop})})})]})});wy.displayName=dm;var jy="SelectGroup",[uE,mE]=ai(jy),fE=p.forwardRef((r,s)=>{const{__scopeSelect:a,...o}=r,l=mn();return e.jsx(uE,{scope:a,id:l,children:e.jsx(qe.div,{role:"group","aria-labelledby":l,...o,ref:s})})});fE.displayName=jy;var by="SelectLabel",pE=p.forwardRef((r,s)=>{const{__scopeSelect:a,...o}=r,l=mE(by,a);return e.jsx(qe.div,{id:l.id,...o,ref:s})});pE.displayName=by;var oc="SelectItem",[hE,Ny]=ai(oc),Sy=p.forwardRef((r,s)=>{const{__scopeSelect:a,value:o,disabled:l=!1,textValue:d,...u}=r,f=Os(oc,a),y=Ls(oc,a),x=f.value===o,[v,g]=p.useState(d??""),[S,C]=p.useState(!1),N=xt(s,I=>y.itemRefCallback?.(I,o,l)),b=mn(),j=p.useRef("touch"),E=()=>{l||(f.onValueChange(o),f.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(hE,{scope:a,value:o,disabled:l,textId:b,isSelected:x,onItemTextChange:p.useCallback(I=>{g(M=>M||(I?.textContent??"").trim())},[]),children:e.jsx(Pc.ItemSlot,{scope:a,value:o,disabled:l,textValue:v,children:e.jsx(qe.div,{role:"option","aria-labelledby":b,"data-highlighted":S?"":void 0,"aria-selected":x&&S,"data-state":x?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...u,ref:N,onFocus:Ae(u.onFocus,()=>C(!0)),onBlur:Ae(u.onBlur,()=>C(!1)),onClick:Ae(u.onClick,()=>{j.current!=="mouse"&&E()}),onPointerUp:Ae(u.onPointerUp,()=>{j.current==="mouse"&&E()}),onPointerDown:Ae(u.onPointerDown,I=>{j.current=I.pointerType}),onPointerMove:Ae(u.onPointerMove,I=>{j.current=I.pointerType,l?y.onItemLeave?.():j.current==="mouse"&&I.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ae(u.onPointerLeave,I=>{I.currentTarget===document.activeElement&&y.onItemLeave?.()}),onKeyDown:Ae(u.onKeyDown,I=>{y.searchRef?.current!==""&&I.key===" "||(ZP.includes(I.key)&&E(),I.key===" "&&I.preventDefault())})})})})});Sy.displayName=oc;var Ki="SelectItemText",Cy=p.forwardRef((r,s)=>{const{__scopeSelect:a,className:o,style:l,...d}=r,u=Os(Ki,a),f=Ls(Ki,a),y=Ny(Ki,a),x=rE(Ki,a),[v,g]=p.useState(null),S=xt(s,E=>g(E),y.onItemTextChange,E=>f.itemTextRefCallback?.(E,y.value,y.disabled)),C=v?.textContent,N=p.useMemo(()=>e.jsx("option",{value:y.value,disabled:y.disabled,children:C},y.value),[y.disabled,y.value,C]),{onNativeOptionAdd:b,onNativeOptionRemove:j}=x;return vn(()=>(b(N),()=>j(N)),[b,j,N]),e.jsxs(e.Fragment,{children:[e.jsx(qe.span,{id:y.textId,...d,ref:S}),y.isSelected&&u.valueNode&&!u.valueNodeHasChildren?so.createPortal(d.children,u.valueNode):null]})});Cy.displayName=Ki;var Py="SelectItemIndicator",Ey=p.forwardRef((r,s)=>{const{__scopeSelect:a,...o}=r;return Ny(Py,a).isSelected?e.jsx(qe.span,{"aria-hidden":!0,...o,ref:s}):null});Ey.displayName=Py;var um="SelectScrollUpButton",Dy=p.forwardRef((r,s)=>{const a=Ls(um,r.__scopeSelect),o=af(um,r.__scopeSelect),[l,d]=p.useState(!1),u=xt(s,o.onScrollButtonChange);return vn(()=>{if(a.viewport&&a.isPositioned){let f=function(){const x=y.scrollTop>0;d(x)};const y=a.viewport;return f(),y.addEventListener("scroll",f),()=>y.removeEventListener("scroll",f)}},[a.viewport,a.isPositioned]),l?e.jsx(Ay,{...r,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:y}=a;f&&y&&(f.scrollTop=f.scrollTop-y.offsetHeight)}}):null});Dy.displayName=um;var mm="SelectScrollDownButton",ky=p.forwardRef((r,s)=>{const a=Ls(mm,r.__scopeSelect),o=af(mm,r.__scopeSelect),[l,d]=p.useState(!1),u=xt(s,o.onScrollButtonChange);return vn(()=>{if(a.viewport&&a.isPositioned){let f=function(){const x=y.scrollHeight-y.clientHeight,v=Math.ceil(y.scrollTop)<x;d(v)};const y=a.viewport;return f(),y.addEventListener("scroll",f),()=>y.removeEventListener("scroll",f)}},[a.viewport,a.isPositioned]),l?e.jsx(Ay,{...r,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:y}=a;f&&y&&(f.scrollTop=f.scrollTop+y.offsetHeight)}}):null});ky.displayName=mm;var Ay=p.forwardRef((r,s)=>{const{__scopeSelect:a,onAutoScroll:o,...l}=r,d=Ls("SelectScrollButton",a),u=p.useRef(null),f=Ec(a),y=p.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return p.useEffect(()=>()=>y(),[y]),vn(()=>{f().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),e.jsx(qe.div,{"aria-hidden":!0,...l,ref:s,style:{flexShrink:0,...l.style},onPointerDown:Ae(l.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(o,50))}),onPointerMove:Ae(l.onPointerMove,()=>{d.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(o,50))}),onPointerLeave:Ae(l.onPointerLeave,()=>{y()})})}),gE="SelectSeparator",xE=p.forwardRef((r,s)=>{const{__scopeSelect:a,...o}=r;return e.jsx(qe.div,{"aria-hidden":!0,...o,ref:s})});xE.displayName=gE;var fm="SelectArrow",yE=p.forwardRef((r,s)=>{const{__scopeSelect:a,...o}=r,l=Dc(a),d=Os(fm,a),u=Ls(fm,a);return d.open&&u.position==="popper"?e.jsx(sf,{...l,...o,ref:s}):null});yE.displayName=fm;var vE="SelectBubbleInput",Ry=p.forwardRef(({__scopeSelect:r,value:s,...a},o)=>{const l=p.useRef(null),d=xt(o,l),u=oy(s);return p.useEffect(()=>{const f=l.current;if(!f)return;const y=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(y,"value").set;if(u!==s&&v){const g=new Event("change",{bubbles:!0});v.call(f,s),f.dispatchEvent(g)}},[u,s]),e.jsx(qe.select,{...a,style:{...ly,...a.style},ref:d,defaultValue:s})});Ry.displayName=vE;function Ty(r){return r===""||r===void 0}function Iy(r){const s=Dr(r),a=p.useRef(""),o=p.useRef(0),l=p.useCallback(u=>{const f=a.current+u;s(f),(function y(x){a.current=x,window.clearTimeout(o.current),x!==""&&(o.current=window.setTimeout(()=>y(""),1e3))})(f)},[s]),d=p.useCallback(()=>{a.current="",window.clearTimeout(o.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(o.current),[]),[a,l,d]}function _y(r,s,a){const l=s.length>1&&Array.from(s).every(x=>x===s[0])?s[0]:s,d=a?r.indexOf(a):-1;let u=wE(r,Math.max(d,0));l.length===1&&(u=u.filter(x=>x!==a));const y=u.find(x=>x.textValue.toLowerCase().startsWith(l.toLowerCase()));return y!==a?y:void 0}function wE(r,s){return r.map((a,o)=>r[(s+o)%r.length])}var jE=cy,bE=uy,NE=fy,SE=py,CE=hy,PE=gy,EE=wy,DE=Sy,kE=Cy,AE=Ey,RE=Dy,TE=ky;function qt({...r}){return e.jsx(jE,{"data-slot":"select",...r})}function Gt({...r}){return e.jsx(NE,{"data-slot":"select-value",...r})}function Kt({className:r,size:s="default",children:a,...o}){return e.jsxs(bE,{"data-slot":"select-trigger","data-size":s,className:Ye("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...o,children:[a,e.jsx(SE,{asChild:!0,children:e.jsx(Xl,{className:"size-4 opacity-50"})})]})}function Yt({className:r,children:s,position:a="popper",...o}){return e.jsx(CE,{children:e.jsxs(PE,{"data-slot":"select-content",className:Ye("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:a,...o,children:[e.jsx(IE,{}),e.jsx(EE,{className:Ye("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),e.jsx(_E,{})]})})}function Ke({className:r,children:s,...a}){return e.jsxs(DE,{"data-slot":"select-item",className:Ye("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...a,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(AE,{children:e.jsx(Lm,{className:"size-4"})})}),e.jsx(kE,{children:s})]})}function IE({className:r,...s}){return e.jsx(RE,{"data-slot":"select-scroll-up-button",className:Ye("flex cursor-default items-center justify-center py-1",r),...s,children:e.jsx(Z1,{className:"size-4"})})}function _E({className:r,...s}){return e.jsx(TE,{"data-slot":"select-scroll-down-button",className:Ye("flex cursor-default items-center justify-center py-1",r),...s,children:e.jsx(Xl,{className:"size-4"})})}const Ua="hospital_patients",ME=[{id:"P001",name:"Maria Santos",dateOfBirth:"1985-03-15",sex:"Female",contactNumber:"+63 917 123 4567",address:"123 Rizal Street, Quezon City, Metro Manila",email:"maria.santos@email.com",bloodType:"O+",emergencyContact:{name:"Juan Santos",relationship:"Husband",phone:"+63 917 234 5678"},services:[{id:"SVC001",date:"2025-10-15",description:"Clinical Laboratory - Complete Blood Count",category:"Laboratory",price:1500,attendingPhysician:"Dr. Garcia",status:"Completed"},{id:"SVC002",date:"2025-10-16",description:"X-Ray - Chest PA",category:"Radiology",price:2e3,attendingPhysician:"Dr. Garcia",status:"Completed"},{id:"SVC003",date:"2025-10-16",description:"Consultation - General Medicine",category:"Consultation",price:1e3,attendingPhysician:"Dr. Garcia",status:"Completed"}],medicines:[{id:"MED001",date:"2025-10-16",description:"Amoxicillin 500mg",quantity:21,unitPrice:15,totalPrice:315,prescribedBy:"Dr. Garcia",status:"Dispensed"},{id:"MED002",date:"2025-10-16",description:"Paracetamol 500mg",quantity:20,unitPrice:5,totalPrice:100,prescribedBy:"Dr. Garcia",status:"Dispensed"}]},{id:"P002",name:"Juan Dela Cruz",dateOfBirth:"1978-08-22",sex:"Male",contactNumber:"+63 918 234 5678",address:"456 Bonifacio Avenue, Makati City, Metro Manila",email:"juan.delacruz@email.com",bloodType:"A+",emergencyContact:{name:"Ana Dela Cruz",relationship:"Wife",phone:"+63 918 345 6789"},services:[{id:"SVC004",date:"2025-10-14",description:"CT Scan - Brain",category:"Radiology",price:5e3,attendingPhysician:"Dr. Reyes",status:"Completed"},{id:"SVC005",date:"2025-10-14",description:"Room and Board - Private Room (3 days)",category:"Accommodation",price:4500,attendingPhysician:"Dr. Reyes",status:"Completed"}],medicines:[{id:"MED003",date:"2025-10-14",description:"Losartan 50mg",quantity:30,unitPrice:18,totalPrice:540,prescribedBy:"Dr. Reyes",status:"Dispensed"}]},{id:"P003",name:"Anna Reyes",dateOfBirth:"1992-05-10",sex:"Female",contactNumber:"+63 919 345 6789",address:"789 Luna Street, Manila City, Metro Manila",email:"anna.reyes@email.com",bloodType:"B+",emergencyContact:{name:"Pedro Reyes",relationship:"Father",phone:"+63 919 456 7890"},services:[{id:"SVC006",date:"2025-10-17",description:"Clinical Laboratory - Urinalysis",category:"Laboratory",price:800,attendingPhysician:"Dr. Mendoza",status:"Completed"},{id:"SVC007",date:"2025-10-17",description:"Ultrasound - Abdomen",category:"Radiology",price:2500,attendingPhysician:"Dr. Mendoza",status:"Completed"}],medicines:[{id:"MED004",date:"2025-10-17",description:"Omeprazole 20mg",quantity:14,unitPrice:12,totalPrice:168,prescribedBy:"Dr. Mendoza",status:"Dispensed"},{id:"MED005",date:"2025-10-17",description:"Buscopan 10mg",quantity:10,unitPrice:25,totalPrice:250,prescribedBy:"Dr. Mendoza",status:"Dispensed"}]}];class OE{constructor(){this.loadInitialData()}loadInitialData(){localStorage.getItem(Ua)||localStorage.setItem(Ua,JSON.stringify(ME))}getAllPatients(){const s=localStorage.getItem(Ua);return s?JSON.parse(s):[]}getPatient(s){return this.getAllPatients().find(o=>o.id===s)}addPatient(s){const a=this.getAllPatients(),o={...s,id:s.id||`P${String(a.length+1).padStart(3,"0")}`,services:s.services||[],medicines:s.medicines||[]};return a.push(o),localStorage.setItem(Ua,JSON.stringify(a)),o}updatePatient(s,a){const o=this.getAllPatients(),l=o.findIndex(d=>d.id===s);return l!==-1?(o[l]={...o[l],...a},localStorage.setItem(Ua,JSON.stringify(o)),o[l]):null}deletePatient(s){const o=this.getAllPatients().filter(l=>l.id!==s);return localStorage.setItem(Ua,JSON.stringify(o)),!0}addService(s,a){const o=this.getPatient(s);if(!o)return null;const l={...a,id:a.id||`SVC${String(Date.now()).slice(-6)}`,date:a.date||new Date().toISOString().split("T")[0],status:a.status||"Completed"};return o.services=o.services||[],o.services.push(l),this.updatePatient(s,o),l}addMedicine(s,a){const o=this.getPatient(s);if(!o)return null;const l={...a,id:a.id||`MED${String(Date.now()).slice(-6)}`,date:a.date||new Date().toISOString().split("T")[0],status:a.status||"Dispensed",totalPrice:a.totalPrice||a.quantity*a.unitPrice};return o.medicines=o.medicines||[],o.medicines.push(l),this.updatePatient(s,o),l}getPatientTotalCharges(s){const a=this.getPatient(s);if(!a)return{services:0,medicines:0,total:0};const o=(a.services||[]).reduce((u,f)=>u+(f.price||0),0),l=(a.medicines||[]).reduce((u,f)=>u+(f.totalPrice||0),0),d=l*.12;return{services:o,medicines:l,medicinesVAT:d,subtotal:o+l,total:o+l+d}}searchPatients(s){const a=this.getAllPatients(),o=s.toLowerCase();return a.filter(l=>l.id.toLowerCase().includes(o)||l.name.toLowerCase().includes(o)||l.contactNumber&&l.contactNumber.includes(s))}calculateAge(s){const a=new Date,o=new Date(s);let l=a.getFullYear()-o.getFullYear();const d=a.getMonth()-o.getMonth();return(d<0||d===0&&a.getDate()<o.getDate())&&l--,l}}const My=new OE,LE=Object.freeze(Object.defineProperty({__proto__:null,patientService:My},Symbol.toStringTag,{value:"Module"})),Kn=LE||{},Bu=import.meta?.env?.VITE_API_URL||"http://localhost:5000/api";function rx({onNavigateToView:r,userSession:s}){const[a,o]=p.useState([]),[l,d]=p.useState(""),[u,f]=p.useState(null),[y,x]=p.useState(!1),[v,g]=p.useState(!1),[S,C]=p.useState(!1),[N,b]=p.useState(!1),[j,E]=p.useState("all"),[I,M]=p.useState(null),[D,q]=p.useState({name:"",dateOfBirth:"",sex:"",contactNumber:"",address:"",email:"",bloodType:"",emergencyContactName:"",emergencyContactRelationship:"",emergencyContactPhone:""}),[Q,U]=p.useState({description:"",category:"",price:"",attendingPhysician:"",date:new Date().toISOString().split("T")[0]}),[V,ie]=p.useState({description:"",quantity:"",unitPrice:"",prescribedBy:"",date:new Date().toISOString().split("T")[0]}),le=async()=>{try{const X=(await Zi()).map(B=>({...B,id:B._id||B.id||B.patientId||""}));o(X)}catch(R){console.error("fetchPatientsFromDb error:",R),o([]),ce.error("Failed to load patients")}};p.useEffect(()=>{le()},[]);const we=R=>{f(R),x(!0)},Z=async()=>{if(!D.name||!D.dateOfBirth||!D.sex){ce.error("Please fill in all required fields");return}const R={name:D.name,dateOfBirth:D.dateOfBirth,sex:D.sex,contactNumber:D.contactNumber,address:D.address,email:D.email,bloodType:D.bloodType,emergencyContact:{name:D.emergencyContactName,relationship:D.emergencyContactRelationship,phone:D.emergencyContactPhone},createdBy:s?.name||"Unknown",createdByRole:s?.role||"unknown",createdAt:new Date().toISOString()};try{I?(await fe(I,R),ce.success("Patient updated")):(await ne(R),ce.success("Patient added successfully!")),M(null),await le(),g(!1),k()}catch(X){console.error("Add patient failed:",X),ce.error("Failed to add patient")}},ne=async R=>{try{const X=await fetch(`${Bu}/patients`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)}),B=(X.headers.get("content-type")||"").toLowerCase();let Y;if(B.includes("application/json"))Y=await X.json();else{const Ne=await X.text();throw console.error("createPatient non-JSON response:",X.status,Ne),new Error(`Server returned non-JSON response (status ${X.status}). See console.`)}if(console.log("createPatient response:",X.status,Y),!X.ok||!Y.success)throw new Error(Y?.message||`Create failed: ${X.status}`);const he={...Y.data||{},id:Y.data?.id||Y.data?._id||""};o(Ne=>[he,...Ne]);try{window.dispatchEvent(new CustomEvent("patients-updated",{detail:{action:"create",patient:he}}))}catch(Ne){console.warn("Could not dispatch patients-updated event",Ne)}return he}catch(X){throw console.error("createPatient error",X),X}},fe=async(R,X)=>{try{const B=await fetch(`${Bu}/patients/${R}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)}),Y=await B.json();if(console.log("updatePatient response:",B.status,Y),!B.ok||!Y.success)throw new Error(Y?.message||"Update failed");const he={...Y.data||{},id:Y.data?.id||Y.data?._id||R};o(Ne=>Ne.map(Qe=>Qe.id===R||Qe._id===R?he:Qe));try{window.dispatchEvent(new CustomEvent("patients-updated",{detail:{action:"update",patient:he}}))}catch(Ne){console.warn("Could not dispatch patients-updated event",Ne)}return he}catch(B){throw console.error("updatePatient error",B),B}},me=async R=>{try{if(!window.confirm("Delete this patient? This cannot be undone."))return;const X=await fetch(`${Bu}/patients/${R}`,{method:"DELETE"}),B=await X.json();if(console.log("deletePatient response:",X.status,B),!X.ok||!B.success)throw new Error(B?.message||"Delete failed");o(Y=>Y.filter(he=>he.id!==R&&he._id!==R&&he.patientId!==R)),ce.success("Patient deleted");try{window.dispatchEvent(new CustomEvent("patients-updated",{detail:{action:"delete",id:R}}))}catch(Y){console.warn("Could not dispatch patients-updated event",Y)}}catch(X){console.error("deletePatient error",X),ce.error("Failed to delete patient")}},se=R=>{M(R.id||R._id||R.patientId||null),q({name:R.name||"",dateOfBirth:R.dateOfBirth?R.dateOfBirth.split("T")[0]:"",sex:R.sex||"",contactNumber:R.contactNumber||"",address:R.address||"",email:R.email||"",bloodType:R.bloodType||"",emergencyContactName:R.emergencyContact?.name||"",emergencyContactRelationship:R.emergencyContact?.relationship||"",emergencyContactPhone:R.emergencyContact?.phone||""}),g(!0)},te=()=>{if(!Q.description||!Q.category||!Q.price){ce.error("Please fill in all required fields");return}if(!u){ce.error("No patient selected");return}typeof Kn.addService=="function"?Kn.addService(u.id,{description:Q.description,category:Q.category,price:parseFloat(Q.price),attendingPhysician:Q.attendingPhysician,date:Q.date}):console.warn("patientService.addService not available, skipping local update");const R=typeof Kn.getPatient=="function"?Kn.getPatient(u.id):u;f(R),le(),C(!1),K(),ce.success("Service added successfully!")},L=()=>{if(!V.description||!V.quantity||!V.unitPrice){ce.error("Please fill in all required fields");return}if(!u){ce.error("No patient selected");return}typeof Kn.addMedicine=="function"?Kn.addMedicine(u.id,{description:V.description,quantity:parseInt(V.quantity),unitPrice:parseFloat(V.unitPrice),prescribedBy:V.prescribedBy,date:V.date}):console.warn("patientService.addMedicine not available, skipping local update");const R=typeof Kn.getPatient=="function"?Kn.getPatient(u.id):u;f(R),le(),b(!1),A(),ce.success("Medicine added successfully!")},k=()=>{q({name:"",dateOfBirth:"",sex:"",contactNumber:"",address:"",email:"",bloodType:"",emergencyContactName:"",emergencyContactRelationship:"",emergencyContactPhone:""})},K=()=>{U({description:"",category:"",price:"",attendingPhysician:"",date:new Date().toISOString().split("T")[0]})},A=()=>{ie({description:"",quantity:"",unitPrice:"",prescribedBy:"",date:new Date().toISOString().split("T")[0]})},T=a.filter(R=>{const X=(l||"").toLowerCase(),B=(R?.id||R?._id||R?.patientId||"").toString().toLowerCase(),Y=(R?.name||"").toString().toLowerCase(),he=(R?.contactNumber||"").toString().toLowerCase();return B.includes(X)||Y.includes(X)||he.includes(X)}),z=R=>{const X=R?.id||R?._id||R?.patientId;if(typeof Kn.getPatientTotalCharges=="function"&&X)try{return Kn.getPatientTotalCharges(X)}catch(B){console.error("getPatientTotalCharges error",B)}return{total:0,services:0,medicines:0,medicinesVAT:0,subtotal:0}},O=R=>{if(!R)return"-";try{const X=new Date(R);if(isNaN(X.getTime()))return"-";const B=new Date;let Y=B.getFullYear()-X.getFullYear();const he=B.getMonth()-X.getMonth();return(he<0||he===0&&B.getDate()<X.getDate())&&Y--,Y>=0?Y:"-"}catch{return"-"}};return e.jsxs("div",{children:[e.jsx("div",{className:"bg-[#358E83] rounded-lg p-6 mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-semibold text-white mb-2",children:"Patient Management"}),e.jsx("p",{className:"text-white/90",children:s?.role==="admin"?"Create and manage patient records for the hospital system":"View patient information, services, and pharmacy purchases"})]}),e.jsxs(oe,{onClick:()=>g(!0),className:"bg-[#E94D61] hover:bg-[#E94D61]/90 text-white",children:[e.jsx(n0,{className:"mr-2 h-4 w-4"}),"Add New Patient"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(je,{children:[e.jsx(st,{className:"pb-3",children:e.jsxs(at,{className:"text-sm font-medium text-gray-600 flex items-center",children:[e.jsx(yn,{className:"mr-2 h-4 w-4"}),"Total Patients"]})}),e.jsx(Se,{children:e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:a.length})})]}),e.jsxs(je,{children:[e.jsx(st,{className:"pb-3",children:e.jsxs(at,{className:"text-sm font-medium text-gray-600 flex items-center",children:[e.jsx(t2,{className:"mr-2 h-4 w-4"}),"Total Services"]})}),e.jsx(Se,{children:e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:a.reduce((R,X)=>R+(X.services?.length||0),0)})})]}),e.jsxs(je,{children:[e.jsx(st,{className:"pb-3",children:e.jsxs(at,{className:"text-sm font-medium text-gray-600 flex items-center",children:[e.jsx(Nr,{className:"mr-2 h-4 w-4"}),"Total Medicines"]})}),e.jsx(Se,{children:e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:a.reduce((R,X)=>R+(X.medicines?.length||0),0)})})]}),e.jsxs(je,{children:[e.jsx(st,{className:"pb-3",children:e.jsxs(at,{className:"text-sm font-medium text-gray-600 flex items-center",children:[e.jsx(zn,{className:"mr-2 h-4 w-4"}),"Total Charges"]})}),e.jsx(Se,{children:e.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:["",a.reduce((R,X)=>{const B=z(X);return R+(B?.total||0)},0).toLocaleString("en-PH",{minimumFractionDigits:2})]})})]})]}),e.jsxs(je,{children:[e.jsx(st,{className:"bg-[#358E83] text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(at,{className:"flex items-center",children:[e.jsx(yn,{className:"mr-2",size:20}),"Patient Records"]}),e.jsx(dn,{className:"text-white/80",children:"View and manage patient information and billing"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx(Ce,{placeholder:"Search patients...",value:l,onChange:R=>d(R.target.value),className:"pl-10 w-64 bg-white"})]})]})}),e.jsx(Se,{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:T.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(yn,{className:"mx-auto mb-3 opacity-50",size:48}),e.jsx("p",{children:"No patients found"})]}):T.map((R,X)=>{const B=R?.id||R?._id||R?.patientId||`p-${X}`,Y=z(R),he=R?.dateOfBirth?typeof Kn.calculateAge=="function"?Kn.calculateAge(R.dateOfBirth):O(R.dateOfBirth):"-";return e.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-[#358E83] text-white flex items-center justify-center",children:e.jsx(yn,{size:24})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-semibold text-lg",children:R.name}),R.createdByRole==="admin"&&e.jsx(ct,{className:"bg-blue-100 text-blue-800 hover:bg-blue-100 text-xs",children:"Admin Created"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[R.id,"  ",he," years old  ",R.sex,R.createdBy&&e.jsxs("span",{className:"text-gray-500",children:["  Created by ",R.createdBy]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-500 flex items-center",children:[e.jsx(FN,{size:14,className:"mr-1"}),"Contact"]}),e.jsx("p",{className:"font-medium",children:R.contactNumber||"N/A"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-500 flex items-center",children:[e.jsx(sa,{size:14,className:"mr-1"}),"Services"]}),e.jsxs("p",{className:"font-medium",children:[R.services?.length||0," services"]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-500 flex items-center",children:[e.jsx(Nr,{size:14,className:"mr-1"}),"Medicines"]}),e.jsxs("p",{className:"font-medium",children:[R.medicines?.length||0," items"]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-500 flex items-center",children:[e.jsx(zn,{size:14,className:"mr-1"}),"Total Charges"]}),e.jsxs("p",{className:"font-semibold text-[#358E83]",children:["",Y.total.toLocaleString("en-PH",{minimumFractionDigits:2})]})]})]})]}),e.jsxs("div",{className:"ml-4 flex flex-col gap-2",children:[e.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>we(R),children:[e.jsx(Hr,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsxs(oe,{variant:"ghost",size:"sm",onClick:()=>se(R),children:[e.jsx(ec,{className:"h-4 w-4 mr-2"})," Edit"]}),e.jsxs(oe,{variant:"destructive",size:"sm",onClick:()=>me(R.id||R._id||R.patientId),children:[e.jsx(qr,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})]})},B)})})})]}),e.jsx(an,{open:y,onOpenChange:x,children:e.jsxs(Zt,{className:"w-[95vw] max-w-4xl p-6",children:[e.jsxs(en,{children:[e.jsx(tn,{className:"text-2xl font-semibold",children:"Patient Details"}),e.jsx(un,{children:"View and manage patient information, services, and billing"})]}),u&&e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium",children:"Patient ID"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:u.id||u._id})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium",children:"Name"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:u.name})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium",children:"Date of Birth"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:u.dateOfBirth?new Date(u.dateOfBirth).toLocaleDateString():"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium",children:"Sex"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:u.sex})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium",children:"Contact Number"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:u.contactNumber||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium",children:"Email"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:u.email||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium",children:"Address"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:u.address||"N/A"})]}),e.jsxs("div",{children:[e.jsx(ue,{className:"text-sm font-medium",children:"Blood Type"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:u.bloodType||"N/A"})]})]}),e.jsx(br,{className:"my-6"}),e.jsxs("div",{className:"mb-6",children:[e.jsx(ue,{className:"text-sm font-medium",children:"Emergency Contact"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:u.emergencyContact?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Relationship"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:u.emergencyContact?.relationship||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:u.emergencyContact?.phone||"N/A"})]})]})]}),e.jsx(br,{className:"my-6"}),e.jsxs("div",{className:"mb-6",children:[e.jsx(ue,{className:"text-sm font-medium",children:"Services and Medicines"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Services"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[u.services?.length||0," services"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Medicines"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[u.medicines?.length||0," items"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Charges"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["",z(u).total.toLocaleString("en-PH",{minimumFractionDigits:2})]})]})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs(oe,{onClick:()=>{x(!1),se(u)},className:"flex-1",children:[e.jsx(ec,{className:"mr-2 h-4 w-4"}),"Edit Patient"]}),e.jsxs(oe,{variant:"destructive",onClick:()=>me(u.id||u._id||u.patientId),className:"flex-1",children:[e.jsx(qr,{className:"mr-2 h-4 w-4"}),"Delete Patient"]})]})]})]})}),e.jsx(an,{open:v,onOpenChange:g,children:e.jsxs(Zt,{className:"w-[95vw] max-w-4xl p-6",children:[e.jsxs(en,{children:[e.jsx(tn,{className:"text-2xl font-semibold",children:I?"Edit Patient":"Add New Patient"}),e.jsx(un,{children:I?"Update the patient details and save changes":"Enter the patient details to add a new record"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"name",className:"text-sm font-medium",children:"Name"}),e.jsx(Ce,{id:"name",value:D.name,onChange:R=>q({...D,name:R.target.value}),placeholder:"Enter patient's full name",className:"mt-1 md:col-span-2"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"dateOfBirth",className:"text-sm font-medium",children:"Date of Birth"}),e.jsx(Ce,{id:"dateOfBirth",type:"date",value:D.dateOfBirth,onChange:R=>q({...D,dateOfBirth:R.target.value}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"sex",className:"text-sm font-medium",children:"Sex"}),e.jsxs(qt,{id:"sex",value:D.sex,onValueChange:R=>q({...D,sex:R}),className:"mt-1",children:[e.jsx(Kt,{children:e.jsx(Gt,{placeholder:"Select sex"})}),e.jsxs(Yt,{children:[e.jsx(Ke,{value:"male",children:"Male"}),e.jsx(Ke,{value:"female",children:"Female"}),e.jsx(Ke,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"contactNumber",className:"text-sm font-medium",children:"Contact Number"}),e.jsx(Ce,{id:"contactNumber",value:D.contactNumber,onChange:R=>q({...D,contactNumber:R.target.value}),placeholder:"Enter contact number",className:"mt-1"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(ue,{htmlFor:"address",className:"text-sm font-medium",children:"Address"}),e.jsx(Ce,{id:"address",value:D.address,onChange:R=>q({...D,address:R.target.value}),placeholder:"Enter address",className:"mt-1"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(ue,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),e.jsx(Ce,{id:"email",type:"email",value:D.email,onChange:R=>q({...D,email:R.target.value}),placeholder:"Enter email address",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"bloodType",className:"text-sm font-medium",children:"Blood Type"}),e.jsxs(qt,{id:"bloodType",value:D.bloodType,onValueChange:R=>q({...D,bloodType:R}),className:"mt-1",children:[e.jsx(Kt,{children:e.jsx(Gt,{placeholder:"Select blood type"})}),e.jsxs(Yt,{children:[e.jsx(Ke,{value:"A+",children:"A+"}),e.jsx(Ke,{value:"A-",children:"A-"}),e.jsx(Ke,{value:"B+",children:"B+"}),e.jsx(Ke,{value:"B-",children:"B-"}),e.jsx(Ke,{value:"AB+",children:"AB+"}),e.jsx(Ke,{value:"AB-",children:"AB-"}),e.jsx(Ke,{value:"O+",children:"O+"}),e.jsx(Ke,{value:"O-",children:"O-"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"emergencyContactName",className:"text-sm font-medium",children:"Emergency Contact Name"}),e.jsx(Ce,{id:"emergencyContactName",value:D.emergencyContactName,onChange:R=>q({...D,emergencyContactName:R.target.value}),placeholder:"Enter emergency contact name",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"emergencyContactRelationship",className:"text-sm font-medium",children:"Relationship"}),e.jsx(Ce,{id:"emergencyContactRelationship",value:D.emergencyContactRelationship,onChange:R=>q({...D,emergencyContactRelationship:R.target.value}),placeholder:"Enter relationship to emergency contact",className:"mt-1"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(ue,{htmlFor:"emergencyContactPhone",className:"text-sm font-medium",children:"Emergency Contact Phone"}),e.jsx(Ce,{id:"emergencyContactPhone",value:D.emergencyContactPhone,onChange:R=>q({...D,emergencyContactPhone:R.target.value}),placeholder:"Enter emergency contact phone",className:"mt-1"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[e.jsx(oe,{variant:"outline",onClick:()=>g(!1),className:"flex-1",children:"Cancel"}),e.jsx(oe,{onClick:Z,className:"flex-1 bg-[#358E83] hover:bg-[#358E83]/90 text-white",children:I?"Save Changes":"Add Patient"})]})]})}),e.jsx(an,{open:S,onOpenChange:C,children:e.jsxs(Zt,{className:"max-w-md p-6",children:[e.jsxs(en,{children:[e.jsx(tn,{className:"text-2xl font-semibold",children:"Add Service"}),e.jsx(un,{children:"Enter the service details to add to the patient's record"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),e.jsx(Ce,{id:"description",value:Q.description,onChange:R=>U({...Q,description:R.target.value}),placeholder:"Enter service description",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"category",className:"text-sm font-medium",children:"Category"}),e.jsx(Ce,{id:"category",value:Q.category,onChange:R=>U({...Q,category:R.target.value}),placeholder:"Enter service category",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"price",className:"text-sm font-medium",children:"Price"}),e.jsx(Ce,{id:"price",type:"number",value:Q.price,onChange:R=>U({...Q,price:R.target.value}),placeholder:"Enter service price",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"attendingPhysician",className:"text-sm font-medium",children:"Attending Physician"}),e.jsx(Ce,{id:"attendingPhysician",value:Q.attendingPhysician,onChange:R=>U({...Q,attendingPhysician:R.target.value}),placeholder:"Enter attending physician's name",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"date",className:"text-sm font-medium",children:"Date"}),e.jsx(Ce,{id:"date",type:"date",value:Q.date,onChange:R=>U({...Q,date:R.target.value}),className:"mt-1"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[e.jsx(oe,{variant:"outline",onClick:()=>C(!1),className:"flex-1",children:"Cancel"}),e.jsx(oe,{onClick:te,className:"flex-1 bg-[#358E83] hover:bg-[#358E83]/90 text-white",children:"Add Service"})]})]})}),e.jsx(an,{open:N,onOpenChange:b,children:e.jsxs(Zt,{className:"max-w-md p-6",children:[e.jsxs(en,{children:[e.jsx(tn,{className:"text-2xl font-semibold",children:"Add Medicine"}),e.jsx(un,{children:"Enter the medicine details to add to the patient's record"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"medicineDescription",className:"text-sm font-medium",children:"Description"}),e.jsx(Ce,{id:"medicineDescription",value:V.description,onChange:R=>ie({...V,description:R.target.value}),placeholder:"Enter medicine description",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"quantity",className:"text-sm font-medium",children:"Quantity"}),e.jsx(Ce,{id:"quantity",type:"number",value:V.quantity,onChange:R=>ie({...V,quantity:R.target.value}),placeholder:"Enter quantity",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"unitPrice",className:"text-sm font-medium",children:"Unit Price"}),e.jsx(Ce,{id:"unitPrice",type:"number",value:V.unitPrice,onChange:R=>ie({...V,unitPrice:R.target.value}),placeholder:"Enter unit price",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"prescribedBy",className:"text-sm font-medium",children:"Prescribed By"}),e.jsx(Ce,{id:"prescribedBy",value:V.prescribedBy,onChange:R=>ie({...V,prescribedBy:R.target.value}),placeholder:"Enter prescriber's name",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"medicineDate",className:"text-sm font-medium",children:"Date"}),e.jsx(Ce,{id:"medicineDate",type:"date",value:V.date,onChange:R=>ie({...V,date:R.target.value}),className:"mt-1"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[e.jsx(oe,{variant:"outline",onClick:()=>b(!1),className:"flex-1",children:"Cancel"}),e.jsx(oe,{onClick:L,className:"flex-1 bg-[#358E83] hover:bg-[#358E83]/90 text-white",children:"Add Medicine"})]})]})})]})}function FE({onNavigateToView:r}){return e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Appointments Module"}),e.jsxs(oe,{variant:"outline",onClick:()=>r?.("medicare-billing"),children:[e.jsx(Om,{className:"h-4 w-4 mr-2"}),"Back to Billing"]})]}),e.jsxs(je,{children:[e.jsx(st,{children:e.jsx(at,{children:"Appointment Scheduling"})}),e.jsx(Se,{children:e.jsx("p",{className:"text-gray-600",children:"This module would contain appointment scheduling functionality including calendar views, doctor availability, patient booking, appointment reminders, and more."})})]})]})})}var Uu="rovingFocusGroup.onEntryFocus",zE={bubbles:!1,cancelable:!0},uo="RovingFocusGroup",[pm,Oy,$E]=Gm(uo),[BE,kc]=dr(uo,[$E]),[UE,HE]=BE(uo),Ly=p.forwardRef((r,s)=>e.jsx(pm.Provider,{scope:r.__scopeRovingFocusGroup,children:e.jsx(pm.Slot,{scope:r.__scopeRovingFocusGroup,children:e.jsx(VE,{...r,ref:s})})}));Ly.displayName=uo;var VE=p.forwardRef((r,s)=>{const{__scopeRovingFocusGroup:a,orientation:o,loop:l=!1,dir:d,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:y,onEntryFocus:x,preventScrollOnEntryFocus:v=!1,...g}=r,S=p.useRef(null),C=xt(s,S),N=wc(d),[b,j]=Ss({prop:u,defaultProp:f??null,onChange:y,caller:uo}),[E,I]=p.useState(!1),M=Dr(x),D=Oy(a),q=p.useRef(!1),[Q,U]=p.useState(0);return p.useEffect(()=>{const V=S.current;if(V)return V.addEventListener(Uu,M),()=>V.removeEventListener(Uu,M)},[M]),e.jsx(UE,{scope:a,orientation:o,dir:N,loop:l,currentTabStopId:b,onItemFocus:p.useCallback(V=>j(V),[j]),onItemShiftTab:p.useCallback(()=>I(!0),[]),onFocusableItemAdd:p.useCallback(()=>U(V=>V+1),[]),onFocusableItemRemove:p.useCallback(()=>U(V=>V-1),[]),children:e.jsx(qe.div,{tabIndex:E||Q===0?-1:0,"data-orientation":o,...g,ref:C,style:{outline:"none",...r.style},onMouseDown:Ae(r.onMouseDown,()=>{q.current=!0}),onFocus:Ae(r.onFocus,V=>{const ie=!q.current;if(V.target===V.currentTarget&&ie&&!E){const le=new CustomEvent(Uu,zE);if(V.currentTarget.dispatchEvent(le),!le.defaultPrevented){const we=D().filter(se=>se.focusable),Z=we.find(se=>se.active),ne=we.find(se=>se.id===b),me=[Z,ne,...we].filter(Boolean).map(se=>se.ref.current);$y(me,v)}}q.current=!1}),onBlur:Ae(r.onBlur,()=>I(!1))})})}),Fy="RovingFocusGroupItem",zy=p.forwardRef((r,s)=>{const{__scopeRovingFocusGroup:a,focusable:o=!0,active:l=!1,tabStopId:d,children:u,...f}=r,y=mn(),x=d||y,v=HE(Fy,a),g=v.currentTabStopId===x,S=Oy(a),{onFocusableItemAdd:C,onFocusableItemRemove:N,currentTabStopId:b}=v;return p.useEffect(()=>{if(o)return C(),()=>N()},[o,C,N]),e.jsx(pm.ItemSlot,{scope:a,id:x,focusable:o,active:l,children:e.jsx(qe.span,{tabIndex:g?0:-1,"data-orientation":v.orientation,...f,ref:s,onMouseDown:Ae(r.onMouseDown,j=>{o?v.onItemFocus(x):j.preventDefault()}),onFocus:Ae(r.onFocus,()=>v.onItemFocus(x)),onKeyDown:Ae(r.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){v.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const E=GE(j,v.orientation,v.dir);if(E!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let M=S().filter(D=>D.focusable).map(D=>D.ref.current);if(E==="last")M.reverse();else if(E==="prev"||E==="next"){E==="prev"&&M.reverse();const D=M.indexOf(j.currentTarget);M=v.loop?KE(M,D+1):M.slice(D+1)}setTimeout(()=>$y(M))}}),children:typeof u=="function"?u({isCurrentTabStop:g,hasTabStop:b!=null}):u})})});zy.displayName=Fy;var WE={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qE(r,s){return s!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function GE(r,s,a){const o=qE(r.key,a);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return WE[o]}function $y(r,s=!1){const a=document.activeElement;for(const o of r)if(o===a||(o.focus({preventScroll:s}),document.activeElement!==a))return}function KE(r,s){return r.map((a,o)=>r[(s+o)%r.length])}var By=Ly,Uy=zy,Ac="Tabs",[YE]=dr(Ac,[kc]),Hy=kc(),[QE,of]=YE(Ac),Vy=p.forwardRef((r,s)=>{const{__scopeTabs:a,value:o,onValueChange:l,defaultValue:d,orientation:u="horizontal",dir:f,activationMode:y="automatic",...x}=r,v=wc(f),[g,S]=Ss({prop:o,onChange:l,defaultProp:d??"",caller:Ac});return e.jsx(QE,{scope:a,baseId:mn(),value:g,onValueChange:S,orientation:u,dir:v,activationMode:y,children:e.jsx(qe.div,{dir:v,"data-orientation":u,...x,ref:s})})});Vy.displayName=Ac;var Wy="TabsList",qy=p.forwardRef((r,s)=>{const{__scopeTabs:a,loop:o=!0,...l}=r,d=of(Wy,a),u=Hy(a);return e.jsx(By,{asChild:!0,...u,orientation:d.orientation,dir:d.dir,loop:o,children:e.jsx(qe.div,{role:"tablist","aria-orientation":d.orientation,...l,ref:s})})});qy.displayName=Wy;var Gy="TabsTrigger",Ky=p.forwardRef((r,s)=>{const{__scopeTabs:a,value:o,disabled:l=!1,...d}=r,u=of(Gy,a),f=Hy(a),y=Xy(u.baseId,o),x=Jy(u.baseId,o),v=o===u.value;return e.jsx(Uy,{asChild:!0,...f,focusable:!l,active:v,children:e.jsx(qe.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":x,"data-state":v?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:y,...d,ref:s,onMouseDown:Ae(r.onMouseDown,g=>{!l&&g.button===0&&g.ctrlKey===!1?u.onValueChange(o):g.preventDefault()}),onKeyDown:Ae(r.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&u.onValueChange(o)}),onFocus:Ae(r.onFocus,()=>{const g=u.activationMode!=="manual";!v&&!l&&g&&u.onValueChange(o)})})})});Ky.displayName=Gy;var Yy="TabsContent",Qy=p.forwardRef((r,s)=>{const{__scopeTabs:a,value:o,forceMount:l,children:d,...u}=r,f=of(Yy,a),y=Xy(f.baseId,o),x=Jy(f.baseId,o),v=o===f.value,g=p.useRef(v);return p.useEffect(()=>{const S=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(S)},[]),e.jsx(ur,{present:l||v,children:({present:S})=>e.jsx(qe.div,{"data-state":v?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":y,hidden:!S,id:x,tabIndex:0,...u,ref:s,style:{...r.style,animationDuration:g.current?"0s":void 0},children:S&&d})})});Qy.displayName=Yy;function Xy(r,s){return`${r}-trigger-${s}`}function Jy(r,s){return`${r}-content-${s}`}var XE=Vy,JE=qy,ZE=Ky,eD=Qy;function Rc({className:r,...s}){return e.jsx(XE,{"data-slot":"tabs",className:Ye("flex flex-col gap-2",r),...s})}function Tc({className:r,...s}){return e.jsx(JE,{"data-slot":"tabs-list",className:Ye("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",r),...s})}function ir({className:r,...s}){return e.jsx(ZE,{"data-slot":"tabs-trigger",className:Ye("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...s})}function or({className:r,...s}){return e.jsx(eD,{"data-slot":"tabs-content",className:Ye("flex-1 outline-none",r),...s})}var Ic="Switch",[tD]=dr(Ic),[nD,rD]=tD(Ic),Zy=p.forwardRef((r,s)=>{const{__scopeSwitch:a,name:o,checked:l,defaultChecked:d,required:u,disabled:f,value:y="on",onCheckedChange:x,form:v,...g}=r,[S,C]=p.useState(null),N=xt(s,M=>C(M)),b=p.useRef(!1),j=S?v||!!S.closest("form"):!0,[E,I]=Ss({prop:l,defaultProp:d??!1,onChange:x,caller:Ic});return e.jsxs(nD,{scope:a,checked:E,disabled:f,children:[e.jsx(qe.button,{type:"button",role:"switch","aria-checked":E,"aria-required":u,"data-state":rv(E),"data-disabled":f?"":void 0,disabled:f,value:y,...g,ref:N,onClick:Ae(r.onClick,M=>{I(D=>!D),j&&(b.current=M.isPropagationStopped(),b.current||M.stopPropagation())})}),j&&e.jsx(nv,{control:S,bubbles:!b.current,name:o,value:y,checked:E,required:u,disabled:f,form:v,style:{transform:"translateX(-100%)"}})]})});Zy.displayName=Ic;var ev="SwitchThumb",tv=p.forwardRef((r,s)=>{const{__scopeSwitch:a,...o}=r,l=rD(ev,a);return e.jsx(qe.span,{"data-state":rv(l.checked),"data-disabled":l.disabled?"":void 0,...o,ref:s})});tv.displayName=ev;var sD="SwitchBubbleInput",nv=p.forwardRef(({__scopeSwitch:r,control:s,checked:a,bubbles:o=!0,...l},d)=>{const u=p.useRef(null),f=xt(u,d),y=oy(a),x=X0(s);return p.useEffect(()=>{const v=u.current;if(!v)return;const g=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(g,"checked").set;if(y!==a&&C){const N=new Event("click",{bubbles:o});C.call(v,a),v.dispatchEvent(N)}},[y,a,o]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...l,tabIndex:-1,ref:f,style:{...l.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nv.displayName=sD;function rv(r){return r?"checked":"unchecked"}var aD=Zy,iD=tv;function Ur({className:r,...s}){return e.jsx(aD,{"data-slot":"switch",className:Ye("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...s,children:e.jsx(iD,{"data-slot":"switch-thumb",className:Ye("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function oD({onNavigateToView:r}){const[s,a]=p.useState({emr:{connected:!1,lastSync:null,lastError:null,totalSynced:0},pharmacy:{connected:!1,lastSync:null,lastError:null,totalSynced:0}}),[o,l]=p.useState({emr:!1,pharmacy:!1}),[d,u]=p.useState([]);p.useEffect(()=>{f();const C=N=>{switch(u(b=>[N,...b.slice(0,9)]),N.event){case"emr_sync_started":l(b=>({...b,emr:!0}));break;case"emr_sync_completed":case"emr_sync_failed":l(b=>({...b,emr:!1})),f();break;case"pharmacy_sync_started":l(b=>({...b,pharmacy:!0}));break;case"pharmacy_sync_completed":case"pharmacy_sync_failed":l(b=>({...b,pharmacy:!1})),f();break}};return Ot.addEventListener("emr_sync_started",C),Ot.addEventListener("emr_sync_completed",C),Ot.addEventListener("emr_sync_failed",C),Ot.addEventListener("pharmacy_sync_started",C),Ot.addEventListener("pharmacy_sync_completed",C),Ot.addEventListener("pharmacy_sync_failed",C),()=>{Ot.removeEventListener("emr_sync_started",C),Ot.removeEventListener("emr_sync_completed",C),Ot.removeEventListener("emr_sync_failed",C),Ot.removeEventListener("pharmacy_sync_started",C),Ot.removeEventListener("pharmacy_sync_completed",C),Ot.removeEventListener("pharmacy_sync_failed",C)}},[]);const f=()=>{const C=Ot.getIntegrationStatus();a(C)},y=async C=>{try{C==="emr"?await Ot.syncEMRData():await Ot.syncPharmacyData()}catch(N){console.error(`Manual sync failed for ${C}:`,N)}},x=C=>{if(!C)return"Never";const b=new Date().getTime()-C.getTime(),j=Math.floor(b/6e4);if(j<1)return"Just now";if(j<60)return`${j}m ago`;const E=Math.floor(j/60);return E<24?`${E}h ago`:`${Math.floor(E/24)}d ago`},v=(C,N)=>!C||N?e.jsx(Jl,{className:"h-4 w-4 text-red-500"}):e.jsx(Wr,{className:"h-4 w-4 text-green-500"}),g=(C,N)=>C?N?e.jsx(ct,{variant:"destructive",children:"Error"}):e.jsx(ct,{className:"bg-green-100 text-green-800",children:"Connected"}):e.jsx(ct,{variant:"destructive",children:"Disconnected"}),S=C=>{switch(C){case"emr_sync_started":case"pharmacy_sync_started":return e.jsx(Ln,{className:"h-3 w-3 text-blue-500 animate-spin"});case"emr_sync_completed":case"pharmacy_sync_completed":return e.jsx(Wr,{className:"h-3 w-3 text-green-500"});case"emr_sync_failed":case"pharmacy_sync_failed":return e.jsx(Jl,{className:"h-3 w-3 text-red-500"});default:return e.jsx(Qi,{className:"h-3 w-3 text-gray-500"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(je,{children:[e.jsx(st,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Zl,{className:"h-5 w-5 text-blue-600"}),e.jsx(at,{className:"text-lg",children:"EMR Integration"})]}),v(s.emr.connected,!!s.emr.lastError)]})}),e.jsxs(Se,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Status"}),g(s.emr.connected,!!s.emr.lastError)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Last Sync"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ws,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-sm",children:x(s.emr.lastSync)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Records Synced"}),e.jsx("span",{className:"text-sm font-medium",children:s.emr.totalSynced})]}),s.emr.lastError&&e.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-xs text-red-600",children:s.emr.lastError})}),e.jsx(oe,{size:"sm",variant:"outline",onClick:()=>y("emr"),disabled:o.emr,className:"w-full",children:o.emr?e.jsxs(e.Fragment,{children:[e.jsx(Ln,{className:"h-3 w-3 mr-2 animate-spin"}),"Syncing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ln,{className:"h-3 w-3 mr-2"}),"Manual Sync"]})})]})]}),e.jsxs(je,{children:[e.jsx(st,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Nr,{className:"h-5 w-5 text-green-600"}),e.jsx(at,{className:"text-lg",children:"Pharmacy Integration"})]}),v(s.pharmacy.connected,!!s.pharmacy.lastError)]})}),e.jsxs(Se,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Status"}),g(s.pharmacy.connected,!!s.pharmacy.lastError)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Last Sync"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ws,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-sm",children:x(s.pharmacy.lastSync)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Transactions Synced"}),e.jsx("span",{className:"text-sm font-medium",children:s.pharmacy.totalSynced})]}),s.pharmacy.lastError&&e.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-xs text-red-600",children:s.pharmacy.lastError})}),e.jsx(oe,{size:"sm",variant:"outline",onClick:()=>y("pharmacy"),disabled:o.pharmacy,className:"w-full",children:o.pharmacy?e.jsxs(e.Fragment,{children:[e.jsx(Ln,{className:"h-3 w-3 mr-2 animate-spin"}),"Syncing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ln,{className:"h-3 w-3 mr-2"}),"Manual Sync"]})})]})]})]}),e.jsxs(je,{children:[e.jsx(st,{children:e.jsx(at,{className:"text-lg",children:"Recent Integration Activity"})}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-3",children:d.length===0?e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No recent activity"}):d.map((C,N)=>e.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-md hover:bg-gray-50",children:[S(C.event),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:C.event.replace(/_/g," ").replace(/\b\w/g,b=>b.toUpperCase())}),e.jsx("p",{className:"text-xs text-gray-500",children:C.timestamp.toLocaleTimeString()})]}),C.error&&e.jsx(Qi,{className:"h-4 w-4 text-red-500"})]},N))})})]}),e.jsxs(je,{children:[e.jsx(st,{children:e.jsx(at,{className:"text-lg",children:"Integration Management"})}),e.jsx(Se,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(oe,{variant:"outline",onClick:()=>r?.("settings"),className:"flex items-center space-x-2",children:[e.jsx(Qa,{className:"h-4 w-4"}),e.jsx("span",{children:"Configure APIs"})]}),e.jsxs(oe,{variant:"outline",onClick:()=>r?.("history"),className:"flex items-center space-x-2",children:[e.jsx(Zl,{className:"h-4 w-4"}),e.jsx("span",{children:"View History"})]}),e.jsxs(oe,{variant:"outline",onClick:f,className:"flex items-center space-x-2",children:[e.jsx(Ln,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh Status"})]})]})})]}),e.jsx(je,{className:"border-l-4 border-l-blue-500",children:e.jsxs(Se,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-2",children:Ot.isConnected()?e.jsxs(e.Fragment,{children:[e.jsx(C2,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"font-medium",children:"Integration Services Online"})]}):e.jsxs(e.Fragment,{children:[e.jsx(N2,{className:"h-5 w-5 text-red-500"}),e.jsx("span",{className:"font-medium",children:"Integration Services Offline"})]})}),e.jsx(ct,{variant:Ot.isConnected()?"default":"destructive",children:Ot.isConnected()?"Active":"Inactive"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:Ot.isConnected()?"External systems are connected and syncing automatically.":"Check API configurations and network connectivity."})]})})]})}function lD({onNavigateToView:r}){const[s,a]=p.useState({baseUrl:"",apiKey:"",syncInterval:15,enabled:!0}),[o,l]=p.useState({baseUrl:"",apiKey:"",syncInterval:5,enabled:!0}),[d,u]=p.useState({currency:"PHP",timezone:"Asia/Manila",dateFormat:"MM/DD/YYYY",notifications:!0,autoSync:!0,backupEnabled:!0}),[f,y]=p.useState({emr:null,pharmacy:null}),[x,v]=p.useState({emr:!1,pharmacy:!1});p.useEffect(()=>{const j=cn.getConfig();a({baseUrl:j.emr.baseUrl,apiKey:j.emr.apiKey,syncInterval:j.emr.syncInterval,enabled:!0}),l({baseUrl:j.pharmacy.baseUrl,apiKey:j.pharmacy.apiKey,syncInterval:j.pharmacy.syncInterval,enabled:!0}),u({currency:j.billing.currency,timezone:"Asia/Manila",dateFormat:"MM/DD/YYYY",notifications:!0,autoSync:!0,backupEnabled:!0})},[]);const g=async j=>{y(E=>({...E,[j]:null})),v(E=>({...E,[j]:!0}));try{j==="emr"?cn.updateEMRConfig({baseUrl:s.baseUrl,apiKey:s.apiKey,syncInterval:s.syncInterval}):cn.updatePharmacyConfig({baseUrl:o.baseUrl,apiKey:o.apiKey,syncInterval:o.syncInterval});const I=(await cn.testConfiguration())[j];y(M=>({...M,[j]:I.success})),I.success?ce.success(`${j.toUpperCase()} connection successful`):ce.error(`${j.toUpperCase()} connection failed: ${I.error}`)}catch{y(I=>({...I,[j]:!1})),ce.error(`Failed to test ${j.toUpperCase()} connection`)}finally{v(E=>({...E,[j]:!1}))}},S=()=>{try{cn.updateEMRConfig({baseUrl:s.baseUrl,apiKey:s.apiKey,syncInterval:s.syncInterval}),cn.updatePharmacyConfig({baseUrl:o.baseUrl,apiKey:o.apiKey,syncInterval:o.syncInterval}),cn.updateBillingConfig({currency:d.currency});const j=cn.validateConfig();j.valid?ce.success("Settings saved successfully"):ce.error(`Configuration errors: ${j.errors.join(", ")}`)}catch{ce.error("Failed to save settings")}},C=()=>{try{const j=cn.exportConfig(),E=new Blob([j],{type:"application/json"}),I=URL.createObjectURL(E),M=document.createElement("a");M.href=I,M.download="hims-integration-config.json",M.click(),URL.revokeObjectURL(I),ce.success("Configuration exported successfully")}catch{ce.error("Failed to export configuration")}},N=j=>{const E=j.target.files?.[0];if(!E)return;const I=new FileReader;I.onload=M=>{try{const D=M.target?.result,q=cn.importConfig(D);if(q.success){const Q=cn.getConfig();a({baseUrl:Q.emr.baseUrl,apiKey:Q.emr.apiKey,syncInterval:Q.emr.syncInterval,enabled:s.enabled}),l({baseUrl:Q.pharmacy.baseUrl,apiKey:Q.pharmacy.apiKey,syncInterval:Q.pharmacy.syncInterval,enabled:o.enabled}),ce.success("Configuration imported successfully")}else ce.error(`Import failed: ${q.error}`)}catch{ce.error("Failed to import configuration")}},I.readAsText(E)},b=()=>{if(confirm("Are you sure you want to reset all settings to defaults? This cannot be undone.")){cn.resetToDefaults();const j=cn.getConfig();a({baseUrl:j.emr.baseUrl,apiKey:j.emr.apiKey,syncInterval:j.emr.syncInterval,enabled:!0}),l({baseUrl:j.pharmacy.baseUrl,apiKey:j.pharmacy.apiKey,syncInterval:j.pharmacy.syncInterval,enabled:!0}),ce.success("Configuration reset to defaults")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Rc,{defaultValue:"integration",className:"w-full",children:[e.jsxs(Tc,{className:"grid w-full grid-cols-4",children:[e.jsx(ir,{value:"integration",children:"Integration"}),e.jsx(ir,{value:"system",children:"System"}),e.jsx(ir,{value:"security",children:"Security"}),e.jsx(ir,{value:"status",children:"Status"})]}),e.jsx(or,{value:"integration",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(je,{children:[e.jsx(st,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Zl,{className:"h-5 w-5 text-blue-600"}),e.jsx(at,{children:"EMR Integration"}),e.jsx(ct,{variant:s.enabled?"default":"secondary",children:s.enabled?"Enabled":"Disabled"})]})}),e.jsxs(Se,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ue,{htmlFor:"emr-enabled",children:"Enable EMR Integration"}),e.jsx(Ur,{id:"emr-enabled",checked:s.enabled,onCheckedChange:j=>a(E=>({...E,enabled:j}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"emr-url",children:"EMR API Base URL"}),e.jsx(Ce,{id:"emr-url",value:s.baseUrl,onChange:j=>a(E=>({...E,baseUrl:j.target.value})),disabled:!s.enabled})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"emr-key",children:"API Key"}),e.jsx(Ce,{id:"emr-key",type:"password",value:s.apiKey,onChange:j=>a(E=>({...E,apiKey:j.target.value})),disabled:!s.enabled})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"emr-interval",children:"Sync Interval (minutes)"}),e.jsx(Ce,{id:"emr-interval",type:"number",value:s.syncInterval,onChange:j=>a(E=>({...E,syncInterval:parseInt(j.target.value)})),disabled:!s.enabled})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>g("emr"),disabled:!s.enabled||x.emr,className:"flex-1",children:[x.emr?e.jsx(Ln,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Cg,{className:"h-4 w-4 mr-2"}),x.emr?"Testing...":"Test Connection"]}),f.emr!==null&&!x.emr&&e.jsx("div",{className:"flex items-center",children:f.emr?e.jsx(Wr,{className:"h-4 w-4 text-green-500"}):e.jsx(Jl,{className:"h-4 w-4 text-red-500"})})]})]})]}),e.jsxs(je,{children:[e.jsx(st,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Nr,{className:"h-5 w-5 text-green-600"}),e.jsx(at,{children:"Pharmacy Integration"}),e.jsx(ct,{variant:o.enabled?"default":"secondary",children:o.enabled?"Enabled":"Disabled"})]})}),e.jsxs(Se,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ue,{htmlFor:"pharmacy-enabled",children:"Enable Pharmacy Integration"}),e.jsx(Ur,{id:"pharmacy-enabled",checked:o.enabled,onCheckedChange:j=>l(E=>({...E,enabled:j}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"pharmacy-url",children:"Pharmacy API Base URL"}),e.jsx(Ce,{id:"pharmacy-url",value:o.baseUrl,onChange:j=>l(E=>({...E,baseUrl:j.target.value})),disabled:!o.enabled})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"pharmacy-key",children:"API Key"}),e.jsx(Ce,{id:"pharmacy-key",type:"password",value:o.apiKey,onChange:j=>l(E=>({...E,apiKey:j.target.value})),disabled:!o.enabled})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"pharmacy-interval",children:"Sync Interval (minutes)"}),e.jsx(Ce,{id:"pharmacy-interval",type:"number",value:o.syncInterval,onChange:j=>l(E=>({...E,syncInterval:parseInt(j.target.value)})),disabled:!o.enabled})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>g("pharmacy"),disabled:!o.enabled||x.pharmacy,className:"flex-1",children:[x.pharmacy?e.jsx(Ln,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Cg,{className:"h-4 w-4 mr-2"}),x.pharmacy?"Testing...":"Test Connection"]}),f.pharmacy!==null&&!x.pharmacy&&e.jsx("div",{className:"flex items-center",children:f.pharmacy?e.jsx(Wr,{className:"h-4 w-4 text-green-500"}):e.jsx(Jl,{className:"h-4 w-4 text-red-500"})})]})]})]})]})}),e.jsx(or,{value:"system",className:"space-y-6",children:e.jsxs(je,{children:[e.jsx(st,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qa,{className:"h-5 w-5"}),e.jsx(at,{children:"System Configuration"})]})}),e.jsxs(Se,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"currency",children:"Currency"}),e.jsx(Ce,{id:"currency",value:d.currency,onChange:j=>u(E=>({...E,currency:j.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"timezone",children:"Timezone"}),e.jsx(Ce,{id:"timezone",value:d.timezone,onChange:j=>u(E=>({...E,timezone:j.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"date-format",children:"Date Format"}),e.jsx(Ce,{id:"date-format",value:d.dateFormat,onChange:j=>u(E=>({...E,dateFormat:j.target.value}))})]})]}),e.jsx(br,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium",children:"Preferences"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"notifications",children:"Enable Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive system notifications and alerts"})]}),e.jsx(Ur,{id:"notifications",checked:d.notifications,onCheckedChange:j=>u(E=>({...E,notifications:j}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"auto-sync",children:"Auto Synchronization"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Automatically sync with external systems"})]}),e.jsx(Ur,{id:"auto-sync",checked:d.autoSync,onCheckedChange:j=>u(E=>({...E,autoSync:j}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"backup",children:"Automatic Backups"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enable automatic data backups"})]}),e.jsx(Ur,{id:"backup",checked:d.backupEnabled,onCheckedChange:j=>u(E=>({...E,backupEnabled:j}))})]})]})]})]})}),e.jsx(or,{value:"security",className:"space-y-6",children:e.jsxs(je,{children:[e.jsx(st,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(e0,{className:"h-5 w-5"}),e.jsx(at,{children:"Security Settings"})]})}),e.jsx(Se,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:[e.jsx("h4",{className:"font-medium text-yellow-800",children:"Security Notice"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"API keys and sensitive configuration should be stored securely and rotated regularly. Never share API keys or store them in plain text."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Best Practices"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Use environment variables for API keys in production"}),e.jsx("li",{children:" Enable HTTPS for all API communications"}),e.jsx("li",{children:" Regularly audit access logs and permissions"}),e.jsx("li",{children:" Implement proper authentication and authorization"}),e.jsx("li",{children:" Keep API credentials separate from application code"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 border rounded-md",children:[e.jsx("h5",{className:"font-medium text-sm",children:"EMR Security"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Patient data integration requires HIPAA compliance and secure transmission."})]}),e.jsxs("div",{className:"p-3 border rounded-md",children:[e.jsx("h5",{className:"font-medium text-sm",children:"Pharmacy Security"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Medication data must be encrypted and transmitted over secure channels."})]})]})]})})]})}),e.jsx(or,{value:"status",className:"space-y-6",children:e.jsx(oD,{onNavigateToView:r})})]}),e.jsxs(je,{children:[e.jsx(st,{children:e.jsx(at,{children:"Configuration Management"})}),e.jsx(Se,{children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(oe,{variant:"outline",onClick:C,children:[e.jsx(Fm,{className:"h-4 w-4 mr-2"}),"Export Config"]}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:".json",onChange:N,className:"hidden",id:"import-config"}),e.jsxs(oe,{variant:"outline",onClick:()=>document.getElementById("import-config")?.click(),children:[e.jsx(f2,{className:"h-4 w-4 mr-2"}),"Import Config"]})]}),e.jsxs(oe,{variant:"outline",onClick:b,children:[e.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Reset to Defaults"]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[e.jsx(oe,{variant:"outline",onClick:()=>r?.("dashboard"),children:"Cancel"}),e.jsxs(oe,{onClick:S,children:[e.jsx(WN,{className:"h-4 w-4 mr-2"}),"Save Settings"]})]})]})}function cD({onNavigateToView:r}){const[s,a]=p.useState(!1),[o,l]=p.useState(!1);p.useEffect(()=>{d()},[]);const d=async()=>{l(!0);try{const f=await Ot.getPharmacyConnectionStatus();a(f.isConnected)}catch(f){console.error("Failed to check pharmacy connection:",f),a(!1)}finally{l(!1)}},u=async()=>{l(!0);try{await Ot.syncPharmacyData(),ce.success("Pharmacy data synchronized successfully"),d()}catch(f){ce.error("Failed to sync pharmacy data"),console.error("Sync failed:",f)}finally{l(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-[#358E83] rounded-lg p-6 text-white",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-semibold text-white",children:"Pharmacy Integration"}),e.jsx("p",{className:"text-white/90 mt-2",children:"Connect and manage external pharmacy systems for seamless medication management and billing integration."})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center space-x-2",children:s?e.jsxs(e.Fragment,{children:[e.jsx(Wr,{className:"h-5 w-5 text-green-300"}),e.jsx("span",{className:"text-sm text-green-300",children:"Connected"})]}):e.jsxs(e.Fragment,{children:[e.jsx(t0,{className:"h-5 w-5 text-yellow-300"}),e.jsx("span",{className:"text-sm text-yellow-300",children:"Disconnected"})]})}),e.jsxs(oe,{onClick:u,disabled:o||!s,className:"bg-white/20 hover:bg-white/30 text-white border-white/30",children:[o?e.jsx(Ln,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Sync Data"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(je,{children:e.jsx(Se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Integration Status"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s?"Active":"Inactive"})]}),e.jsx(Zl,{className:`h-8 w-8 ${s?"text-green-500":"text-gray-400"}`})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Connected Systems"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s?"1":"0"})]}),e.jsx(vg,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Last Sync"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:s?"2 min ago":"Never"})]}),e.jsx(Ln,{className:"h-8 w-8 text-[#358E83]"})]})})})]}),e.jsxs(je,{children:[e.jsx(st,{children:e.jsxs(at,{className:"flex items-center space-x-2",children:[e.jsx(Nr,{className:"h-5 w-5 text-[#358E83]"}),e.jsx("span",{children:"External Pharmacy System Integration"})]})}),e.jsxs(Se,{className:"space-y-6",children:[e.jsxs("div",{className:"text-center py-8",children:[e.jsx(IN,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Pharmacy System Integration"}),e.jsx("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:"This module connects to external pharmacy management systems to synchronize medication data, inventory levels, and prescription transactions with your billing system."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Data Integration"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Automatically sync medication inventory, pricing, and availability from external pharmacy systems."})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Billing Integration"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Seamlessly integrate pharmacy transactions with the hospital billing system for unified invoicing."})]})]})]}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs(oe,{onClick:()=>r("settings"),className:"bg-[#E94D61] hover:bg-[#d73c50]",children:[e.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Configure Integration"]}),e.jsxs(oe,{variant:"outline",onClick:()=>r("billing"),children:[e.jsx(vg,{className:"h-4 w-4 mr-2"}),"View Billing System"]})]})]})]}),e.jsxs(je,{children:[e.jsx(st,{children:e.jsx(at,{children:"Integration Benefits"})}),e.jsx(Se,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"For Billing Operations"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-[#358E83] rounded-full mt-2"}),e.jsx("span",{children:"Automated medication billing with real-time pricing"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-[#358E83] rounded-full mt-2"}),e.jsx("span",{children:"Unified patient invoices including pharmacy charges"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-[#358E83] rounded-full mt-2"}),e.jsx("span",{children:"Reduced manual data entry and billing errors"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"For Patient Care"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-[#358E83] rounded-full mt-2"}),e.jsx("span",{children:"Real-time medication availability checking"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-[#358E83] rounded-full mt-2"}),e.jsx("span",{children:"Seamless prescription-to-billing workflow"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-[#358E83] rounded-full mt-2"}),e.jsx("span",{children:"Improved patient discharge and billing efficiency"})]})]})]})]})})]})]})}function aa({className:r,...s}){return e.jsx("textarea",{"data-slot":"textarea",className:Ye("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),...s})}var sv="AlertDialog",[dD]=dr(sv,[w0]),Yr=w0(),av=r=>{const{__scopeAlertDialog:s,...a}=r,o=Yr(s);return e.jsx(Um,{...o,...a,modal:!0})};av.displayName=sv;var uD="AlertDialogTrigger",mD=p.forwardRef((r,s)=>{const{__scopeAlertDialog:a,...o}=r,l=Yr(a);return e.jsx(O0,{...l,...o,ref:s})});mD.displayName=uD;var fD="AlertDialogPortal",iv=r=>{const{__scopeAlertDialog:s,...a}=r,o=Yr(s);return e.jsx(Hm,{...o,...a})};iv.displayName=fD;var pD="AlertDialogOverlay",ov=p.forwardRef((r,s)=>{const{__scopeAlertDialog:a,...o}=r,l=Yr(a);return e.jsx(yc,{...l,...o,ref:s})});ov.displayName=pD;var Ka="AlertDialogContent",[hD,gD]=dD(Ka),xD=A1("AlertDialogContent"),lv=p.forwardRef((r,s)=>{const{__scopeAlertDialog:a,children:o,...l}=r,d=Yr(a),u=p.useRef(null),f=xt(s,u),y=p.useRef(null);return e.jsx(CC,{contentName:Ka,titleName:cv,docsSlug:"alert-dialog",children:e.jsx(hD,{scope:a,cancelRef:y,children:e.jsxs(vc,{role:"alertdialog",...d,...l,ref:f,onOpenAutoFocus:Ae(l.onOpenAutoFocus,x=>{x.preventDefault(),y.current?.focus({preventScroll:!0})}),onPointerDownOutside:x=>x.preventDefault(),onInteractOutside:x=>x.preventDefault(),children:[e.jsx(xD,{children:o}),e.jsx(vD,{contentRef:u})]})})})});lv.displayName=Ka;var cv="AlertDialogTitle",dv=p.forwardRef((r,s)=>{const{__scopeAlertDialog:a,...o}=r,l=Yr(a);return e.jsx(Vm,{...l,...o,ref:s})});dv.displayName=cv;var uv="AlertDialogDescription",mv=p.forwardRef((r,s)=>{const{__scopeAlertDialog:a,...o}=r,l=Yr(a);return e.jsx(Wm,{...l,...o,ref:s})});mv.displayName=uv;var yD="AlertDialogAction",fv=p.forwardRef((r,s)=>{const{__scopeAlertDialog:a,...o}=r,l=Yr(a);return e.jsx(qm,{...l,...o,ref:s})});fv.displayName=yD;var pv="AlertDialogCancel",hv=p.forwardRef((r,s)=>{const{__scopeAlertDialog:a,...o}=r,{cancelRef:l}=gD(pv,a),d=Yr(a),u=xt(s,l);return e.jsx(qm,{...d,...o,ref:u})});hv.displayName=pv;var vD=({contentRef:r})=>{const s=`\`${Ka}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ka}\` by passing a \`${uv}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ka}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{document.getElementById(r.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,r]),null},wD=av,jD=iv,gv=ov,bD=lv,ND=fv,SD=hv,CD=dv,PD=mv;function Es({...r}){return e.jsx(wD,{"data-slot":"alert-dialog",...r})}function ED({...r}){return e.jsx(jD,{"data-slot":"alert-dialog-portal",...r})}const xv=p.forwardRef(({className:r,...s},a)=>e.jsx(gv,{ref:a,"data-slot":"alert-dialog-overlay",className:Ye("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...s}));xv.displayName=gv.displayName;function Ds({className:r,...s}){return e.jsxs(ED,{children:[e.jsx(xv,{}),e.jsx(bD,{"data-slot":"alert-dialog-content",className:Ye("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),...s})]})}function ks({className:r,...s}){return e.jsx("div",{"data-slot":"alert-dialog-header",className:Ye("flex flex-col gap-2 text-center sm:text-left",r),...s})}function As({className:r,...s}){return e.jsx("div",{"data-slot":"alert-dialog-footer",className:Ye("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",r),...s})}function Rs({className:r,...s}){return e.jsx(CD,{"data-slot":"alert-dialog-title",className:Ye("text-lg font-semibold",r),...s})}function ua({className:r,...s}){return e.jsx(PD,{"data-slot":"alert-dialog-description",className:Ye("text-muted-foreground text-sm",r),...s})}function Ts({className:r,...s}){return e.jsx(ND,{className:Ye(Mm(),r),...s})}function Is({className:r,...s}){return e.jsx(SD,{className:Ye(Mm({variant:"outline"}),r),...s})}var sx=1,DD=.9,kD=.8,AD=.17,Hu=.1,Vu=.999,RD=.9999,TD=.99,ID=/[\\\/_+.#"@\[\(\{&]/,_D=/[\\\/_+.#"@\[\(\{&]/g,MD=/[\s-]/,yv=/[\s-]/g;function hm(r,s,a,o,l,d,u){if(d===s.length)return l===r.length?sx:TD;var f=`${l},${d}`;if(u[f]!==void 0)return u[f];for(var y=o.charAt(d),x=a.indexOf(y,l),v=0,g,S,C,N;x>=0;)g=hm(r,s,a,o,x+1,d+1,u),g>v&&(x===l?g*=sx:ID.test(r.charAt(x-1))?(g*=kD,C=r.slice(l,x-1).match(_D),C&&l>0&&(g*=Math.pow(Vu,C.length))):MD.test(r.charAt(x-1))?(g*=DD,N=r.slice(l,x-1).match(yv),N&&l>0&&(g*=Math.pow(Vu,N.length))):(g*=AD,l>0&&(g*=Math.pow(Vu,x-l))),r.charAt(x)!==s.charAt(d)&&(g*=RD)),(g<Hu&&a.charAt(x-1)===o.charAt(d+1)||o.charAt(d+1)===o.charAt(d)&&a.charAt(x-1)!==o.charAt(d))&&(S=hm(r,s,a,o,x+1,d+2,u),S*Hu>g&&(g=S*Hu)),g>v&&(v=g),x=a.indexOf(y,x+1);return u[f]=v,v}function ax(r){return r.toLowerCase().replace(yv," ")}function OD(r,s,a){return r=a&&a.length>0?`${r+" "+a.join(" ")}`:r,hm(r,s,ax(r),ax(s),0,0,{})}var Vi='[cmdk-group=""]',Wu='[cmdk-group-items=""]',LD='[cmdk-group-heading=""]',vv='[cmdk-item=""]',ix=`${vv}:not([aria-disabled="true"])`,gm="cmdk-item-select",Ha="data-value",FD=(r,s,a)=>OD(r,s,a),wv=p.createContext(void 0),mo=()=>p.useContext(wv),jv=p.createContext(void 0),lf=()=>p.useContext(jv),bv=p.createContext(void 0),Nv=p.forwardRef((r,s)=>{let a=Va(()=>{var T,z;return{search:"",value:(z=(T=r.value)!=null?T:r.defaultValue)!=null?z:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),o=Va(()=>new Set),l=Va(()=>new Map),d=Va(()=>new Map),u=Va(()=>new Set),f=Sv(r),{label:y,children:x,value:v,onValueChange:g,filter:S,shouldFilter:C,loop:N,disablePointerSelection:b=!1,vimBindings:j=!0,...E}=r,I=mn(),M=mn(),D=mn(),q=p.useRef(null),Q=YD();ma(()=>{if(v!==void 0){let T=v.trim();a.current.value=T,U.emit()}},[v]),ma(()=>{Q(6,ne)},[]);let U=p.useMemo(()=>({subscribe:T=>(u.current.add(T),()=>u.current.delete(T)),snapshot:()=>a.current,setState:(T,z,O)=>{var R,X,B,Y;if(!Object.is(a.current[T],z)){if(a.current[T]=z,T==="search")Z(),le(),Q(1,we);else if(T==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let he=document.getElementById(D);he?he.focus():(R=document.getElementById(I))==null||R.focus()}if(Q(7,()=>{var he;a.current.selectedItemId=(he=fe())==null?void 0:he.id,U.emit()}),O||Q(5,ne),((X=f.current)==null?void 0:X.value)!==void 0){let he=z??"";(Y=(B=f.current).onValueChange)==null||Y.call(B,he);return}}U.emit()}},emit:()=>{u.current.forEach(T=>T())}}),[]),V=p.useMemo(()=>({value:(T,z,O)=>{var R;z!==((R=d.current.get(T))==null?void 0:R.value)&&(d.current.set(T,{value:z,keywords:O}),a.current.filtered.items.set(T,ie(z,O)),Q(2,()=>{le(),U.emit()}))},item:(T,z)=>(o.current.add(T),z&&(l.current.has(z)?l.current.get(z).add(T):l.current.set(z,new Set([T]))),Q(3,()=>{Z(),le(),a.current.value||we(),U.emit()}),()=>{d.current.delete(T),o.current.delete(T),a.current.filtered.items.delete(T);let O=fe();Q(4,()=>{Z(),O?.getAttribute("id")===T&&we(),U.emit()})}),group:T=>(l.current.has(T)||l.current.set(T,new Set),()=>{d.current.delete(T),l.current.delete(T)}),filter:()=>f.current.shouldFilter,label:y||r["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:I,inputId:D,labelId:M,listInnerRef:q}),[]);function ie(T,z){var O,R;let X=(R=(O=f.current)==null?void 0:O.filter)!=null?R:FD;return T?X(T,a.current.search,z):0}function le(){if(!a.current.search||f.current.shouldFilter===!1)return;let T=a.current.filtered.items,z=[];a.current.filtered.groups.forEach(R=>{let X=l.current.get(R),B=0;X.forEach(Y=>{let he=T.get(Y);B=Math.max(he,B)}),z.push([R,B])});let O=q.current;me().sort((R,X)=>{var B,Y;let he=R.getAttribute("id"),Ne=X.getAttribute("id");return((B=T.get(Ne))!=null?B:0)-((Y=T.get(he))!=null?Y:0)}).forEach(R=>{let X=R.closest(Wu);X?X.appendChild(R.parentElement===X?R:R.closest(`${Wu} > *`)):O.appendChild(R.parentElement===O?R:R.closest(`${Wu} > *`))}),z.sort((R,X)=>X[1]-R[1]).forEach(R=>{var X;let B=(X=q.current)==null?void 0:X.querySelector(`${Vi}[${Ha}="${encodeURIComponent(R[0])}"]`);B?.parentElement.appendChild(B)})}function we(){let T=me().find(O=>O.getAttribute("aria-disabled")!=="true"),z=T?.getAttribute(Ha);U.setState("value",z||void 0)}function Z(){var T,z,O,R;if(!a.current.search||f.current.shouldFilter===!1){a.current.filtered.count=o.current.size;return}a.current.filtered.groups=new Set;let X=0;for(let B of o.current){let Y=(z=(T=d.current.get(B))==null?void 0:T.value)!=null?z:"",he=(R=(O=d.current.get(B))==null?void 0:O.keywords)!=null?R:[],Ne=ie(Y,he);a.current.filtered.items.set(B,Ne),Ne>0&&X++}for(let[B,Y]of l.current)for(let he of Y)if(a.current.filtered.items.get(he)>0){a.current.filtered.groups.add(B);break}a.current.filtered.count=X}function ne(){var T,z,O;let R=fe();R&&(((T=R.parentElement)==null?void 0:T.firstChild)===R&&((O=(z=R.closest(Vi))==null?void 0:z.querySelector(LD))==null||O.scrollIntoView({block:"nearest"})),R.scrollIntoView({block:"nearest"}))}function fe(){var T;return(T=q.current)==null?void 0:T.querySelector(`${vv}[aria-selected="true"]`)}function me(){var T;return Array.from(((T=q.current)==null?void 0:T.querySelectorAll(ix))||[])}function se(T){let z=me()[T];z&&U.setState("value",z.getAttribute(Ha))}function te(T){var z;let O=fe(),R=me(),X=R.findIndex(Y=>Y===O),B=R[X+T];(z=f.current)!=null&&z.loop&&(B=X+T<0?R[R.length-1]:X+T===R.length?R[0]:R[X+T]),B&&U.setState("value",B.getAttribute(Ha))}function L(T){let z=fe(),O=z?.closest(Vi),R;for(;O&&!R;)O=T>0?GD(O,Vi):KD(O,Vi),R=O?.querySelector(ix);R?U.setState("value",R.getAttribute(Ha)):te(T)}let k=()=>se(me().length-1),K=T=>{T.preventDefault(),T.metaKey?k():T.altKey?L(1):te(1)},A=T=>{T.preventDefault(),T.metaKey?se(0):T.altKey?L(-1):te(-1)};return p.createElement(qe.div,{ref:s,tabIndex:-1,...E,"cmdk-root":"",onKeyDown:T=>{var z;(z=E.onKeyDown)==null||z.call(E,T);let O=T.nativeEvent.isComposing||T.keyCode===229;if(!(T.defaultPrevented||O))switch(T.key){case"n":case"j":{j&&T.ctrlKey&&K(T);break}case"ArrowDown":{K(T);break}case"p":case"k":{j&&T.ctrlKey&&A(T);break}case"ArrowUp":{A(T);break}case"Home":{T.preventDefault(),se(0);break}case"End":{T.preventDefault(),k();break}case"Enter":{T.preventDefault();let R=fe();if(R){let X=new Event(gm);R.dispatchEvent(X)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:V.inputId,id:V.labelId,style:XD},y),_c(r,T=>p.createElement(jv.Provider,{value:U},p.createElement(wv.Provider,{value:V},T))))}),zD=p.forwardRef((r,s)=>{var a,o;let l=mn(),d=p.useRef(null),u=p.useContext(bv),f=mo(),y=Sv(r),x=(o=(a=y.current)==null?void 0:a.forceMount)!=null?o:u?.forceMount;ma(()=>{if(!x)return f.item(l,u?.id)},[x]);let v=Cv(l,d,[r.value,r.children,d],r.keywords),g=lf(),S=_s(Q=>Q.value&&Q.value===v.current),C=_s(Q=>x||f.filter()===!1?!0:Q.search?Q.filtered.items.get(l)>0:!0);p.useEffect(()=>{let Q=d.current;if(!(!Q||r.disabled))return Q.addEventListener(gm,N),()=>Q.removeEventListener(gm,N)},[C,r.onSelect,r.disabled]);function N(){var Q,U;b(),(U=(Q=y.current).onSelect)==null||U.call(Q,v.current)}function b(){g.setState("value",v.current,!0)}if(!C)return null;let{disabled:j,value:E,onSelect:I,forceMount:M,keywords:D,...q}=r;return p.createElement(qe.div,{ref:Vr(d,s),...q,id:l,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!S,"data-disabled":!!j,"data-selected":!!S,onPointerMove:j||f.getDisablePointerSelection()?void 0:b,onClick:j?void 0:N},r.children)}),$D=p.forwardRef((r,s)=>{let{heading:a,children:o,forceMount:l,...d}=r,u=mn(),f=p.useRef(null),y=p.useRef(null),x=mn(),v=mo(),g=_s(C=>l||v.filter()===!1?!0:C.search?C.filtered.groups.has(u):!0);ma(()=>v.group(u),[]),Cv(u,f,[r.value,r.heading,y]);let S=p.useMemo(()=>({id:u,forceMount:l}),[l]);return p.createElement(qe.div,{ref:Vr(f,s),...d,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},a&&p.createElement("div",{ref:y,"cmdk-group-heading":"","aria-hidden":!0,id:x},a),_c(r,C=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":a?x:void 0},p.createElement(bv.Provider,{value:S},C))))}),BD=p.forwardRef((r,s)=>{let{alwaysRender:a,...o}=r,l=p.useRef(null),d=_s(u=>!u.search);return!a&&!d?null:p.createElement(qe.div,{ref:Vr(l,s),...o,"cmdk-separator":"",role:"separator"})}),UD=p.forwardRef((r,s)=>{let{onValueChange:a,...o}=r,l=r.value!=null,d=lf(),u=_s(x=>x.search),f=_s(x=>x.selectedItemId),y=mo();return p.useEffect(()=>{r.value!=null&&d.setState("search",r.value)},[r.value]),p.createElement(qe.input,{ref:s,...o,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":y.listId,"aria-labelledby":y.labelId,"aria-activedescendant":f,id:y.inputId,type:"text",value:l?r.value:u,onChange:x=>{l||d.setState("search",x.target.value),a?.(x.target.value)}})}),HD=p.forwardRef((r,s)=>{let{children:a,label:o="Suggestions",...l}=r,d=p.useRef(null),u=p.useRef(null),f=_s(x=>x.selectedItemId),y=mo();return p.useEffect(()=>{if(u.current&&d.current){let x=u.current,v=d.current,g,S=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let C=x.offsetHeight;v.style.setProperty("--cmdk-list-height",C.toFixed(1)+"px")})});return S.observe(x),()=>{cancelAnimationFrame(g),S.unobserve(x)}}},[]),p.createElement(qe.div,{ref:Vr(d,s),...l,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":f,"aria-label":o,id:y.listId},_c(r,x=>p.createElement("div",{ref:Vr(u,y.listInnerRef),"cmdk-list-sizer":""},x)))}),VD=p.forwardRef((r,s)=>{let{open:a,onOpenChange:o,overlayClassName:l,contentClassName:d,container:u,...f}=r;return p.createElement(Um,{open:a,onOpenChange:o},p.createElement(Hm,{container:u},p.createElement(yc,{"cmdk-overlay":"",className:l}),p.createElement(vc,{"aria-label":r.label,"cmdk-dialog":"",className:d},p.createElement(Nv,{ref:s,...f}))))}),WD=p.forwardRef((r,s)=>_s(a=>a.filtered.count===0)?p.createElement(qe.div,{ref:s,...r,"cmdk-empty":"",role:"presentation"}):null),qD=p.forwardRef((r,s)=>{let{progress:a,children:o,label:l="Loading...",...d}=r;return p.createElement(qe.div,{ref:s,...d,"cmdk-loading":"",role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,"aria-label":l},_c(r,u=>p.createElement("div",{"aria-hidden":!0},u)))}),ii=Object.assign(Nv,{List:HD,Item:zD,Input:UD,Group:$D,Separator:BD,Dialog:VD,Empty:WD,Loading:qD});function GD(r,s){let a=r.nextElementSibling;for(;a;){if(a.matches(s))return a;a=a.nextElementSibling}}function KD(r,s){let a=r.previousElementSibling;for(;a;){if(a.matches(s))return a;a=a.previousElementSibling}}function Sv(r){let s=p.useRef(r);return ma(()=>{s.current=r}),s}var ma=typeof window>"u"?p.useEffect:p.useLayoutEffect;function Va(r){let s=p.useRef();return s.current===void 0&&(s.current=r()),s}function _s(r){let s=lf(),a=()=>r(s.snapshot());return p.useSyncExternalStore(s.subscribe,a,a)}function Cv(r,s,a,o=[]){let l=p.useRef(),d=mo();return ma(()=>{var u;let f=(()=>{var x;for(let v of a){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(x=v.current.textContent)==null?void 0:x.trim():l.current}})(),y=o.map(x=>x.trim());d.value(r,f,y),(u=s.current)==null||u.setAttribute(Ha,f),l.current=f}),l}var YD=()=>{let[r,s]=p.useState(),a=Va(()=>new Map);return ma(()=>{a.current.forEach(o=>o()),a.current=new Map},[r]),(o,l)=>{a.current.set(o,l),s({})}};function QD(r){let s=r.type;return typeof s=="function"?s(r.props):"render"in s?s.render(r.props):r}function _c({asChild:r,children:s},a){return r&&p.isValidElement(s)?p.cloneElement(QD(s),{ref:s.ref},a(s.props.children)):a(s)}var XD={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function xm({className:r,...s}){return e.jsx(ii,{"data-slot":"command",className:Ye("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",r),...s})}function ym({className:r,...s}){return e.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[e.jsx(Ms,{className:"size-4 shrink-0 opacity-50"}),e.jsx(ii.Input,{"data-slot":"command-input",className:Ye("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",r),...s})]})}function vm({className:r,...s}){return e.jsx(ii.List,{"data-slot":"command-list",className:Ye("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",r),...s})}function wm({...r}){return e.jsx(ii.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...r})}function ql({className:r,...s}){return e.jsx(ii.Group,{"data-slot":"command-group",className:Ye("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",r),...s})}function Gl({className:r,...s}){return e.jsx(ii.Item,{"data-slot":"command-item",className:Ye("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...s})}var Mc="Popover",[Pv]=dr(Mc,[si]),fo=si(),[JD,Fs]=Pv(Mc),Ev=r=>{const{__scopePopover:s,children:a,open:o,defaultOpen:l,onOpenChange:d,modal:u=!1}=r,f=fo(s),y=p.useRef(null),[x,v]=p.useState(!1),[g,S]=Ss({prop:o,defaultProp:l??!1,onChange:d,caller:Mc});return e.jsx(nf,{...f,children:e.jsx(JD,{scope:s,contentId:mn(),triggerRef:y,open:g,onOpenChange:S,onOpenToggle:p.useCallback(()=>S(C=>!C),[S]),hasCustomAnchor:x,onCustomAnchorAdd:p.useCallback(()=>v(!0),[]),onCustomAnchorRemove:p.useCallback(()=>v(!1),[]),modal:u,children:a})})};Ev.displayName=Mc;var Dv="PopoverAnchor",ZD=p.forwardRef((r,s)=>{const{__scopePopover:a,...o}=r,l=Fs(Dv,a),d=fo(a),{onCustomAnchorAdd:u,onCustomAnchorRemove:f}=l;return p.useEffect(()=>(u(),()=>f()),[u,f]),e.jsx(Cc,{...d,...o,ref:s})});ZD.displayName=Dv;var kv="PopoverTrigger",Av=p.forwardRef((r,s)=>{const{__scopePopover:a,...o}=r,l=Fs(kv,a),d=fo(a),u=xt(s,l.triggerRef),f=e.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":Mv(l.open),...o,ref:u,onClick:Ae(r.onClick,l.onOpenToggle)});return l.hasCustomAnchor?f:e.jsx(Cc,{asChild:!0,...d,children:f})});Av.displayName=kv;var cf="PopoverPortal",[ek,tk]=Pv(cf,{forceMount:void 0}),Rv=r=>{const{__scopePopover:s,forceMount:a,children:o,container:l}=r,d=Fs(cf,s);return e.jsx(ek,{scope:s,forceMount:a,children:e.jsx(ur,{present:a||d.open,children:e.jsx(oo,{asChild:!0,container:l,children:o})})})};Rv.displayName=cf;var Ja="PopoverContent",Tv=p.forwardRef((r,s)=>{const a=tk(Ja,r.__scopePopover),{forceMount:o=a.forceMount,...l}=r,d=Fs(Ja,r.__scopePopover);return e.jsx(ur,{present:o||d.open,children:d.modal?e.jsx(rk,{...l,ref:s}):e.jsx(sk,{...l,ref:s})})});Tv.displayName=Ja;var nk=Ns("PopoverContent.RemoveScroll"),rk=p.forwardRef((r,s)=>{const a=Fs(Ja,r.__scopePopover),o=p.useRef(null),l=xt(s,o),d=p.useRef(!1);return p.useEffect(()=>{const u=o.current;if(u)return gc(u)},[]),e.jsx(lo,{as:nk,allowPinchZoom:!0,children:e.jsx(Iv,{...r,ref:l,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(r.onCloseAutoFocus,u=>{u.preventDefault(),d.current||a.triggerRef.current?.focus()}),onPointerDownOutside:Ae(r.onPointerDownOutside,u=>{const f=u.detail.originalEvent,y=f.button===0&&f.ctrlKey===!0,x=f.button===2||y;d.current=x},{checkForDefaultPrevented:!1}),onFocusOutside:Ae(r.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),sk=p.forwardRef((r,s)=>{const a=Fs(Ja,r.__scopePopover),o=p.useRef(!1),l=p.useRef(!1);return e.jsx(Iv,{...r,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{r.onCloseAutoFocus?.(d),d.defaultPrevented||(o.current||a.triggerRef.current?.focus(),d.preventDefault()),o.current=!1,l.current=!1},onInteractOutside:d=>{r.onInteractOutside?.(d),d.defaultPrevented||(o.current=!0,d.detail.originalEvent.type==="pointerdown"&&(l.current=!0));const u=d.target;a.triggerRef.current?.contains(u)&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&l.current&&d.preventDefault()}})}),Iv=p.forwardRef((r,s)=>{const{__scopePopover:a,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:d,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:y,onFocusOutside:x,onInteractOutside:v,...g}=r,S=Fs(Ja,a),C=fo(a);return pc(),e.jsx(io,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:l,onUnmountAutoFocus:d,children:e.jsx(ao,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:v,onEscapeKeyDown:f,onPointerDownOutside:y,onFocusOutside:x,onDismiss:()=>S.onOpenChange(!1),children:e.jsx(rf,{"data-state":Mv(S.open),role:"dialog",id:S.contentId,...C,...g,ref:s,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_v="PopoverClose",ak=p.forwardRef((r,s)=>{const{__scopePopover:a,...o}=r,l=Fs(_v,a);return e.jsx(qe.button,{type:"button",...o,ref:s,onClick:Ae(r.onClick,()=>l.onOpenChange(!1))})});ak.displayName=_v;var ik="PopoverArrow",ok=p.forwardRef((r,s)=>{const{__scopePopover:a,...o}=r,l=fo(a);return e.jsx(sf,{...l,...o,ref:s})});ok.displayName=ik;function Mv(r){return r?"open":"closed"}var lk=Ev,ck=Av,dk=Rv,uk=Tv;function jm({...r}){return e.jsx(lk,{"data-slot":"popover",...r})}function bm({...r}){return e.jsx(ck,{"data-slot":"popover-trigger",...r})}function Nm({className:r,align:s="center",sideOffset:a=4,...o}){return e.jsx(dk,{children:e.jsx(uk,{"data-slot":"popover-content",align:s,sideOffset:a,className:Ye("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",r),...o})})}const Ll={P001:{patientId:"P001",patientName:"Maria Santos",admissionDate:"2025-01-03",status:"discharged",dischargeDate:"2025-01-05",services:[{serviceId:"S001",service:"General Consultation",category:"Consultation Services",quantity:1,date:"2025-01-03",provider:"Dr. Juan Reyes",notes:"Initial assessment for abdominal pain"},{serviceId:"S002",service:"Complete Blood Count",category:"Laboratory Services",quantity:1,date:"2025-01-03",provider:"Lab Department",notes:"Routine blood work"},{serviceId:"S003",service:"Ultrasound",category:"Diagnostic Services",quantity:1,date:"2025-01-03",provider:"Radiology Department",notes:"Abdominal ultrasound"},{serviceId:"S004",service:"Pharmacy - Medications",category:"Pharmacy",quantity:1,date:"2025-01-04",provider:"Pharmacy",notes:"Paracetamol 500mg x20, Amoxicillin 500mg x21, Mefenamic Acid 500mg x10"}]},P002:{patientId:"P002",patientName:"Juan Dela Cruz",admissionDate:"2025-01-04",status:"outpatient",services:[{serviceId:"S005",service:"Specialist Consultation",category:"Consultation Services",quantity:1,date:"2025-01-04",provider:"Dr. Maria Garcia - Cardiologist",notes:"Follow-up for hypertension"},{serviceId:"S006",service:"ECG",category:"Diagnostic Services",quantity:1,date:"2025-01-04",provider:"Cardiology Department",notes:"Routine ECG"},{serviceId:"S007",service:"Blood Chemistry",category:"Laboratory Services",quantity:1,date:"2025-01-04",provider:"Lab Department",notes:"Lipid profile"}]},P003:{patientId:"P003",patientName:"Anna Reyes",admissionDate:"2025-01-02",status:"discharged",dischargeDate:"2025-01-04",services:[{serviceId:"S008",service:"CT Scan",category:"Diagnostic Services",quantity:1,date:"2025-01-02",provider:"Radiology Department",notes:"Head CT scan for headache evaluation"},{serviceId:"S009",service:"Specialist Consultation",category:"Consultation Services",quantity:1,date:"2025-01-02",provider:"Dr. Roberto Santos - Neurologist",notes:"Neurological evaluation"}]},P004:{patientId:"P004",patientName:"Roberto Cruz",admissionDate:"2024-12-30",status:"discharged",dischargeDate:"2025-01-02",services:[{serviceId:"S010",service:"Minor Surgery",category:"Surgical Services",quantity:1,date:"2024-12-31",provider:"Dr. Pedro Gonzales - Surgeon",notes:"Appendectomy"},{serviceId:"S011",service:"Semi-Private Room",category:"Room & Board",quantity:3,date:"2024-12-30",provider:"Nursing Department",notes:"3 days hospitalization"},{serviceId:"S012",service:"Complete Blood Count",category:"Laboratory Services",quantity:2,date:"2024-12-30",provider:"Lab Department",notes:"Pre-op and post-op blood work"},{serviceId:"S013",service:"Pharmacy - Medications",category:"Pharmacy",quantity:1,date:"2025-01-01",provider:"Pharmacy",notes:"Ceftriaxone 1g Injectable x6, Metronidazole 500mg x21, Tramadol 50mg x20"}]},P005:{patientId:"P005",patientName:"Carmen Flores",admissionDate:"2025-01-05",status:"admitted",services:[{serviceId:"S014",service:"Emergency Consultation",category:"Consultation Services",quantity:1,date:"2025-01-05",provider:"Dr. Sofia Martinez - ER Physician",notes:"Chest pain evaluation"},{serviceId:"S015",service:"ECG",category:"Diagnostic Services",quantity:1,date:"2025-01-05",provider:"ER Department",notes:"Emergency ECG"},{serviceId:"S016",service:"Blood Chemistry",category:"Laboratory Services",quantity:1,date:"2025-01-05",provider:"Lab Department",notes:"Cardiac enzymes"},{serviceId:"S017",service:"ICU",category:"Room & Board",quantity:1,date:"2025-01-05",provider:"ICU Department",notes:"Intensive care observation"}]},P006:{patientId:"P006",patientName:"Miguel Torres",admissionDate:"2025-01-04",status:"outpatient",services:[{serviceId:"S018",service:"Physical Therapy",category:"Therapeutic Services",quantity:5,date:"2025-01-04",provider:"Physical Therapy Department",notes:"Post-fracture rehabilitation sessions"},{serviceId:"S019",service:"X-Ray",category:"Diagnostic Services",quantity:2,date:"2025-01-04",provider:"Radiology Department",notes:"Follow-up x-rays"}]},P007:{patientId:"P007",patientName:"Sofia Garcia",admissionDate:"2025-01-01",status:"discharged",dischargeDate:"2025-01-05",services:[{serviceId:"S020",service:"Major Surgery",category:"Surgical Services",quantity:1,date:"2025-01-02",provider:"Dr. Carlos Mendoza - Surgeon",notes:"Gallbladder removal"},{serviceId:"S021",service:"Private Room",category:"Room & Board",quantity:4,date:"2025-01-01",provider:"Nursing Department",notes:"4 days private room"},{serviceId:"S022",service:"Complete Blood Count",category:"Laboratory Services",quantity:3,date:"2025-01-01",provider:"Lab Department",notes:"Pre-op and post-op monitoring"},{serviceId:"S023",service:"Ultrasound",category:"Diagnostic Services",quantity:1,date:"2025-01-01",provider:"Radiology Department",notes:"Pre-operative imaging"},{serviceId:"S024",service:"Pharmacy - Medications",category:"Pharmacy",quantity:1,date:"2025-01-03",provider:"Pharmacy",notes:"Omeprazole 20mg x30, Ondansetron 4mg x10 - Post-operative care"}]},P008:{patientId:"P008",patientName:"Pedro Gonzales",admissionDate:"2025-01-03",status:"outpatient",services:[{serviceId:"S025",service:"Telemedicine Consultation",category:"Consultation Services",quantity:1,date:"2025-01-03",provider:"Dr. Elena Ramirez",notes:"Virtual follow-up for diabetes management"},{serviceId:"S026",service:"Blood Chemistry",category:"Laboratory Services",quantity:1,date:"2025-01-03",provider:"Lab Department",notes:"HbA1c and glucose monitoring"}]},P009:{patientId:"P009",patientName:"Elena Ramirez",admissionDate:"2025-01-05",status:"admitted",services:[{serviceId:"S027",service:"Dialysis",category:"Therapeutic Services",quantity:1,date:"2025-01-05",provider:"Nephrology Department",notes:"Regular dialysis session"},{serviceId:"S028",service:"Complete Blood Count",category:"Laboratory Services",quantity:1,date:"2025-01-05",provider:"Lab Department",notes:"Pre-dialysis blood work"},{serviceId:"S029",service:"Day Care",category:"Room & Board",quantity:1,date:"2025-01-05",provider:"Day Care Unit",notes:"Dialysis day care"}]},P010:{patientId:"P010",patientName:"Carlos Mendoza",admissionDate:"2025-01-04",status:"outpatient",services:[{serviceId:"S030",service:"MRI",category:"Diagnostic Services",quantity:1,date:"2025-01-04",provider:"Radiology Department",notes:"Knee MRI for sports injury"},{serviceId:"S031",service:"Specialist Consultation",category:"Consultation Services",quantity:1,date:"2025-01-04",provider:"Dr. Antonio Fernandez - Orthopedic",notes:"Orthopedic evaluation"}]}};class Fl{static getPatientServices(s){const a=Ll[s];return a?a.services:[]}static getPatientEmrData(s){return Ll[s]||null}static hasUnbilledServices(s){return this.getPatientServices(s).length>0}static getPatientStatus(s){return Ll[s]?.status||"unknown"}static getAllPatientsWithServices(){return Object.keys(Ll)}}const zl=[{service:"General Consultation",category:"Consultation Services",price:1500,unit:"session"},{service:"Specialist Consultation",category:"Consultation Services",price:2500,unit:"session"},{service:"Emergency Consultation",category:"Consultation Services",price:3e3,unit:"session"},{service:"Telemedicine Consultation",category:"Consultation Services",price:1200,unit:"session"},{service:"Blood Test",category:"Diagnostic Services",price:800,unit:"test"},{service:"X-Ray",category:"Diagnostic Services",price:1500,unit:"image"},{service:"CT Scan",category:"Diagnostic Services",price:8e3,unit:"scan"},{service:"MRI",category:"Diagnostic Services",price:12e3,unit:"scan"},{service:"Ultrasound",category:"Diagnostic Services",price:2500,unit:"scan"},{service:"ECG",category:"Diagnostic Services",price:800,unit:"test"},{service:"Endoscopy",category:"Diagnostic Services",price:5e3,unit:"procedure"},{service:"Complete Blood Count",category:"Laboratory Services",price:500,unit:"test"},{service:"Blood Chemistry",category:"Laboratory Services",price:1200,unit:"test"},{service:"Urinalysis",category:"Laboratory Services",price:300,unit:"test"},{service:"Microbiology",category:"Laboratory Services",price:1500,unit:"test"},{service:"Pathology",category:"Laboratory Services",price:2e3,unit:"test"},{service:"Minor Surgery",category:"Surgical Services",price:15e3,unit:"procedure"},{service:"Major Surgery",category:"Surgical Services",price:5e4,unit:"procedure"},{service:"Outpatient Surgery",category:"Surgical Services",price:2e4,unit:"procedure"},{service:"Emergency Surgery",category:"Surgical Services",price:6e4,unit:"procedure"},{service:"Physical Therapy",category:"Therapeutic Services",price:1e3,unit:"session"},{service:"Occupational Therapy",category:"Therapeutic Services",price:1200,unit:"session"},{service:"Speech Therapy",category:"Therapeutic Services",price:1500,unit:"session"},{service:"Chemotherapy",category:"Therapeutic Services",price:25e3,unit:"session"},{service:"Dialysis",category:"Therapeutic Services",price:3500,unit:"session"},{service:"Private Room",category:"Room & Board",price:3500,unit:"day"},{service:"Semi-Private Room",category:"Room & Board",price:2e3,unit:"day"},{service:"ICU",category:"Room & Board",price:8e3,unit:"day"},{service:"Emergency Room",category:"Room & Board",price:2500,unit:"day"},{service:"Day Care",category:"Room & Board",price:1500,unit:"day"},{service:"Prescription Medication",category:"Pharmacy",price:500,unit:"item"},{service:"Over-the-Counter",category:"Pharmacy",price:200,unit:"item"},{service:"Injectable Medication",category:"Pharmacy",price:800,unit:"dose"},{service:"IV Fluids",category:"Pharmacy",price:600,unit:"bag"},{service:"Wheelchair Rental",category:"Medical Equipment",price:200,unit:"day"},{service:"Medical Device Rental",category:"Medical Equipment",price:500,unit:"day"},{service:"Oxygen Tank",category:"Medical Equipment",price:1e3,unit:"day"},{service:"CPAP Machine",category:"Medical Equipment",price:1500,unit:"day"}];class qu{static getPrice(s,a){return zl.find(l=>l.service===s&&(!a||l.category===a))?.price||0}static getServicesByCategory(s){return zl.filter(a=>a.category===s)}static searchServices(s){const a=s.toLowerCase();return zl.filter(o=>o.service.toLowerCase().includes(a)||o.category.toLowerCase().includes(a))}static getAllCategories(){return Array.from(new Set(zl.map(s=>s.category)))}static getFormattedPrice(s,a){return`${this.getPrice(s,a).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`}}function Ov(r,s){return function(){return r.apply(s,arguments)}}const{toString:mk}=Object.prototype,{getPrototypeOf:df}=Object,{iterator:Oc,toStringTag:Lv}=Symbol,Lc=(r=>s=>{const a=mk.call(s);return r[a]||(r[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),fr=r=>(r=r.toLowerCase(),s=>Lc(s)===r),Fc=r=>s=>typeof s===r,{isArray:oi}=Array,Za=Fc("undefined");function po(r){return r!==null&&!Za(r)&&r.constructor!==null&&!Za(r.constructor)&&Rn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Fv=fr("ArrayBuffer");function fk(r){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(r):s=r&&r.buffer&&Fv(r.buffer),s}const pk=Fc("string"),Rn=Fc("function"),zv=Fc("number"),ho=r=>r!==null&&typeof r=="object",hk=r=>r===!0||r===!1,Kl=r=>{if(Lc(r)!=="object")return!1;const s=df(r);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Lv in r)&&!(Oc in r)},gk=r=>{if(!ho(r)||po(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},xk=fr("Date"),yk=fr("File"),vk=fr("Blob"),wk=fr("FileList"),jk=r=>ho(r)&&Rn(r.pipe),bk=r=>{let s;return r&&(typeof FormData=="function"&&r instanceof FormData||Rn(r.append)&&((s=Lc(r))==="formdata"||s==="object"&&Rn(r.toString)&&r.toString()==="[object FormData]"))},Nk=fr("URLSearchParams"),[Sk,Ck,Pk,Ek]=["ReadableStream","Request","Response","Headers"].map(fr),Dk=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function go(r,s,{allOwnKeys:a=!1}={}){if(r===null||typeof r>"u")return;let o,l;if(typeof r!="object"&&(r=[r]),oi(r))for(o=0,l=r.length;o<l;o++)s.call(null,r[o],o,r);else{if(po(r))return;const d=a?Object.getOwnPropertyNames(r):Object.keys(r),u=d.length;let f;for(o=0;o<u;o++)f=d[o],s.call(null,r[f],f,r)}}function $v(r,s){if(po(r))return null;s=s.toLowerCase();const a=Object.keys(r);let o=a.length,l;for(;o-- >0;)if(l=a[o],s===l.toLowerCase())return l;return null}const ra=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Bv=r=>!Za(r)&&r!==ra;function Sm(){const{caseless:r,skipUndefined:s}=Bv(this)&&this||{},a={},o=(l,d)=>{const u=r&&$v(a,d)||d;Kl(a[u])&&Kl(l)?a[u]=Sm(a[u],l):Kl(l)?a[u]=Sm({},l):oi(l)?a[u]=l.slice():(!s||!Za(l))&&(a[u]=l)};for(let l=0,d=arguments.length;l<d;l++)arguments[l]&&go(arguments[l],o);return a}const kk=(r,s,a,{allOwnKeys:o}={})=>(go(s,(l,d)=>{a&&Rn(l)?r[d]=Ov(l,a):r[d]=l},{allOwnKeys:o}),r),Ak=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Rk=(r,s,a,o)=>{r.prototype=Object.create(s.prototype,o),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:s.prototype}),a&&Object.assign(r.prototype,a)},Tk=(r,s,a,o)=>{let l,d,u;const f={};if(s=s||{},r==null)return s;do{for(l=Object.getOwnPropertyNames(r),d=l.length;d-- >0;)u=l[d],(!o||o(u,r,s))&&!f[u]&&(s[u]=r[u],f[u]=!0);r=a!==!1&&df(r)}while(r&&(!a||a(r,s))&&r!==Object.prototype);return s},Ik=(r,s,a)=>{r=String(r),(a===void 0||a>r.length)&&(a=r.length),a-=s.length;const o=r.indexOf(s,a);return o!==-1&&o===a},_k=r=>{if(!r)return null;if(oi(r))return r;let s=r.length;if(!zv(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=r[s];return a},Mk=(r=>s=>r&&s instanceof r)(typeof Uint8Array<"u"&&df(Uint8Array)),Ok=(r,s)=>{const o=(r&&r[Oc]).call(r);let l;for(;(l=o.next())&&!l.done;){const d=l.value;s.call(r,d[0],d[1])}},Lk=(r,s)=>{let a;const o=[];for(;(a=r.exec(s))!==null;)o.push(a);return o},Fk=fr("HTMLFormElement"),zk=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,o,l){return o.toUpperCase()+l}),ox=(({hasOwnProperty:r})=>(s,a)=>r.call(s,a))(Object.prototype),$k=fr("RegExp"),Uv=(r,s)=>{const a=Object.getOwnPropertyDescriptors(r),o={};go(a,(l,d)=>{let u;(u=s(l,d,r))!==!1&&(o[d]=u||l)}),Object.defineProperties(r,o)},Bk=r=>{Uv(r,(s,a)=>{if(Rn(r)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const o=r[a];if(Rn(o)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Uk=(r,s)=>{const a={},o=l=>{l.forEach(d=>{a[d]=!0})};return oi(r)?o(r):o(String(r).split(s)),a},Hk=()=>{},Vk=(r,s)=>r!=null&&Number.isFinite(r=+r)?r:s;function Wk(r){return!!(r&&Rn(r.append)&&r[Lv]==="FormData"&&r[Oc])}const qk=r=>{const s=new Array(10),a=(o,l)=>{if(ho(o)){if(s.indexOf(o)>=0)return;if(po(o))return o;if(!("toJSON"in o)){s[l]=o;const d=oi(o)?[]:{};return go(o,(u,f)=>{const y=a(u,l+1);!Za(y)&&(d[f]=y)}),s[l]=void 0,d}}return o};return a(r,0)},Gk=fr("AsyncFunction"),Kk=r=>r&&(ho(r)||Rn(r))&&Rn(r.then)&&Rn(r.catch),Hv=((r,s)=>r?setImmediate:s?((a,o)=>(ra.addEventListener("message",({source:l,data:d})=>{l===ra&&d===a&&o.length&&o.shift()()},!1),l=>{o.push(l),ra.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Rn(ra.postMessage)),Yk=typeof queueMicrotask<"u"?queueMicrotask.bind(ra):typeof process<"u"&&process.nextTick||Hv,Qk=r=>r!=null&&Rn(r[Oc]),re={isArray:oi,isArrayBuffer:Fv,isBuffer:po,isFormData:bk,isArrayBufferView:fk,isString:pk,isNumber:zv,isBoolean:hk,isObject:ho,isPlainObject:Kl,isEmptyObject:gk,isReadableStream:Sk,isRequest:Ck,isResponse:Pk,isHeaders:Ek,isUndefined:Za,isDate:xk,isFile:yk,isBlob:vk,isRegExp:$k,isFunction:Rn,isStream:jk,isURLSearchParams:Nk,isTypedArray:Mk,isFileList:wk,forEach:go,merge:Sm,extend:kk,trim:Dk,stripBOM:Ak,inherits:Rk,toFlatObject:Tk,kindOf:Lc,kindOfTest:fr,endsWith:Ik,toArray:_k,forEachEntry:Ok,matchAll:Lk,isHTMLForm:Fk,hasOwnProperty:ox,hasOwnProp:ox,reduceDescriptors:Uv,freezeMethods:Bk,toObjectSet:Uk,toCamelCase:zk,noop:Hk,toFiniteNumber:Vk,findKey:$v,global:ra,isContextDefined:Bv,isSpecCompliantForm:Wk,toJSONObject:qk,isAsyncFn:Gk,isThenable:Kk,setImmediate:Hv,asap:Yk,isIterable:Qk};function it(r,s,a,o,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",s&&(this.code=s),a&&(this.config=a),o&&(this.request=o),l&&(this.response=l,this.status=l.status?l.status:null)}re.inherits(it,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const Vv=it.prototype,Wv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Wv[r]={value:r}});Object.defineProperties(it,Wv);Object.defineProperty(Vv,"isAxiosError",{value:!0});it.from=(r,s,a,o,l,d)=>{const u=Object.create(Vv);re.toFlatObject(r,u,function(v){return v!==Error.prototype},x=>x!=="isAxiosError");const f=r&&r.message?r.message:"Error",y=s==null&&r?r.code:s;return it.call(u,f,y,a,o,l),r&&u.cause==null&&Object.defineProperty(u,"cause",{value:r,configurable:!0}),u.name=r&&r.name||"Error",d&&Object.assign(u,d),u};const Xk=null;function Cm(r){return re.isPlainObject(r)||re.isArray(r)}function qv(r){return re.endsWith(r,"[]")?r.slice(0,-2):r}function lx(r,s,a){return r?r.concat(s).map(function(l,d){return l=qv(l),!a&&d?"["+l+"]":l}).join(a?".":""):s}function Jk(r){return re.isArray(r)&&!r.some(Cm)}const Zk=re.toFlatObject(re,{},null,function(s){return/^is[A-Z]/.test(s)});function zc(r,s,a){if(!re.isObject(r))throw new TypeError("target must be an object");s=s||new FormData,a=re.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,j){return!re.isUndefined(j[b])});const o=a.metaTokens,l=a.visitor||v,d=a.dots,u=a.indexes,y=(a.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(s);if(!re.isFunction(l))throw new TypeError("visitor must be a function");function x(N){if(N===null)return"";if(re.isDate(N))return N.toISOString();if(re.isBoolean(N))return N.toString();if(!y&&re.isBlob(N))throw new it("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(N)||re.isTypedArray(N)?y&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function v(N,b,j){let E=N;if(N&&!j&&typeof N=="object"){if(re.endsWith(b,"{}"))b=o?b:b.slice(0,-2),N=JSON.stringify(N);else if(re.isArray(N)&&Jk(N)||(re.isFileList(N)||re.endsWith(b,"[]"))&&(E=re.toArray(N)))return b=qv(b),E.forEach(function(M,D){!(re.isUndefined(M)||M===null)&&s.append(u===!0?lx([b],D,d):u===null?b:b+"[]",x(M))}),!1}return Cm(N)?!0:(s.append(lx(j,b,d),x(N)),!1)}const g=[],S=Object.assign(Zk,{defaultVisitor:v,convertValue:x,isVisitable:Cm});function C(N,b){if(!re.isUndefined(N)){if(g.indexOf(N)!==-1)throw Error("Circular reference detected in "+b.join("."));g.push(N),re.forEach(N,function(E,I){(!(re.isUndefined(E)||E===null)&&l.call(s,E,re.isString(I)?I.trim():I,b,S))===!0&&C(E,b?b.concat(I):[I])}),g.pop()}}if(!re.isObject(r))throw new TypeError("data must be an object");return C(r),s}function cx(r){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(o){return s[o]})}function uf(r,s){this._pairs=[],r&&zc(r,this,s)}const Gv=uf.prototype;Gv.append=function(s,a){this._pairs.push([s,a])};Gv.toString=function(s){const a=s?function(o){return s.call(this,o,cx)}:cx;return this._pairs.map(function(l){return a(l[0])+"="+a(l[1])},"").join("&")};function eA(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Kv(r,s,a){if(!s)return r;const o=a&&a.encode||eA;re.isFunction(a)&&(a={serialize:a});const l=a&&a.serialize;let d;if(l?d=l(s,a):d=re.isURLSearchParams(s)?s.toString():new uf(s,a).toString(o),d){const u=r.indexOf("#");u!==-1&&(r=r.slice(0,u)),r+=(r.indexOf("?")===-1?"?":"&")+d}return r}class dx{constructor(){this.handlers=[]}use(s,a,o){return this.handlers.push({fulfilled:s,rejected:a,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){re.forEach(this.handlers,function(o){o!==null&&s(o)})}}const Yv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tA=typeof URLSearchParams<"u"?URLSearchParams:uf,nA=typeof FormData<"u"?FormData:null,rA=typeof Blob<"u"?Blob:null,sA={isBrowser:!0,classes:{URLSearchParams:tA,FormData:nA,Blob:rA},protocols:["http","https","file","blob","url","data"]},mf=typeof window<"u"&&typeof document<"u",Pm=typeof navigator=="object"&&navigator||void 0,aA=mf&&(!Pm||["ReactNative","NativeScript","NS"].indexOf(Pm.product)<0),iA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",oA=mf&&window.location.href||"http://localhost",lA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mf,hasStandardBrowserEnv:aA,hasStandardBrowserWebWorkerEnv:iA,navigator:Pm,origin:oA},Symbol.toStringTag,{value:"Module"})),xn={...lA,...sA};function cA(r,s){return zc(r,new xn.classes.URLSearchParams,{visitor:function(a,o,l,d){return xn.isNode&&re.isBuffer(a)?(this.append(o,a.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...s})}function dA(r){return re.matchAll(/\w+|\[(\w*)]/g,r).map(s=>s[0]==="[]"?"":s[1]||s[0])}function uA(r){const s={},a=Object.keys(r);let o;const l=a.length;let d;for(o=0;o<l;o++)d=a[o],s[d]=r[d];return s}function Qv(r){function s(a,o,l,d){let u=a[d++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),y=d>=a.length;return u=!u&&re.isArray(l)?l.length:u,y?(re.hasOwnProp(l,u)?l[u]=[l[u],o]:l[u]=o,!f):((!l[u]||!re.isObject(l[u]))&&(l[u]=[]),s(a,o,l[u],d)&&re.isArray(l[u])&&(l[u]=uA(l[u])),!f)}if(re.isFormData(r)&&re.isFunction(r.entries)){const a={};return re.forEachEntry(r,(o,l)=>{s(dA(o),l,a,0)}),a}return null}function mA(r,s,a){if(re.isString(r))try{return(s||JSON.parse)(r),re.trim(r)}catch(o){if(o.name!=="SyntaxError")throw o}return(a||JSON.stringify)(r)}const xo={transitional:Yv,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const o=a.getContentType()||"",l=o.indexOf("application/json")>-1,d=re.isObject(s);if(d&&re.isHTMLForm(s)&&(s=new FormData(s)),re.isFormData(s))return l?JSON.stringify(Qv(s)):s;if(re.isArrayBuffer(s)||re.isBuffer(s)||re.isStream(s)||re.isFile(s)||re.isBlob(s)||re.isReadableStream(s))return s;if(re.isArrayBufferView(s))return s.buffer;if(re.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let f;if(d){if(o.indexOf("application/x-www-form-urlencoded")>-1)return cA(s,this.formSerializer).toString();if((f=re.isFileList(s))||o.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return zc(f?{"files[]":s}:s,y&&new y,this.formSerializer)}}return d||l?(a.setContentType("application/json",!1),mA(s)):s}],transformResponse:[function(s){const a=this.transitional||xo.transitional,o=a&&a.forcedJSONParsing,l=this.responseType==="json";if(re.isResponse(s)||re.isReadableStream(s))return s;if(s&&re.isString(s)&&(o&&!this.responseType||l)){const u=!(a&&a.silentJSONParsing)&&l;try{return JSON.parse(s,this.parseReviver)}catch(f){if(u)throw f.name==="SyntaxError"?it.from(f,it.ERR_BAD_RESPONSE,this,null,this.response):f}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xn.classes.FormData,Blob:xn.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],r=>{xo.headers[r]={}});const fA=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pA=r=>{const s={};let a,o,l;return r&&r.split(`
`).forEach(function(u){l=u.indexOf(":"),a=u.substring(0,l).trim().toLowerCase(),o=u.substring(l+1).trim(),!(!a||s[a]&&fA[a])&&(a==="set-cookie"?s[a]?s[a].push(o):s[a]=[o]:s[a]=s[a]?s[a]+", "+o:o)}),s},ux=Symbol("internals");function Wi(r){return r&&String(r).trim().toLowerCase()}function Yl(r){return r===!1||r==null?r:re.isArray(r)?r.map(Yl):String(r)}function hA(r){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=a.exec(r);)s[o[1]]=o[2];return s}const gA=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Gu(r,s,a,o,l){if(re.isFunction(o))return o.call(this,s,a);if(l&&(s=a),!!re.isString(s)){if(re.isString(o))return s.indexOf(o)!==-1;if(re.isRegExp(o))return o.test(s)}}function xA(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,o)=>a.toUpperCase()+o)}function yA(r,s){const a=re.toCamelCase(" "+s);["get","set","has"].forEach(o=>{Object.defineProperty(r,o+a,{value:function(l,d,u){return this[o].call(this,s,l,d,u)},configurable:!0})})}let Tn=class{constructor(s){s&&this.set(s)}set(s,a,o){const l=this;function d(f,y,x){const v=Wi(y);if(!v)throw new Error("header name must be a non-empty string");const g=re.findKey(l,v);(!g||l[g]===void 0||x===!0||x===void 0&&l[g]!==!1)&&(l[g||y]=Yl(f))}const u=(f,y)=>re.forEach(f,(x,v)=>d(x,v,y));if(re.isPlainObject(s)||s instanceof this.constructor)u(s,a);else if(re.isString(s)&&(s=s.trim())&&!gA(s))u(pA(s),a);else if(re.isObject(s)&&re.isIterable(s)){let f={},y,x;for(const v of s){if(!re.isArray(v))throw TypeError("Object iterator must return a key-value pair");f[x=v[0]]=(y=f[x])?re.isArray(y)?[...y,v[1]]:[y,v[1]]:v[1]}u(f,a)}else s!=null&&d(a,s,o);return this}get(s,a){if(s=Wi(s),s){const o=re.findKey(this,s);if(o){const l=this[o];if(!a)return l;if(a===!0)return hA(l);if(re.isFunction(a))return a.call(this,l,o);if(re.isRegExp(a))return a.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=Wi(s),s){const o=re.findKey(this,s);return!!(o&&this[o]!==void 0&&(!a||Gu(this,this[o],o,a)))}return!1}delete(s,a){const o=this;let l=!1;function d(u){if(u=Wi(u),u){const f=re.findKey(o,u);f&&(!a||Gu(o,o[f],f,a))&&(delete o[f],l=!0)}}return re.isArray(s)?s.forEach(d):d(s),l}clear(s){const a=Object.keys(this);let o=a.length,l=!1;for(;o--;){const d=a[o];(!s||Gu(this,this[d],d,s,!0))&&(delete this[d],l=!0)}return l}normalize(s){const a=this,o={};return re.forEach(this,(l,d)=>{const u=re.findKey(o,d);if(u){a[u]=Yl(l),delete a[d];return}const f=s?xA(d):String(d).trim();f!==d&&delete a[d],a[f]=Yl(l),o[f]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return re.forEach(this,(o,l)=>{o!=null&&o!==!1&&(a[l]=s&&re.isArray(o)?o.join(", "):o)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const o=new this(s);return a.forEach(l=>o.set(l)),o}static accessor(s){const o=(this[ux]=this[ux]={accessors:{}}).accessors,l=this.prototype;function d(u){const f=Wi(u);o[f]||(yA(l,u),o[f]=!0)}return re.isArray(s)?s.forEach(d):d(s),this}};Tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(Tn.prototype,({value:r},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>r,set(o){this[a]=o}}});re.freezeMethods(Tn);function Ku(r,s){const a=this||xo,o=s||a,l=Tn.from(o.headers);let d=o.data;return re.forEach(r,function(f){d=f.call(a,d,l.normalize(),s?s.status:void 0)}),l.normalize(),d}function Xv(r){return!!(r&&r.__CANCEL__)}function li(r,s,a){it.call(this,r??"canceled",it.ERR_CANCELED,s,a),this.name="CanceledError"}re.inherits(li,it,{__CANCEL__:!0});function Jv(r,s,a){const o=a.config.validateStatus;!a.status||!o||o(a.status)?r(a):s(new it("Request failed with status code "+a.status,[it.ERR_BAD_REQUEST,it.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function vA(r){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return s&&s[1]||""}function wA(r,s){r=r||10;const a=new Array(r),o=new Array(r);let l=0,d=0,u;return s=s!==void 0?s:1e3,function(y){const x=Date.now(),v=o[d];u||(u=x),a[l]=y,o[l]=x;let g=d,S=0;for(;g!==l;)S+=a[g++],g=g%r;if(l=(l+1)%r,l===d&&(d=(d+1)%r),x-u<s)return;const C=v&&x-v;return C?Math.round(S*1e3/C):void 0}}function jA(r,s){let a=0,o=1e3/s,l,d;const u=(x,v=Date.now())=>{a=v,l=null,d&&(clearTimeout(d),d=null),r(...x)};return[(...x)=>{const v=Date.now(),g=v-a;g>=o?u(x,v):(l=x,d||(d=setTimeout(()=>{d=null,u(l)},o-g)))},()=>l&&u(l)]}const lc=(r,s,a=3)=>{let o=0;const l=wA(50,250);return jA(d=>{const u=d.loaded,f=d.lengthComputable?d.total:void 0,y=u-o,x=l(y),v=u<=f;o=u;const g={loaded:u,total:f,progress:f?u/f:void 0,bytes:y,rate:x||void 0,estimated:x&&f&&v?(f-u)/x:void 0,event:d,lengthComputable:f!=null,[s?"download":"upload"]:!0};r(g)},a)},mx=(r,s)=>{const a=r!=null;return[o=>s[0]({lengthComputable:a,total:r,loaded:o}),s[1]]},fx=r=>(...s)=>re.asap(()=>r(...s)),bA=xn.hasStandardBrowserEnv?((r,s)=>a=>(a=new URL(a,xn.origin),r.protocol===a.protocol&&r.host===a.host&&(s||r.port===a.port)))(new URL(xn.origin),xn.navigator&&/(msie|trident)/i.test(xn.navigator.userAgent)):()=>!0,NA=xn.hasStandardBrowserEnv?{write(r,s,a,o,l,d){const u=[r+"="+encodeURIComponent(s)];re.isNumber(a)&&u.push("expires="+new Date(a).toGMTString()),re.isString(o)&&u.push("path="+o),re.isString(l)&&u.push("domain="+l),d===!0&&u.push("secure"),document.cookie=u.join("; ")},read(r){const s=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function SA(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function CA(r,s){return s?r.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):r}function Zv(r,s,a){let o=!SA(s);return r&&(o||a==!1)?CA(r,s):s}const px=r=>r instanceof Tn?{...r}:r;function fa(r,s){s=s||{};const a={};function o(x,v,g,S){return re.isPlainObject(x)&&re.isPlainObject(v)?re.merge.call({caseless:S},x,v):re.isPlainObject(v)?re.merge({},v):re.isArray(v)?v.slice():v}function l(x,v,g,S){if(re.isUndefined(v)){if(!re.isUndefined(x))return o(void 0,x,g,S)}else return o(x,v,g,S)}function d(x,v){if(!re.isUndefined(v))return o(void 0,v)}function u(x,v){if(re.isUndefined(v)){if(!re.isUndefined(x))return o(void 0,x)}else return o(void 0,v)}function f(x,v,g){if(g in s)return o(x,v);if(g in r)return o(void 0,x)}const y={url:d,method:d,data:d,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(x,v,g)=>l(px(x),px(v),g,!0)};return re.forEach(Object.keys({...r,...s}),function(v){const g=y[v]||l,S=g(r[v],s[v],v);re.isUndefined(S)&&g!==f||(a[v]=S)}),a}const ew=r=>{const s=fa({},r);let{data:a,withXSRFToken:o,xsrfHeaderName:l,xsrfCookieName:d,headers:u,auth:f}=s;if(s.headers=u=Tn.from(u),s.url=Kv(Zv(s.baseURL,s.url,s.allowAbsoluteUrls),r.params,r.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),re.isFormData(a)){if(xn.hasStandardBrowserEnv||xn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(re.isFunction(a.getHeaders)){const y=a.getHeaders(),x=["content-type","content-length"];Object.entries(y).forEach(([v,g])=>{x.includes(v.toLowerCase())&&u.set(v,g)})}}if(xn.hasStandardBrowserEnv&&(o&&re.isFunction(o)&&(o=o(s)),o||o!==!1&&bA(s.url))){const y=l&&d&&NA.read(d);y&&u.set(l,y)}return s},PA=typeof XMLHttpRequest<"u",EA=PA&&function(r){return new Promise(function(a,o){const l=ew(r);let d=l.data;const u=Tn.from(l.headers).normalize();let{responseType:f,onUploadProgress:y,onDownloadProgress:x}=l,v,g,S,C,N;function b(){C&&C(),N&&N(),l.cancelToken&&l.cancelToken.unsubscribe(v),l.signal&&l.signal.removeEventListener("abort",v)}let j=new XMLHttpRequest;j.open(l.method.toUpperCase(),l.url,!0),j.timeout=l.timeout;function E(){if(!j)return;const M=Tn.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),q={data:!f||f==="text"||f==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:M,config:r,request:j};Jv(function(U){a(U),b()},function(U){o(U),b()},q),j=null}"onloadend"in j?j.onloadend=E:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(E)},j.onabort=function(){j&&(o(new it("Request aborted",it.ECONNABORTED,r,j)),j=null)},j.onerror=function(D){const q=D&&D.message?D.message:"Network Error",Q=new it(q,it.ERR_NETWORK,r,j);Q.event=D||null,o(Q),j=null},j.ontimeout=function(){let D=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const q=l.transitional||Yv;l.timeoutErrorMessage&&(D=l.timeoutErrorMessage),o(new it(D,q.clarifyTimeoutError?it.ETIMEDOUT:it.ECONNABORTED,r,j)),j=null},d===void 0&&u.setContentType(null),"setRequestHeader"in j&&re.forEach(u.toJSON(),function(D,q){j.setRequestHeader(q,D)}),re.isUndefined(l.withCredentials)||(j.withCredentials=!!l.withCredentials),f&&f!=="json"&&(j.responseType=l.responseType),x&&([S,N]=lc(x,!0),j.addEventListener("progress",S)),y&&j.upload&&([g,C]=lc(y),j.upload.addEventListener("progress",g),j.upload.addEventListener("loadend",C)),(l.cancelToken||l.signal)&&(v=M=>{j&&(o(!M||M.type?new li(null,r,j):M),j.abort(),j=null)},l.cancelToken&&l.cancelToken.subscribe(v),l.signal&&(l.signal.aborted?v():l.signal.addEventListener("abort",v)));const I=vA(l.url);if(I&&xn.protocols.indexOf(I)===-1){o(new it("Unsupported protocol "+I+":",it.ERR_BAD_REQUEST,r));return}j.send(d||null)})},DA=(r,s)=>{const{length:a}=r=r?r.filter(Boolean):[];if(s||a){let o=new AbortController,l;const d=function(x){if(!l){l=!0,f();const v=x instanceof Error?x:this.reason;o.abort(v instanceof it?v:new li(v instanceof Error?v.message:v))}};let u=s&&setTimeout(()=>{u=null,d(new it(`timeout ${s} of ms exceeded`,it.ETIMEDOUT))},s);const f=()=>{r&&(u&&clearTimeout(u),u=null,r.forEach(x=>{x.unsubscribe?x.unsubscribe(d):x.removeEventListener("abort",d)}),r=null)};r.forEach(x=>x.addEventListener("abort",d));const{signal:y}=o;return y.unsubscribe=()=>re.asap(f),y}},kA=function*(r,s){let a=r.byteLength;if(a<s){yield r;return}let o=0,l;for(;o<a;)l=o+s,yield r.slice(o,l),o=l},AA=async function*(r,s){for await(const a of RA(r))yield*kA(a,s)},RA=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const s=r.getReader();try{for(;;){const{done:a,value:o}=await s.read();if(a)break;yield o}}finally{await s.cancel()}},hx=(r,s,a,o)=>{const l=AA(r,s);let d=0,u,f=y=>{u||(u=!0,o&&o(y))};return new ReadableStream({async pull(y){try{const{done:x,value:v}=await l.next();if(x){f(),y.close();return}let g=v.byteLength;if(a){let S=d+=g;a(S)}y.enqueue(new Uint8Array(v))}catch(x){throw f(x),x}},cancel(y){return f(y),l.return()}},{highWaterMark:2})},gx=64*1024,{isFunction:$l}=re,TA=(({Request:r,Response:s})=>({Request:r,Response:s}))(re.global),{ReadableStream:xx,TextEncoder:yx}=re.global,vx=(r,...s)=>{try{return!!r(...s)}catch{return!1}},IA=r=>{r=re.merge.call({skipUndefined:!0},TA,r);const{fetch:s,Request:a,Response:o}=r,l=s?$l(s):typeof fetch=="function",d=$l(a),u=$l(o);if(!l)return!1;const f=l&&$l(xx),y=l&&(typeof yx=="function"?(N=>b=>N.encode(b))(new yx):async N=>new Uint8Array(await new a(N).arrayBuffer())),x=d&&f&&vx(()=>{let N=!1;const b=new a(xn.origin,{body:new xx,method:"POST",get duplex(){return N=!0,"half"}}).headers.has("Content-Type");return N&&!b}),v=u&&f&&vx(()=>re.isReadableStream(new o("").body)),g={stream:v&&(N=>N.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!g[N]&&(g[N]=(b,j)=>{let E=b&&b[N];if(E)return E.call(b);throw new it(`Response type '${N}' is not supported`,it.ERR_NOT_SUPPORT,j)})});const S=async N=>{if(N==null)return 0;if(re.isBlob(N))return N.size;if(re.isSpecCompliantForm(N))return(await new a(xn.origin,{method:"POST",body:N}).arrayBuffer()).byteLength;if(re.isArrayBufferView(N)||re.isArrayBuffer(N))return N.byteLength;if(re.isURLSearchParams(N)&&(N=N+""),re.isString(N))return(await y(N)).byteLength},C=async(N,b)=>{const j=re.toFiniteNumber(N.getContentLength());return j??S(b)};return async N=>{let{url:b,method:j,data:E,signal:I,cancelToken:M,timeout:D,onDownloadProgress:q,onUploadProgress:Q,responseType:U,headers:V,withCredentials:ie="same-origin",fetchOptions:le}=ew(N),we=s||fetch;U=U?(U+"").toLowerCase():"text";let Z=DA([I,M&&M.toAbortSignal()],D),ne=null;const fe=Z&&Z.unsubscribe&&(()=>{Z.unsubscribe()});let me;try{if(Q&&x&&j!=="get"&&j!=="head"&&(me=await C(V,E))!==0){let A=new a(b,{method:"POST",body:E,duplex:"half"}),T;if(re.isFormData(E)&&(T=A.headers.get("content-type"))&&V.setContentType(T),A.body){const[z,O]=mx(me,lc(fx(Q)));E=hx(A.body,gx,z,O)}}re.isString(ie)||(ie=ie?"include":"omit");const se=d&&"credentials"in a.prototype,te={...le,signal:Z,method:j.toUpperCase(),headers:V.normalize().toJSON(),body:E,duplex:"half",credentials:se?ie:void 0};ne=d&&new a(b,te);let L=await(d?we(ne,le):we(b,te));const k=v&&(U==="stream"||U==="response");if(v&&(q||k&&fe)){const A={};["status","statusText","headers"].forEach(R=>{A[R]=L[R]});const T=re.toFiniteNumber(L.headers.get("content-length")),[z,O]=q&&mx(T,lc(fx(q),!0))||[];L=new o(hx(L.body,gx,z,()=>{O&&O(),fe&&fe()}),A)}U=U||"text";let K=await g[re.findKey(g,U)||"text"](L,N);return!k&&fe&&fe(),await new Promise((A,T)=>{Jv(A,T,{data:K,headers:Tn.from(L.headers),status:L.status,statusText:L.statusText,config:N,request:ne})})}catch(se){throw fe&&fe(),se&&se.name==="TypeError"&&/Load failed|fetch/i.test(se.message)?Object.assign(new it("Network Error",it.ERR_NETWORK,N,ne),{cause:se.cause||se}):it.from(se,se&&se.code,N,ne)}}},_A=new Map,tw=r=>{let s=r?r.env:{};const{fetch:a,Request:o,Response:l}=s,d=[o,l,a];let u=d.length,f=u,y,x,v=_A;for(;f--;)y=d[f],x=v.get(y),x===void 0&&v.set(y,x=f?new Map:IA(s)),v=x;return x};tw();const Em={http:Xk,xhr:EA,fetch:{get:tw}};re.forEach(Em,(r,s)=>{if(r){try{Object.defineProperty(r,"name",{value:s})}catch{}Object.defineProperty(r,"adapterName",{value:s})}});const wx=r=>`- ${r}`,MA=r=>re.isFunction(r)||r===null||r===!1,nw={getAdapter:(r,s)=>{r=re.isArray(r)?r:[r];const{length:a}=r;let o,l;const d={};for(let u=0;u<a;u++){o=r[u];let f;if(l=o,!MA(o)&&(l=Em[(f=String(o)).toLowerCase()],l===void 0))throw new it(`Unknown adapter '${f}'`);if(l&&(re.isFunction(l)||(l=l.get(s))))break;d[f||"#"+u]=l}if(!l){const u=Object.entries(d).map(([y,x])=>`adapter ${y} `+(x===!1?"is not supported by the environment":"is not available in the build"));let f=a?u.length>1?`since :
`+u.map(wx).join(`
`):" "+wx(u[0]):"as no adapter specified";throw new it("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return l},adapters:Em};function Yu(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new li(null,r)}function jx(r){return Yu(r),r.headers=Tn.from(r.headers),r.data=Ku.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),nw.getAdapter(r.adapter||xo.adapter,r)(r).then(function(o){return Yu(r),o.data=Ku.call(r,r.transformResponse,o),o.headers=Tn.from(o.headers),o},function(o){return Xv(o)||(Yu(r),o&&o.response&&(o.response.data=Ku.call(r,r.transformResponse,o.response),o.response.headers=Tn.from(o.response.headers))),Promise.reject(o)})}const rw="1.12.2",$c={};["object","boolean","number","function","string","symbol"].forEach((r,s)=>{$c[r]=function(o){return typeof o===r||"a"+(s<1?"n ":" ")+r}});const bx={};$c.transitional=function(s,a,o){function l(d,u){return"[Axios v"+rw+"] Transitional option '"+d+"'"+u+(o?". "+o:"")}return(d,u,f)=>{if(s===!1)throw new it(l(u," has been removed"+(a?" in "+a:"")),it.ERR_DEPRECATED);return a&&!bx[u]&&(bx[u]=!0,console.warn(l(u," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(d,u,f):!0}};$c.spelling=function(s){return(a,o)=>(console.warn(`${o} is likely a misspelling of ${s}`),!0)};function OA(r,s,a){if(typeof r!="object")throw new it("options must be an object",it.ERR_BAD_OPTION_VALUE);const o=Object.keys(r);let l=o.length;for(;l-- >0;){const d=o[l],u=s[d];if(u){const f=r[d],y=f===void 0||u(f,d,r);if(y!==!0)throw new it("option "+d+" must be "+y,it.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new it("Unknown option "+d,it.ERR_BAD_OPTION)}}const Ql={assertOptions:OA,validators:$c},wr=Ql.validators;let ia=class{constructor(s){this.defaults=s||{},this.interceptors={request:new dx,response:new dx}}async request(s,a){try{return await this._request(s,a)}catch(o){if(o instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const d=l.stack?l.stack.replace(/^.+\n/,""):"";try{o.stack?d&&!String(o.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+d):o.stack=d}catch{}}throw o}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=fa(this.defaults,a);const{transitional:o,paramsSerializer:l,headers:d}=a;o!==void 0&&Ql.assertOptions(o,{silentJSONParsing:wr.transitional(wr.boolean),forcedJSONParsing:wr.transitional(wr.boolean),clarifyTimeoutError:wr.transitional(wr.boolean)},!1),l!=null&&(re.isFunction(l)?a.paramsSerializer={serialize:l}:Ql.assertOptions(l,{encode:wr.function,serialize:wr.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Ql.assertOptions(a,{baseUrl:wr.spelling("baseURL"),withXsrfToken:wr.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let u=d&&re.merge(d.common,d[a.method]);d&&re.forEach(["delete","get","head","post","put","patch","common"],N=>{delete d[N]}),a.headers=Tn.concat(u,d);const f=[];let y=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(a)===!1||(y=y&&b.synchronous,f.unshift(b.fulfilled,b.rejected))});const x=[];this.interceptors.response.forEach(function(b){x.push(b.fulfilled,b.rejected)});let v,g=0,S;if(!y){const N=[jx.bind(this),void 0];for(N.unshift(...f),N.push(...x),S=N.length,v=Promise.resolve(a);g<S;)v=v.then(N[g++],N[g++]);return v}S=f.length;let C=a;for(;g<S;){const N=f[g++],b=f[g++];try{C=N(C)}catch(j){b.call(this,j);break}}try{v=jx.call(this,C)}catch(N){return Promise.reject(N)}for(g=0,S=x.length;g<S;)v=v.then(x[g++],x[g++]);return v}getUri(s){s=fa(this.defaults,s);const a=Zv(s.baseURL,s.url,s.allowAbsoluteUrls);return Kv(a,s.params,s.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(s){ia.prototype[s]=function(a,o){return this.request(fa(o||{},{method:s,url:a,data:(o||{}).data}))}});re.forEach(["post","put","patch"],function(s){function a(o){return function(d,u,f){return this.request(fa(f||{},{method:s,headers:o?{"Content-Type":"multipart/form-data"}:{},url:d,data:u}))}}ia.prototype[s]=a(),ia.prototype[s+"Form"]=a(!0)});let LA=class sw{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(d){a=d});const o=this;this.promise.then(l=>{if(!o._listeners)return;let d=o._listeners.length;for(;d-- >0;)o._listeners[d](l);o._listeners=null}),this.promise.then=l=>{let d;const u=new Promise(f=>{o.subscribe(f),d=f}).then(l);return u.cancel=function(){o.unsubscribe(d)},u},s(function(d,u,f){o.reason||(o.reason=new li(d,u,f),a(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=o=>{s.abort(o)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new sw(function(l){s=l}),cancel:s}}};function FA(r){return function(a){return r.apply(null,a)}}function zA(r){return re.isObject(r)&&r.isAxiosError===!0}const Dm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dm).forEach(([r,s])=>{Dm[s]=r});function aw(r){const s=new ia(r),a=Ov(ia.prototype.request,s);return re.extend(a,ia.prototype,s,{allOwnKeys:!0}),re.extend(a,s,null,{allOwnKeys:!0}),a.create=function(l){return aw(fa(r,l))},a}const pt=aw(xo);pt.Axios=ia;pt.CanceledError=li;pt.CancelToken=LA;pt.isCancel=Xv;pt.VERSION=rw;pt.toFormData=zc;pt.AxiosError=it;pt.Cancel=pt.CanceledError;pt.all=function(s){return Promise.all(s)};pt.spread=FA;pt.isAxiosError=zA;pt.mergeConfig=fa;pt.AxiosHeaders=Tn;pt.formToJSON=r=>Qv(re.isHTMLForm(r)?new FormData(r):r);pt.getAdapter=nw.getAdapter;pt.HttpStatusCode=Dm;pt.default=pt;const{Axios:k4,AxiosError:A4,CanceledError:R4,isCancel:T4,CancelToken:I4,VERSION:_4,all:M4,Cancel:O4,isAxiosError:L4,spread:F4,toFormData:z4,AxiosHeaders:$4,HttpStatusCode:B4,formToJSON:U4,getAdapter:H4,mergeConfig:V4}=pt,xs="hospital_discounts",Zs="hospital_promotions",qi="hospital_discount_applications",Nx=[{id:"1",code:"SENIOR20",name:"Senior Citizen Discount",type:"percentage",value:20,description:"20% discount for senior citizens (60 years and above)",category:"senior",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!0,usageCount:145,conditions:"Valid ID required. Cannot be combined with other offers.",createdBy:"System",createdAt:"2025-01-01T00:00:00Z",updatedAt:"2025-01-01T00:00:00Z"},{id:"2",code:"PWD20",name:"PWD Discount",type:"percentage",value:20,description:"20% discount for Persons with Disabilities",category:"pwd",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!0,usageCount:89,conditions:"Valid PWD ID required.",createdBy:"System",createdAt:"2025-01-01T00:00:00Z",updatedAt:"2025-01-01T00:00:00Z"},{id:"3",code:"EMP15",name:"Employee Discount",type:"percentage",value:15,description:"15% discount for hospital employees and their families",category:"employee",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!0,usageCount:67,conditions:"Valid employee ID required.",createdBy:"System",createdAt:"2025-01-01T00:00:00Z",updatedAt:"2025-01-01T00:00:00Z"},{id:"4",code:"NEWYEAR2025",name:"New Year Health Check",type:"percentage",value:30,description:"30% off all diagnostic tests for January",category:"seasonal",startDate:"2025-01-01",endDate:"2025-01-31",isActive:!0,usageCount:23,maxUsage:100,applicableServices:["Blood Test","X-Ray","ECG","Ultrasound"],createdBy:"System",createdAt:"2025-01-01T00:00:00Z",updatedAt:"2025-01-01T00:00:00Z"},{id:"5",code:"INSURANCE",name:"Insurance Coverage",type:"percentage",value:0,description:"Variable insurance coverage discount",category:"insurance",isActive:!0,usageCount:234,conditions:"Insurance company authorization required.",startDate:"2025-01-01",endDate:"2025-12-31",createdBy:"System",createdAt:"2025-01-01T00:00:00Z",updatedAt:"2025-01-01T00:00:00Z"},{id:"6",code:"CHARITY50",name:"Charity Care",type:"percentage",value:50,description:"50% discount for charity care patients",category:"promotional",isActive:!0,usageCount:45,conditions:"Social worker approval required.",startDate:"2025-01-01",endDate:"2025-12-31",createdBy:"System",createdAt:"2025-01-01T00:00:00Z",updatedAt:"2025-01-01T00:00:00Z"},{id:"7",code:"PROMPT5",name:"Prompt Payment Discount",type:"percentage",value:5,description:"5% discount for immediate payment",category:"promotional",isActive:!0,usageCount:178,conditions:"Payment must be made within 24 hours of invoice.",startDate:"2025-01-01",endDate:"2025-12-31",createdBy:"System",createdAt:"2025-01-01T00:00:00Z",updatedAt:"2025-01-01T00:00:00Z"}],Sx=[{id:"1",title:"New Year Health Package",description:"Start your year right with our comprehensive health check package at 30% off!",discountCode:"NEWYEAR2025",validFrom:"2025-01-01",validTo:"2025-01-31",isActive:!0,targetAudience:"General Public",createdBy:"System",createdAt:"2025-01-01T00:00:00Z",updatedAt:"2025-01-01T00:00:00Z"},{id:"2",title:"Valentine's Couple Checkup",description:"Bring your loved one for a health screening and save 25% on both consultations.",discountCode:"VALENTINE25",validFrom:"2025-02-01",validTo:"2025-02-28",isActive:!1,targetAudience:"Couples",createdBy:"System",createdAt:"2025-01-01T00:00:00Z",updatedAt:"2025-01-01T00:00:00Z"}];class bn{static initialize(){localStorage.getItem(xs)||localStorage.setItem(xs,JSON.stringify(Nx)),localStorage.getItem(Zs)||localStorage.setItem(Zs,JSON.stringify(Sx)),localStorage.getItem(qi)||localStorage.setItem(qi,JSON.stringify([]))}static getAllDiscounts(){this.initialize();const s=localStorage.getItem(xs);return s?JSON.parse(s):[]}static getDiscountById(s){return this.getAllDiscounts().find(o=>o.id===s)||null}static getDiscountByCode(s){return this.getAllDiscounts().find(o=>o.code.toLowerCase()===s.toLowerCase())||null}static getActiveDiscounts(){return this.getAllDiscounts().filter(s=>s.isActive)}static createDiscount(s,a="Admin"){const o=this.getAllDiscounts();if(o.some(d=>d.code.toLowerCase()===s.code.toLowerCase()))throw new Error(`Discount code "${s.code}" already exists`);const l={...s,id:Date.now().toString(),usageCount:0,createdBy:a,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};o.push(l),localStorage.setItem(xs,JSON.stringify(o));try{window.dispatchEvent(new CustomEvent("discounts-updated",{detail:{action:"create",discount:l}}))}catch{}return l}static updateDiscount(s,a,o="Admin"){const l=this.getAllDiscounts(),d=l.findIndex(u=>u.id===s);if(d===-1)return null;if(a.code&&a.code!==l[d].code&&l.some(u=>u.id!==s&&u.code.toLowerCase()===a.code.toLowerCase()))throw new Error(`Discount code "${a.code}" already exists`);l[d]={...l[d],...a,updatedAt:new Date().toISOString()},localStorage.setItem(xs,JSON.stringify(l));try{window.dispatchEvent(new CustomEvent("discounts-updated",{detail:{action:"update",discount:l[d]}}))}catch{}return l[d]}static deleteDiscount(s){const a=this.getAllDiscounts(),o=a.filter(l=>l.id!==s);if(o.length===a.length)return!1;localStorage.setItem(xs,JSON.stringify(o));try{window.dispatchEvent(new CustomEvent("discounts-updated",{detail:{action:"delete",id:s}}))}catch{}return!0}static toggleDiscountStatus(s){const a=this.getDiscountById(s);return a?this.updateDiscount(s,{isActive:!a.isActive}):null}static incrementUsageCount(s){const a=this.getAllDiscounts(),o=a.find(l=>l.code.toLowerCase()===s.toLowerCase());o&&(o.usageCount=(o.usageCount||0)+1,localStorage.setItem(xs,JSON.stringify(a)))}static searchDiscounts(s){const a=s.toLowerCase();return this.getAllDiscounts().filter(o=>o.name.toLowerCase().includes(a)||o.code.toLowerCase().includes(a)||o.category.toLowerCase().includes(a)||o.description.toLowerCase().includes(a))}static getDiscountsByCategory(s){return s==="all"?this.getAllDiscounts():this.getAllDiscounts().filter(a=>a.category===s)}static getAllPromotions(){this.initialize();const s=localStorage.getItem(Zs);return s?JSON.parse(s):[]}static getPromotionById(s){return this.getAllPromotions().find(o=>o.id===s)||null}static getActivePromotions(){return this.getAllPromotions().filter(s=>s.isActive)}static createPromotion(s,a="Admin"){const o=this.getAllPromotions(),l={...s,id:Date.now().toString(),createdBy:a,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return o.push(l),localStorage.setItem(Zs,JSON.stringify(o)),l}static updatePromotion(s,a){const o=this.getAllPromotions(),l=o.findIndex(d=>d.id===s);return l===-1?null:(o[l]={...o[l],...a,updatedAt:new Date().toISOString()},localStorage.setItem(Zs,JSON.stringify(o)),o[l])}static deletePromotion(s){const a=this.getAllPromotions(),o=a.filter(l=>l.id!==s);return o.length===a.length?!1:(localStorage.setItem(Zs,JSON.stringify(o)),!0)}static togglePromotionStatus(s){const a=this.getPromotionById(s);return a?this.updatePromotion(s,{isActive:!a.isActive}):null}static getAllApplications(){this.initialize();const s=localStorage.getItem(qi);return s?JSON.parse(s):[]}static recordApplication(s,a="Cashier"){const o=this.getAllApplications(),l={...s,id:Date.now().toString(),appliedDate:new Date().toISOString(),status:"applied",appliedBy:a};return o.push(l),localStorage.setItem(qi,JSON.stringify(o)),this.incrementUsageCount(s.discountCode),l}static getApplicationsByPatient(s){return this.getAllApplications().filter(a=>a.patientId===s)}static getApplicationsByCode(s){return this.getAllApplications().filter(a=>a.discountCode.toLowerCase()===s.toLowerCase())}static calculateDiscount(s,a){return a.type==="percentage"?s*a.value/100:a.value}static validateDiscount(s){const a=this.getDiscountByCode(s);if(!a)return{valid:!1,message:"Discount code not found"};if(!a.isActive)return{valid:!1,message:"Discount code is inactive"};const o=new Date,l=new Date(a.startDate),d=new Date(a.endDate);return o<l?{valid:!1,message:"Discount not yet valid"}:o>d?{valid:!1,message:"Discount has expired"}:a.maxUsage&&a.usageCount>=a.maxUsage?{valid:!1,message:"Discount usage limit reached"}:{valid:!0,discount:a}}static getStatistics(){const s=this.getAllDiscounts(),a=this.getAllPromotions(),o=this.getAllApplications();return{totalDiscounts:s.length,activeDiscounts:s.filter(l=>l.isActive).length,inactiveDiscounts:s.filter(l=>!l.isActive).length,totalPromotions:a.length,activePromotions:a.filter(l=>l.isActive).length,totalUsage:s.reduce((l,d)=>l+d.usageCount,0),totalApplications:o.length,totalDiscountAmount:o.reduce((l,d)=>l+d.discountAmount,0)}}static resetToDefaults(){localStorage.setItem(xs,JSON.stringify(Nx)),localStorage.setItem(Zs,JSON.stringify(Sx)),localStorage.setItem(qi,JSON.stringify([]))}static exportData(){return{discounts:this.getAllDiscounts(),promotions:this.getAllPromotions(),applications:this.getAllApplications()}}}bn.initialize();class cc{static getActiveDiscounts(){return bn.getActiveDiscounts().map(s=>({id:s.id,code:s.code,name:s.name,type:s.type,value:s.value,description:s.description,category:s.category,isActive:s.isActive,conditions:s.conditions,applicableServices:s.applicableServices}))}static getDiscountByCode(s){const a=bn.getDiscountByCode(s);return!a||!a.isActive?null:{id:a.id,code:a.code,name:a.name,type:a.type,value:a.value,description:a.description,category:a.category,isActive:a.isActive,conditions:a.conditions,applicableServices:a.applicableServices}}static getDiscountById(s){const a=bn.getDiscountById(s);return!a||!a.isActive?null:{id:a.id,code:a.code,name:a.name,type:a.type,value:a.value,description:a.description,category:a.category,isActive:a.isActive,conditions:a.conditions,applicableServices:a.applicableServices}}static searchDiscounts(s){return bn.searchDiscounts(s).filter(a=>a.isActive).map(a=>({id:a.id,code:a.code,name:a.name,type:a.type,value:a.value,description:a.description,category:a.category,isActive:a.isActive,conditions:a.conditions,applicableServices:a.applicableServices}))}static getDiscountsByCategory(s){return bn.getDiscountsByCategory(s).filter(a=>a.isActive).map(a=>({id:a.id,code:a.code,name:a.name,type:a.type,value:a.value,description:a.description,category:a.category,isActive:a.isActive,conditions:a.conditions,applicableServices:a.applicableServices}))}static calculateDiscount(s,a){return a.type==="percentage"?s*a.value/100:a.value}static validateDiscount(s){const a=bn.validateDiscount(s);return a.valid?a.discount?{valid:!0,discount:{id:a.discount.id,code:a.discount.code,name:a.discount.name,type:a.discount.type,value:a.discount.value,description:a.discount.description,category:a.discount.category,isActive:a.discount.isActive,conditions:a.discount.conditions,applicableServices:a.discount.applicableServices}}:{valid:!1,message:"Unknown error"}:{valid:!1,message:a.message}}static getCategories(){return[{value:"senior",label:"Senior Citizen",color:"bg-blue-100 text-blue-800"},{value:"pwd",label:"PWD",color:"bg-green-100 text-green-800"},{value:"employee",label:"Employee",color:"bg-purple-100 text-purple-800"},{value:"insurance",label:"Insurance",color:"bg-orange-100 text-orange-800"},{value:"promotional",label:"Promotional",color:"bg-pink-100 text-pink-800"},{value:"seasonal",label:"Seasonal",color:"bg-yellow-100 text-yellow-800"}]}static getCategoryInfo(s){return this.getCategories().find(a=>a.value===s)||null}}const Cx={"Consultation Services":["General Consultation","Specialist Consultation","Emergency Consultation","Telemedicine Consultation"],"Diagnostic Services":["Blood Test","X-Ray","CT Scan","MRI","Ultrasound","ECG","Endoscopy"],"Laboratory Services":["Complete Blood Count","Blood Chemistry","Urinalysis","Microbiology","Pathology"],"Surgical Services":["Minor Surgery","Major Surgery","Outpatient Surgery","Emergency Surgery"],"Therapeutic Services":["Physical Therapy","Occupational Therapy","Speech Therapy","Chemotherapy","Dialysis"],"Room & Board":["Private Room","Semi-Private Room","ICU","Emergency Room","Day Care"],Pharmacy:["Prescription Medication","Over-the-Counter","Injectable Medication","IV Fluids"],"Medical Equipment":["Wheelchair Rental","Medical Device Rental","Oxygen Tank","CPAP Machine"]},Px=[{label:"Senior Citizen (20%)",value:"senior",percentage:20},{label:"PWD (20%)",value:"pwd",percentage:20},{label:"Employee (15%)",value:"employee",percentage:15},{label:"Insurance Coverage (Variable)",value:"insurance",percentage:0},{label:"Charity Care (50%)",value:"charity",percentage:50},{label:"Prompt Payment (5%)",value:"prompt",percentage:5}],$A=[{id:"P001",name:"Maria Santos",fullDisplay:"Maria Santos (P001)"},{id:"P002",name:"Juan Dela Cruz",fullDisplay:"Juan Dela Cruz (P002)"},{id:"P003",name:"Anna Reyes",fullDisplay:"Anna Reyes (P003)"},{id:"P004",name:"Roberto Cruz",fullDisplay:"Roberto Cruz (P004)"},{id:"P005",name:"Carmen Flores",fullDisplay:"Carmen Flores (P005)"},{id:"P006",name:"Miguel Torres",fullDisplay:"Miguel Torres (P006)"},{id:"P007",name:"Sofia Garcia",fullDisplay:"Sofia Garcia (P007)"},{id:"P008",name:"Pedro Gonzales",fullDisplay:"Pedro Gonzales (P008)"},{id:"P009",name:"Elena Ramirez",fullDisplay:"Elena Ramirez (P009)"},{id:"P010",name:"Carlos Mendoza",fullDisplay:"Carlos Mendoza (P010)"},{id:"P011",name:"Isabella Lopez",fullDisplay:"Isabella Lopez (P011)"},{id:"P012",name:"Francisco Ramos",fullDisplay:"Francisco Ramos (P012)"},{id:"P013",name:"Gabriela Santos",fullDisplay:"Gabriela Santos (P013)"},{id:"P014",name:"Antonio Fernandez",fullDisplay:"Antonio Fernandez (P014)"},{id:"P015",name:"Valentina Castro",fullDisplay:"Valentina Castro (P015)"}];function BA({onNavigateToView:r}){const[s,a]=p.useState(!1),[o,l]=p.useState(""),[d,u]=p.useState(""),[f,y]=p.useState([]),[x,v]=p.useState(""),[g,S]=p.useState(null),[C,N]=p.useState(!1),[b,j]=p.useState(!1),[E,I]=p.useState(!1),[M,D]=p.useState(null),[q,Q]=p.useState(!1),[U,V]=p.useState(""),[ie,le]=p.useState(!1),[we,Z]=p.useState(null),[ne,fe]=p.useState([]),[me,se]=p.useState([]),[te,L]=p.useState([]),[k,K]=p.useState([]),A="http://localhost:5000/api",T=W=>{if(!W)return"-";try{const be=new Date(W);if(isNaN(be.getTime()))return"-";const Be=new Date;let He=Be.getFullYear()-be.getFullYear();const ft=Be.getMonth()-be.getMonth();return(ft<0||ft===0&&Be.getDate()<be.getDate())&&He--,He>=0?He:"-"}catch{return"-"}};p.useEffect(()=>{(async()=>{try{await z();const be=await Zi();se(Array.isArray(be)?be:[])}catch(be){console.error("InvoiceGeneration load error",be)}})()},[]),p.useEffect(()=>{const W=()=>{Zi().then(be=>se(Array.isArray(be)?be:[])).catch(be=>console.error("Failed to refresh patients",be))};return window.addEventListener("patients-updated",W),()=>window.removeEventListener("patients-updated",W)},[]),p.useEffect(()=>{const W=()=>{try{const Be=cc.getActiveDiscounts();K(Be||[])}catch(Be){console.error("Failed to load discounts",Be)}};W();const be=()=>W();return window.addEventListener("discounts-updated",be),()=>window.removeEventListener("discounts-updated",be)},[]);const z=async()=>{try{const[W,be]=await Promise.all([pt.get(`${A}/invoices`),pt.get(`${A}/payments`)]),Be=W?.data,He=be?.data,ft=Array.isArray(He)?He:He?.success?He.data||[]:[];if(!Be){ce.error("Failed to load invoices");return}const Et=(Array.isArray(Be)?Be:Be?.success?Be.data||[]:[]).map(Ze=>{const Nt=Ze._id||Ze.id,At=Ze.number||Ze.invoiceNumber||`INV-${Nt?.toString().slice(-6)||Date.now()}`,Pt=ft.find($t=>$t.invoiceId&&Nt&&String($t.invoiceId)===String(Nt)||$t.invoiceNumber&&At&&String($t.invoiceNumber)===String(At)||$t.invoiceNo&&At&&String($t.invoiceNo)===String(At));let Ht=(Ze.status||Ze.state||"").toString().toLowerCase();(!Ht||Ht==="draft"||Ht==="unpaid")&&Pt&&(Ht=(Pt.status||"paid").toString().toLowerCase());const Qn=Ht==="paid"||Ht==="completed"||Ht==="processed"?"paid":Ht==="sent"||Ht==="pending"?"sent":Ht==="overdue"?"overdue":"draft";return{id:Nt,number:At,patientName:Ze.patientName||Ze.patient||"Unknown",patientId:Ze.patientId||Ze.accountId||"N/A",date:Ze.date||Ze.issuedDate||new Date().toISOString(),dueDate:Ze.dueDate||new Date().toISOString(),status:Qn,subtotal:Ze.subtotal||Ze.amount||Ze.totalBeforeTax||0,discount:Ze.discount||0,discountType:Ze.discountType||Ze.discountMode||"none",discountPercentage:Ze.discountPercentage||0,tax:Ze.tax||Ze.vat||0,total:Ze.total||Ze.amount||0,items:Ze.items||[],generatedBy:Ze.generatedBy||"Billing Department",generatedAt:Ze.generatedAt||Ze.date||new Date().toISOString(),notes:Ze.notes||""}});fe(Et)}catch(W){console.error("Error fetching invoices:",W),ce.error("Failed to connect to backend")}},[O,R]=p.useState({patientName:"",patientId:"",dueDate:new Date().toISOString(),notes:""}),[X,B]=p.useState(""),[Y,he]=p.useState({description:"",quantity:1,rate:0,category:""}),Ne=()=>{if(Y.description&&Y.rate>0){const W={id:Date.now().toString(),description:Y.description,quantity:Y.quantity,rate:Y.rate,amount:Y.quantity*Y.rate,category:Y.category};y([...f,W]),he({description:"",quantity:1,rate:0,category:""}),ce.success("Service added to invoice")}},Qe=W=>{y(f.filter(be=>be.id!==W)),ce.info("Service removed from invoice")},Je=()=>f.reduce((W,be)=>W+be.amount,0),yt=()=>{const W=Je();if(!o)return 0;if(o==="custom")return parseFloat(d)||0;const be=k.find(Be=>Be.id===o);if(be)try{return cc.calculateDiscount(W,be)}catch(Be){return console.error("Error calculating dynamic discount",Be),0}if(o&&o!=="insurance"){const Be=Px.find(He=>He.value===o);return Be?W*Be.percentage/100:0}return 0},kt=W=>{const be=["Pharmacy"],Be=["medication","medicine","prescription","drug","pharmaceutical"];if(be.includes(W.category))return!0;const He=W.description.toLowerCase();return Be.some(ft=>He.includes(ft))},H=()=>f.filter(W=>kt(W)).reduce((W,be)=>W+be.amount,0),Ge=()=>{const W=Je(),be=H();if(be===0)return 0;const Be=yt();return(be-Be*(be/W))*.12},ht=()=>{const W=Je(),be=yt(),Be=Ge();return W-be+Be},ae=W=>{switch(W){case"paid":return"bg-green-100 text-green-800";case"sent":return"bg-blue-100 text-blue-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Xe=W=>{switch(W){case"paid":return e.jsx(Wr,{className:"h-4 w-4 text-green-600"});case"sent":return e.jsx(Zx,{className:"h-4 w-4 text-blue-600"});case"overdue":return e.jsx(Qi,{className:"h-4 w-4 text-red-600"});default:return e.jsx(ws,{className:"h-4 w-4 text-gray-600"})}},Oe=async()=>{if(f.length===0){ce.error("Please add at least one service item.");return}if(!O.patientName||!O.patientId){ce.error("Please select a patient.");return}j(!0);try{const W=Je(),be=yt(),Be=Ge(),He=ht(),ft={id:Date.now().toString(),number:`INV-${Date.now()}`,patientName:O.patientName,patientId:O.patientId,date:new Date().toISOString(),dueDate:new Date().toISOString(),status:"draft",subtotal:W,discount:be,total:He,items:f,discountType:o||"none",generatedBy:"Billing Department",generatedAt:new Date().toISOString(),notes:O.notes},zt=await pt.post(`${A}/invoices`,ft);if(zt.data.success){ce.success("Invoice saved to database!");const Et=zt.data?.data||ft;Et.id=Et._id||Et.id||ft.id,Et.number=Et.number||Et.invoiceNumber||ft.number;const Ze=me.find(Nt=>{const At=Nt.id||Nt._id||Nt.patientId;return At&&String(At)===String(Et.patientId)});Ze&&(Et.patient=Ze),fe(Nt=>[Et,...Nt]),I(!0),D(Et),a(!1)}else ce.error("Failed to save invoice")}catch(W){console.error("Error generating invoice:",W),ce.error("Server error while saving invoice")}finally{j(!1)}},$e=()=>{const W=window.open("","_blank");if(!W)return;const be=document.getElementById("invoice-receipt-print");if(!be)return;const Be=M?.patient||me.find(He=>{const ft=He.id||He._id||He.patientId;return ft&&String(ft)===String(M?.patientId)});Be?T(Be.dateOfBirth):M?.date&&T(M.date),Be&&(Be.sex||!0)||M?.sex,W.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Invoice Receipt - ${M?.number}</title>
          <style>
            @page { size: A4 landscape; }
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
              padding: 1rem 2rem;
              max-width: 1200px;
              margin: 0 auto;
              color: #000;
            }
            .space-y-6 > * + * {
              margin-top: 1.5rem;
            }
            .space-y-3 > * + * {
              margin-top: 0.75rem;
            }
            .space-y-2 > * + * {
              margin-top: 0.5rem;
            }
            .text-center {
              text-align: center;
            }
            .border-b {
              border-bottom: 1px solid #e5e7eb;
            }
            .border-t {
              border-top: 1px solid #e5e7eb;
            }
            .pb-4 {
              padding-bottom: 1rem;
            }
            .pt-4 {
              padding-top: 1rem;
            }
            .my-2 {
              margin-top: 0.5rem;
              margin-bottom: 0.5rem;
            }
            .ml-1 {
              margin-left: 0.25rem;
            }
            .ml-2 {
              margin-left: 0.5rem;
            }
            .grid {
              display: grid;
              gap: 1rem;
            }
            .grid-cols-2 {
              grid-template-columns: repeat(2, 1fr);
            }
            .gap-4 {
              gap: 1rem;
            }
            .text-sm {
              font-size: 0.875rem;
            }
            .text-xs {
              font-size: 0.75rem;
            }
            .text-2xl {
              font-size: 1.5rem;
            }
            .text-xl {
              font-size: 1.25rem;
            }
            .text-lg {
              font-size: 1.125rem;
            }
            .font-bold {
              font-weight: 700;
            }
            .font-semibold {
              font-weight: 600;
            }
            .text-gray-600 {
              color: #4b5563;
            }
            .text-gray-500 {
              color: #6b7280;
            }
            .text-green-600 {
              color: #16a34a;
            }
            .text-orange-600 {
              color: #ea580c;
            }
            .mt-2 {
              margin-top: 0.5rem;
            }
            .mt-4 {
              margin-top: 1rem;
            }
            .mb-2 {
              margin-bottom: 0.5rem;
            }
            .w-96 {
              width: 24rem;
            }
            /* make tables wider to suit landscape */
            table { width: 100%; }
            .flex {
              display: flex;
            }
            .justify-between {
              justify-content: space-between;
            }
            .justify-end {
              justify-content: flex-end;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-top: 1rem;
            }
            thead {
              background-color: #f9fafb;
            }
            th, td {
              border: 1px solid #e5e7eb;
              padding: 0.5rem;
              text-align: left;
            }
            th {
              font-weight: 600;
            }
            .text-right {
              text-align: right;
            }
            .text-center {
              text-align: center;
            }
            .bg-gray-50 {
              background-color: #f9fafb;
            }
            .badge {
              display: inline-flex;
              align-items: center;
              padding: 0.25rem 0.75rem;
              font-size: 0.75rem;
              font-weight: 600;
              border-radius: 0.375rem;
            }
            .badge-pending {
              background-color: #fef3c7;
              color: #92400e;
            }
            .badge-paid {
              background-color: #d1fae5;
              color: #065f46;
            }
            @media print {
              body {
                padding: 0;
              }
            }
          </style>
        </head>
        <body>
          ${be.innerHTML}
        </body>
      </html>
    `),W.document.close(),W.focus(),setTimeout(()=>{W.print(),W.close()},250)},nt=W=>{S(W),N(!0)},rt=W=>{Z(W),le(!0)},tt=async()=>{if(we)try{(await pt.delete(`${A}/invoices/${we}`))?.data?.success?(fe(be=>be.filter(Be=>Be.id!==we)),ce.success("Invoice deleted successfully!")):ce.error("Failed to delete invoice")}catch(W){console.error("Error deleting invoice:",W),ce.error("Server error while deleting invoice")}finally{le(!1),Z(null)}},jt=ne.filter(W=>W.number.toLowerCase().includes(x.toLowerCase())||W.patientName.toLowerCase().includes(x.toLowerCase())||W.patientId.toLowerCase().includes(x.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs(oe,{onClick:()=>a(!0),className:"bg-[#E94D61] hover:bg-[#E94D61]/90 text-white",children:[e.jsx(Ya,{className:"mr-2",size:16}),"Create Invoice"]})}),s&&e.jsxs(je,{children:[e.jsxs(st,{className:"bg-[#358E83] text-white",children:[e.jsxs(at,{className:"flex items-center",children:[e.jsx(zn,{className:"mr-2",size:20}),"Create New Invoice"]}),e.jsx(dn,{className:"text-white/80",children:"Generate a new invoice for patient services"})]}),e.jsxs(Se,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(ue,{htmlFor:"patientSelect",children:"Select Patient"}),e.jsxs(jm,{open:q,onOpenChange:Q,children:[e.jsx(bm,{asChild:!0,children:e.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":q,className:"w-full justify-between",children:[X?$A.find(W=>W.id===X)?.fullDisplay:"Search and select a patient...",e.jsx(Xx,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(Nm,{className:"w-screen max-w-[95vw] p-0 left-1/2 transform -translate-x-1/2",children:e.jsxs(xm,{children:[e.jsx(ym,{placeholder:"Search by patient name or ID...",value:U,onChange:W=>V(W.target.value)}),e.jsxs(vm,{children:[e.jsx(wm,{children:"No patient found."}),e.jsx(ql,{children:me.filter(W=>{const be=(U||"").toLowerCase(),Be=(W.id||W._id||W.patientId||"").toString().toLowerCase(),He=(W.name||"").toLowerCase();return be===""||He.includes(be)||Be.includes(be)}).map(W=>{const be=W.id||W._id||W.patientId,Be=Fl.hasUnbilledServices(be),He=Fl.getPatientEmrData(be),ft=`${W.name} (${be})`;return e.jsxs(Gl,{value:ft,onSelect:async()=>{const zt=be;B(zt),R({...O,patientName:W.name,patientId:zt});const Et=Fl.getPatientServices(zt);if(Et.length>0){const Ze=Et.map((Nt,At)=>{const Pt=qu.getPrice(Nt.service,Nt.category);return{id:`emr-${Nt.serviceId}-${Date.now()}-${At}`,description:Nt.service,quantity:Nt.quantity,rate:Pt,amount:Pt*Nt.quantity,category:Nt.category}});y(Ze),ce.success(`Patient ${W.name} selected - ${Et.length} services loaded from EMR`)}else y([]),ce.success(`Patient ${W.name} selected - no pending services in EMR`);try{const Ze=await $r.getTransactions(zt);if(Array.isArray(Ze)&&Ze.length>0){L(Ze);const Nt=Ze.flatMap(At=>At.items||[]);if(Nt.length>0){const At=Nt.map((Pt,Ht)=>({id:`pharm-${Pt.id||Ht}-${Date.now()}`,description:`${Pt.medicationName} ${Pt.strength?`(${Pt.strength})`:""}`,quantity:Pt.quantity||1,rate:Pt.unitPrice||Pt.totalPrice||0,amount:Pt.totalPrice||(Pt.unitPrice||0)*(Pt.quantity||1),category:"Pharmacy"}));y(Pt=>[...At,...Pt]),ce.success(`Loaded ${At.length} medicine items from pharmacy`)}}else{const Nt=[{id:`pharm-demo-${Date.now()}`,description:"Sample Medicine - Demo",quantity:1,rate:200,amount:200,category:"Pharmacy"}];L([]),y(At=>[...Nt,...At]),ce.info("No pharmacy records found  added demo medicine items for display")}}catch(Ze){console.error("Failed to fetch pharmacy transactions",Ze)}Q(!1),V("")},children:[e.jsx(Lm,{className:`mr-2 h-4 w-4 ${X===be?"opacity-100":"opacity-0"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{children:ft}),Be&&He&&e.jsxs("div",{className:"text-xs text-green-600 flex items-center mt-1",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full mr-1"}),He.services.length," services in EMR (",He.status,")"]}),!Be&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"No pending services"})]})]},be)})})]})]})})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Type to search from ",me.length," patients"]}),X&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"EMR Integration Status"}),e.jsx("p",{className:"text-sm text-blue-700",children:(()=>{const W=Fl.getPatientEmrData(X);return W?`${W.status==="admitted"?"Currently Admitted":W.status==="discharged"?"Recently Discharged":"Outpatient"} - ${W.services.length} services found`:"No EMR data found for this patient"})()})]}),e.jsx(ct,{className:"bg-green-100 text-green-800",children:"EMR Connected"})]})}),e.jsx("div",{className:"mt-3 flex justify-center",children:e.jsxs("div",{className:"w-screen max-w-[95vw] p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-900",children:"Pharmacy Integration"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:te.length===0?"No pharmacy purchases found for this patient":`${te.length} Transaction(s) found`})]}),e.jsxs(ct,{className:"bg-white border text-green-800",children:[te.length," Transaction(s)"]})]}),te.length>0&&e.jsx("div",{className:"mt-3 text-sm",children:te.map(W=>e.jsxs("div",{className:"border rounded p-2 mb-2 bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[W.pharmacyName,"  ",W.transactionDate]}),e.jsx("div",{className:"text-xs text-gray-600",children:W.notes})]}),e.jsxs("div",{className:"text-sm font-semibold",children:["",W.totalAmount?.toLocaleString?.()||W.totalAmount]})]}),e.jsx("div",{className:"mt-2",children:e.jsx("ul",{className:"text-sm list-disc pl-5",children:(W.items||[]).map((be,Be)=>e.jsxs("li",{children:[be.medicationName," ",be.strength||""," x",be.quantity,"  ",be.totalPrice]},Be))})})]},W.id))})]})})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"notes",children:"Invoice Notes (Optional)"}),e.jsx(aa,{id:"notes",value:O.notes,onChange:W=>R({...O,notes:W.target.value}),placeholder:"Additional notes for this invoice...",className:"min-h-[80px]"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Payment due immediately upon receipt"})]})]}),e.jsx(br,{}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{children:"Services"}),f.length>0&&X&&e.jsx(ct,{variant:"outline",className:"text-green-700 border-green-300",children:f.filter(W=>W.id.startsWith("emr-")).length>0?`${f.filter(W=>W.id.startsWith("emr-")).length} from EMR`:"Manual Entry"})]}),f.length>0&&f.filter(W=>W.id.startsWith("emr-")).length>0&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-800",children:[e.jsx("span",{className:"font-medium",children:" Services automatically loaded from EMR."})," You can add additional services below or modify quantities and rates as needed."]})}),e.jsx("h4",{className:"mb-4 text-lg",children:"Add Additional Services"}),e.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("span",{className:"font-medium",children:"Hospital Price List Integration:"})," Service rates are automatically populated from the hospital's standard price list. You can modify rates if needed for special cases."]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(ue,{htmlFor:"serviceCategory",children:"Service Category"}),e.jsxs(qt,{value:Y.category,onValueChange:W=>he({...Y,category:W,description:""}),children:[e.jsx(Kt,{children:e.jsx(Gt,{placeholder:"Select category"})}),e.jsx(Yt,{children:Object.keys(Cx).map(W=>e.jsx(Ke,{value:W,children:W},W))})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(ue,{htmlFor:"service",children:"Service Description"}),e.jsxs(qt,{value:Y.description,onValueChange:W=>{const be=qu.getPrice(W,Y.category);he({...Y,description:W,rate:be})},disabled:!Y.category,children:[e.jsx(Kt,{children:e.jsx(Gt,{placeholder:"Select service"})}),e.jsx(Yt,{children:Y.category&&Cx[Y.category]?.map(W=>{const be=qu.getPrice(W,Y.category);return e.jsx(Ke,{value:W,children:e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsx("span",{children:W}),e.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["",be.toLocaleString()]})]})},W)})})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"quantity",children:"Quantity"}),e.jsx(Ce,{id:"quantity",type:"number",min:"1",value:Y.quantity,onChange:W=>he({...Y,quantity:parseInt(W.target.value)||1})})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"rate",children:"Rate ()"}),e.jsx(Ce,{id:"rate",type:"number",min:"0",step:"0.01",value:Y.rate,onChange:W=>he({...Y,rate:parseFloat(W.target.value)||0}),className:Y.rate>0?"bg-green-50 border-green-300":""}),Y.rate>0&&Y.description&&e.jsx("p",{className:"text-xs text-green-600 mt-1",children:" Price from hospital price list"})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(oe,{type:"button",onClick:Ne,className:"w-full bg-[#E94D61] hover:bg-[#E94D61]/90 text-white",children:[e.jsx(Ya,{className:"mr-2",size:16}),"Add"]})})]}),f.length>0&&e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left",children:"Service"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Category"}),e.jsx("th",{className:"px-4 py-3 text-center",children:"Qty"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Rate"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Amount"}),e.jsx("th",{className:"px-4 py-3 text-center",children:"Action"})]})}),e.jsx("tbody",{children:f.map(W=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-3",children:W.description}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:W.category}),e.jsx("td",{className:"px-4 py-3 text-center",children:W.quantity}),e.jsxs("td",{className:"px-4 py-3 text-right",children:["",W.rate.toLocaleString()]}),e.jsxs("td",{className:"px-4 py-3 text-right",children:["",W.amount.toLocaleString()]}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>Qe(W.id),className:"text-red-600 hover:text-red-800",children:e.jsx(qr,{size:16})})})]},W.id))})]})})]}),e.jsx(br,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4",children:"Discount"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"discount",children:"Discount Type"}),e.jsxs(qt,{value:o,onValueChange:W=>{l(W),u("")},children:[e.jsx(Kt,{children:e.jsx(Gt,{placeholder:"Select discount type"})}),e.jsx(Yt,{children:(()=>{new Set(k.map(He=>(He.name||He.code||"").toLowerCase()));const W=He=>He.split("(")[0].trim().toLowerCase(),be=k.map(He=>e.jsxs(Ke,{value:He.id,children:[He.name," ",He.type==="percentage"?`(${He.value}%)`:`(${He.value})`]},He.id)),Be=Px.filter(He=>{const ft=W(He.label);return!k.some(zt=>(zt.name||"").toLowerCase().includes(ft))}).map(He=>e.jsx(Ke,{value:He.value,children:He.label},`legacy-${He.value}`));return[...be,...Be,e.jsx(Ke,{value:"custom",children:"Custom Amount"},"custom")]})()})]})]}),o==="custom"&&e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"customDiscount",children:"Custom Discount Amount ()"}),e.jsx(Ce,{id:"customDiscount",type:"number",min:"0",step:"0.01",value:d,onChange:W=>u(W.target.value),placeholder:"Enter discount amount"})]})]})]}),e.jsx(br,{}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal:"}),e.jsxs("span",{children:["",Je().toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount:"}),e.jsxs("span",{children:["-",yt().toLocaleString()]})]}),Ge()>0&&e.jsxs("div",{className:"flex justify-between text-blue-600",children:[e.jsx("span",{children:"VAT on Medicines (12%):"}),e.jsxs("span",{children:["",Ge().toLocaleString()]})]}),e.jsx(br,{}),e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["",ht().toLocaleString()]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(oe,{variant:"outline",onClick:()=>{a(!1),y([]),B(""),R({patientName:"",patientId:"",dueDate:new Date().toISOString().split("T")[0],notes:""})},children:"Cancel"}),e.jsx(oe,{onClick:Oe,disabled:b||f.length===0,className:"bg-[#358E83] hover:bg-[#358E83]/90 text-white",children:b?"Generating...":"Generate Invoice"})]})]})]}),e.jsx(an,{open:E,onOpenChange:I,children:e.jsxs(Zt,{className:"max-w-full w-[96vw] max-h-[96vh] overflow-y-auto receipt-dialog p-6",children:[e.jsxs(en,{children:[e.jsxs(tn,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Invoice Receipt"}),e.jsxs(oe,{variant:"outline",size:"sm",onClick:$e,className:"ml-4",children:[e.jsx(Xi,{className:"mr-2 h-4 w-4"}),"Print Receipt"]})]}),e.jsx(un,{children:"Invoice generated successfully. Review the details below."})]}),M&&e.jsxs("div",{id:"invoice-receipt-print",className:"space-y-6 print:p-8",children:[e.jsxs("div",{className:"text-center border-b pb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#358E83]",children:"MediCare Hospital"}),e.jsx("p",{className:"text-sm text-gray-600",children:"123 Health Street, Medical District, Philippines"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tel: (02) 1234-5678 | Email: billing@medicare.ph"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Invoice Number:"}),e.jsx("p",{className:"font-semibold",children:M.number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Date Issued:"}),e.jsx("p",{className:"font-semibold",children:new Date(M.date).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Patient Name:"}),e.jsx("p",{className:"font-semibold",children:M.patientName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Patient ID:"}),e.jsx("p",{className:"font-semibold",children:M.patientId})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Payment Terms:"}),e.jsxs("p",{className:"font-semibold",children:[new Date(M.dueDate).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),M.dueDate===M.date&&e.jsx("span",{className:"text-xs text-orange-600 ml-2",children:"(Due Immediately)"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Status:"}),e.jsx(ct,{className:ae(M.status),children:M.status.toUpperCase()})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Services Rendered"}),e.jsxs("table",{className:"w-full border",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left border-b",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-center border-b",children:"Qty"}),e.jsx("th",{className:"px-4 py-2 text-right border-b",children:"Rate"}),e.jsx("th",{className:"px-4 py-2 text-right border-b",children:"Amount"})]})}),e.jsx("tbody",{children:M?.items?.map(W=>e.jsxs("tr",{className:"border-b",children:[e.jsxs("td",{className:"px-4 py-2",children:[e.jsx("div",{children:W.description}),e.jsx("div",{className:"text-xs text-gray-500",children:W.category})]}),e.jsx("td",{className:"px-4 py-2 text-center",children:W.quantity}),e.jsxs("td",{className:"px-4 py-2 text-right",children:["",W.rate.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsxs("td",{className:"px-4 py-2 text-right",children:["",W.amount.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},W.id))})]})]}),e.jsx("div",{className:"border-t pt-4",children:e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"w-96 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal:"}),e.jsxs("span",{children:["",M.subtotal.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),M.discount>0&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsxs("span",{children:["Discount - ",M.discountType,M.discountPercentage&&M.discountPercentage>0&&e.jsxs("span",{className:"text-xs ml-1",children:["(",M.discountPercentage,"%)"]}),":"]}),e.jsxs("span",{children:["-",M.discount.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})}),M.tax&&M.tax>0&&e.jsxs("div",{className:"flex justify-between text-blue-600 text-sm",children:[e.jsxs("span",{children:["VAT on Medicines (12%):",e.jsxs("span",{className:"text-xs ml-1",children:["(",M.taxableAmount?.toLocaleString("en-PH",{minimumFractionDigits:2})||"0.00",")"]})]}),e.jsxs("span",{children:["",M.tax.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsx("div",{className:"border-t my-2"}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total Amount Due:"}),e.jsxs("span",{children:["",M.total.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})}),(M.notes||M.generatedBy)&&e.jsxs("div",{className:"border-t pt-4 space-y-3",children:[M.notes&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Notes:"}),e.jsx("p",{className:"text-sm",children:M.notes})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[M.generatedBy&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Generated By:"}),e.jsx("p",{className:"font-semibold",children:M.generatedBy})]}),M.generatedAt&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Generated At:"}),e.jsx("p",{className:"font-semibold",children:new Date(M.generatedAt).toLocaleString("en-PH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),e.jsxs("div",{className:"text-center text-sm text-gray-600 border-t pt-4",children:[e.jsx("p",{children:"Thank you for choosing MediCare Hospital!"}),e.jsx("p",{className:"mt-2",children:"For inquiries, please contact our billing department."}),e.jsxs("p",{className:"mt-4",children:["Generated on ",new Date().toLocaleString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 print:hidden",children:[e.jsx(oe,{variant:"outline",onClick:()=>I(!1),children:"Close"}),e.jsxs(oe,{className:"bg-[#E94D61] hover:bg-[#E94D61]/90 text-white",onClick:$e,children:[e.jsx(Xi,{className:"mr-2 h-4 w-4"}),"Print"]})]})]})}),e.jsxs(je,{children:[e.jsxs(st,{className:"bg-[#358E83] text-white",children:[e.jsx(at,{children:"Recent Invoices"}),e.jsx(dn,{className:"text-white/80",children:"View and manage generated invoices"})]}),e.jsxs(Se,{className:"p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsx(Ce,{placeholder:"Search invoices by number, patient name, or ID...",value:x,onChange:W=>v(W.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"space-y-4",children:jt.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No invoices found. Create your first invoice to get started."}):jt.map(W=>e.jsx(je,{className:"border",children:e.jsx(Se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(zn,{className:"text-[#358E83]",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:W.number}),e.jsxs("p",{className:"text-sm text-gray-600",children:[W.patientName," (",W.patientId,")"]})]})]})}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),e.jsxs("p",{className:"font-semibold",children:["",W.total.toLocaleString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Due Date"}),e.jsx("p",{className:"text-sm",children:new Date(W.dueDate).toLocaleDateString()})]}),e.jsx("div",{children:e.jsx(ct,{className:ae(W.status),children:e.jsxs("span",{className:"flex items-center space-x-1",children:[Xe(W.status),e.jsx("span",{children:W.status.toUpperCase()})]})})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(oe,{variant:"outline",size:"sm",onClick:()=>nt(W),children:e.jsx(Hr,{size:16})}),e.jsx(oe,{variant:"outline",size:"sm",onClick:()=>rt(W.id),className:"text-red-600 hover:text-red-800",children:e.jsx(qr,{size:16})})]})]})]})})},W.id))})]})]}),e.jsx(an,{open:C,onOpenChange:N,children:e.jsxs(Zt,{className:"max-w-2xl",children:[e.jsxs(en,{children:[e.jsx(tn,{children:"Invoice Details"}),e.jsx(un,{children:"View complete invoice information and services"})]}),g&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Invoice Number"}),e.jsx("p",{className:"font-semibold",children:g.number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Patient"}),e.jsxs("p",{className:"font-semibold",children:[g.patientName," (",g.patientId,")"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Date"}),e.jsx("p",{children:new Date(g.date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Due Date"}),e.jsx("p",{children:new Date(g.dueDate).toLocaleDateString()})]})]}),e.jsx(br,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Services"}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-center",children:"Qty"}),e.jsx("th",{className:"px-4 py-2 text-right",children:"Rate"}),e.jsx("th",{className:"px-4 py-2 text-right",children:"Amount"})]})}),e.jsx("tbody",{children:g?.items?.map(W=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-2",children:W.description}),e.jsx("td",{className:"px-4 py-2 text-center",children:W.quantity}),e.jsxs("td",{className:"px-4 py-2 text-right",children:["",W.rate.toLocaleString()]}),e.jsxs("td",{className:"px-4 py-2 text-right",children:["",W.amount.toLocaleString()]})]},W.id))})]})})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal:"}),e.jsxs("span",{children:["",g.subtotal.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount:"}),e.jsxs("span",{children:["-",g.discount.toLocaleString()]})]}),g.tax&&g.tax>0&&e.jsxs("div",{className:"flex justify-between text-blue-600",children:[e.jsx("span",{children:"VAT on Medicines (12%):"}),e.jsxs("span",{children:["",g.tax.toLocaleString()]})]}),e.jsx(br,{}),e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["",g.total.toLocaleString()]})]})]})]})]})}),e.jsx(Es,{open:ie,onOpenChange:le,children:e.jsxs(Ds,{children:[e.jsxs(ks,{children:[e.jsx(Rs,{children:"Delete Invoice"}),e.jsx(ua,{children:"Are you sure you want to delete this invoice? This action cannot be undone."})]}),e.jsxs(As,{children:[e.jsx(Is,{children:"Cancel"}),e.jsx(Ts,{onClick:tt,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}const jr="http://localhost:5000/api",Ex=[{id:"cash",name:"Cash Payment",icon:H1,color:"text-green-600"},{id:"card",name:"Credit/Debit Card",icon:js,color:"text-blue-600"},{id:"gcash",name:"GCash",icon:bg,color:"text-blue-500"},{id:"paymaya",name:"PayMaya",icon:bg,color:"text-green-500"},{id:"bank",name:"Bank Transfer",icon:zn,color:"text-purple-600"}];function UA({userSession:r}){const[s,a]=p.useState(""),[o,l]=p.useState(!1),[d,u]=p.useState(""),[f,y]=p.useState(""),[x,v]=p.useState("all"),[g,S]=p.useState(!1),[C,N]=p.useState([]),[b,j]=p.useState(!1),[E,I]=p.useState(!1),[M,D]=p.useState(null),[q,Q]=p.useState(""),[U,V]=p.useState([]),[ie,le]=p.useState(""),[we,Z]=p.useState(""),[ne,fe]=p.useState("percentage"),[me,se]=p.useState(""),[te,L]=p.useState(""),[k,K]=p.useState(""),[A,T]=p.useState({invoiceNumber:"",patientName:"",patientId:"",amount:"",method:"",reference:""}),[z,O]=p.useState(null),[R,X]=p.useState(!1),[B,Y]=p.useState(!1),[he,Ne]=p.useState(null),[Qe,Je]=p.useState(!1),[yt,kt]=p.useState([]),[H,Ge]=p.useState([]),ht=P=>{const de=P.createdBy||P.createdByName||r?.name||"system",Re=P.createdByRole||r?.role||"user",Ue=P._id||P.id||P.paymentId||"",Ee=P.invoiceNumber||P.invoiceNo||P.number||P.ref||P.reference||"",Le=P.patientName||P.patient||P.name||"",Te=P.patientId||P.accountId||P.patient_id||"",ot=Number(P.amount??P.total??P.paymentAmount??P.paid??0),bt=Number(P.subtotal??P.amount??P.total??0),St=Number(P.discount??P.discountAmount??0),vt=Number(P.tax??0),Bn=P.method||P.paymentMethod||"",dt=(P.status||"completed").toString(),ut=P.paymentDate||P.date||P.createdAt||new Date().toISOString(),Lt=P.time||(P.createdAt?new Date(P.createdAt).toLocaleTimeString():""),Vt=P.reference||P.ref||"",Xn=Array.isArray(P.items)?P.items:Array.isArray(P.lines)?P.lines:[];return{_id:P._id,id:Ue,invoiceNumber:Ee,patientName:Le,patientId:Te,amount:ot,subtotal:bt,discount:St,tax:vt,method:Bn,status:dt,date:ut,time:Lt,reference:Vt,items:Xn,createdBy:de,createdByRole:Re,raw:P}},ae=async P=>{try{return await pt.post(`${jr}/payments`,P)}catch{return await pt.post(`${jr}/billing/payments`,P)}},Xe=async P=>{try{return typeof ae=="function"?await ae(P):await pt.post(`${jr}/payments`,P)}catch{try{return await pt.post(`${jr}/billing/payments`,P)}catch(Re){throw Re}}},Oe=async()=>{try{if(typeof nm=="function"){const Re=await nm();N(Array.isArray(Re)?Re:Re?.data||[]);return}const de=(await pt.get(`${jr}/invoices`))?.data;N(Array.isArray(de)?de:de?.data||[])}catch(P){console.error("Error fetching invoices",P),N([]),ce.error("Failed to load invoices")}},$e=async()=>{try{if(typeof rm=="function"){const Ue=await rm(),Ee=Array.isArray(Ue)?Ue:Ue?.data||[];V(Ee.map(Le=>ht(Le)));return}const de=(await pt.get(`${jr}/payments`))?.data,Re=Array.isArray(de)?de:de?.data||[];V(Re.map(Ue=>ht(Ue)))}catch(P){console.error("Error fetching payments",P),V([]),ce.error("Failed to load payments")}},nt=async P=>{try{return await pt.delete(`${jr}/payments/${P}`)}catch{return await pt.delete(`${jr}/billing/payments/${P}`)}},rt=async()=>{try{if(typeof Zi=="function"){const Re=await Zi();kt(Array.isArray(Re)?Re:Re?.data||[]);return}const de=(await pt.get(`${jr}/patients`))?.data;kt(Array.isArray(de)?de:de?.data||[])}catch(P){console.warn("Failed to fetch patients list:",P),kt([])}};p.useEffect(()=>{(async()=>{try{await Promise.all([$e(),Oe(),rt()])}catch(de){console.error("PaymentProcessing load error",de)}})()},[]),p.useEffect(()=>{const P=()=>{try{const Re=cc.getActiveDiscounts();Ge(Re||[])}catch(Re){console.error("Failed to load discounts",Re)}};P();const de=()=>P();return window.addEventListener("discounts-updated",de),()=>window.removeEventListener("discounts-updated",de)},[]);const tt=P=>{if(!P)return{age:0,sex:"Unknown"};const de=yt.find(Le=>Le.patientId===P||Le.id===P||Le._id===P);if(!de)return{age:0,sex:"Unknown"};const Re=de.birthDate||de.dateOfBirth||de.birthdate;let Ue=0;if(Re){const Le=new Date(Re),Te=new Date;Ue=Te.getFullYear()-Le.getFullYear();const ot=Te.getMonth()-Le.getMonth();(ot<0||ot===0&&Te.getDate()<Le.getDate())&&Ue--}const Ee=de.gender||de.sex||de.sex||"Unknown";return{age:Ue,sex:Ee}},jt=P=>{if(!P)return{age:0,sex:"Unknown"};const de=P.raw&&(P.raw.patient||P.raw.patientInfo||P.raw.patientDetails)||P.raw;if(de&&typeof de=="object"){const Ue=de.dateOfBirth||de.birthDate||de.dob||de.birth_date||de.birthdate;let Ee=0;if(Ue){const Te=new Date(Ue);if(!isNaN(Te.getTime())){const ot=new Date;Ee=ot.getFullYear()-Te.getFullYear();const bt=ot.getMonth()-Te.getMonth();(bt<0||bt===0&&ot.getDate()<Te.getDate())&&Ee--}}const Le=de.gender||de.sex||de.sexAssignedAtBirth||de.gender_identity||"Unknown";if(Ee||Le!=="Unknown")return{age:Ee||0,sex:Le}}const Re=tt(P.patientId||"");if(Re&&(Re.age&&Re.age>0||Re.sex&&Re.sex!=="Unknown"))return Re;if(P.patientName){const Ue=yt.find(Ee=>{const Le=(Ee.name||`${Ee.firstName||""} ${Ee.lastName||""}`).toString().toLowerCase();return Le&&Le.includes((P.patientName||"").toString().toLowerCase())});if(Ue){const Ee=Ue.birthDate||Ue.dateOfBirth||Ue.birthdate;let Le=0;if(Ee){const ot=new Date(Ee);if(!isNaN(ot.getTime())){const bt=new Date;Le=bt.getFullYear()-ot.getFullYear();const St=bt.getMonth()-ot.getMonth();(St<0||St===0&&bt.getDate()<ot.getDate())&&Le--}}const Te=Ue.gender||Ue.sex||"Unknown";return{age:Le||0,sex:Te}}}return{age:0,sex:"Unknown"}},W=P=>{if(!P)return"N/A";const de=P.raw||{},Re=[de.invoiceDate,de.dateIssued,de.issuedAt,de.paymentDate,P.date,de.createdAt,de.date];for(const Ue of Re){if(!Ue)continue;const Ee=new Date(Ue);if(!isNaN(Ee.getTime()))return Ee.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}return"N/A"};p.useEffect(()=>{if(!k){T(Le=>({...Le,amount:""}));return}const P=parseFloat(k)||0;let de=0;M?de=cc.calculateDiscount(P,M):me&&(de=ne==="percentage"?P*(parseFloat(me)||0)/100:parseFloat(me)||0);let Re=0;const Ue=C.find(Le=>Le.number===ie||Le.invoiceNumber===ie||Le._id===ie);if(Ue&&Array.isArray(Ue.items)){const Le=Ue.items.filter(Te=>Qn(Te)).reduce((Te,ot)=>Te+Number(ot.totalPrice||ot.amount||ot.price||0),0);Le>0&&(Re=(P>0?Math.max(0,Le-de*(Le/P)):Le)*.12)}const Ee=Math.max(0,P-de+Re);T(Le=>({...Le,amount:Ee.toFixed(2)}))},[k,me,ne,M,ie,C]);const be=U.reduce((P,de)=>P+(de.amount||0),0),Be=U.filter(P=>P.status==="completed"),He=U.filter(P=>P.status==="processing"),ft=U.filter(P=>P.status==="failed"),zt=()=>{if(!s){ce.error("Please select a payment method.");return}if(!A.amount||parseFloat(A.amount||"0")<=0){ce.error("Invalid payment amount.");return}if(s==="cash"){const P=parseFloat(q||"0"),de=parseFloat(A.amount||"0");if(!q||isNaN(P)||P<de){ce.error("Cash received must be equal or greater than amount.");return}}X(!0)},Et=async()=>{try{const P=C.find(ut=>ut._id&&ut._id===ie||ut.id&&ut.id===ie||ut.number&&ut.number===ie||ut.invoiceNumber&&ut.invoiceNumber===ie);if(!P&&!ie){console.error("handleProcessPayment: no selected invoice"),ce.error("No invoice selected");return}const de=P?._id||P?.id||ie;if(!de){console.error("handleProcessPayment: invoice id missing",P),ce.error("Invalid invoice selected");return}let Re=parseFloat(String(A.amount||""))||parseFloat(k||"0")||0;(!Re||Re===0)&&P&&(Re=(Array.isArray(P.items)?P.items:P.lines||[]).reduce((Vt,Xn)=>Vt+Number(Xn.totalPrice??Xn.amount??Xn.price??0),0)||Re);const Ue=s||A.method||"cash",Ee=(A.reference||"").toString(),Le={invoiceId:de,invoiceNumber:ie||P?.number||P?.invoiceNumber,patientId:A.patientId||P&&(P.patientId||P.accountId)||void 0,patientName:A.patientName||(()=>{if(!P)return"";if(P.patientName)return P.patientName;if(P.patient&&typeof P.patient=="string")return P.patient;if(P.patient&&typeof P.patient=="object")return P.patient.name||`${P.patient.firstName||""} ${P.patient.lastName||""}`.trim();const ut=P.patientId||P.accountId||P.patient&&P.patient._id,Lt=yt.find(Vt=>Vt._id===ut||Vt.id===ut||Vt.patientId===ut);return Lt?Lt.name||`${Lt.firstName||""} ${Lt.lastName||""}`.trim():P.patientName||P.patient||""})(),amount:Re,method:Ue,status:"completed",paymentDate:new Date().toISOString(),reference:A.reference||void 0,note:Ee},Te=P?Array.isArray(P.items)?P.items:P.lines||[]:[],ot=Te&&Te.length>0?Te.reduce((ut,Lt)=>ut+Number(Lt.totalPrice??Lt.amount??Lt.price??0),0):parseFloat(k||"0")||Re||0,bt={...Le,items:Te,subtotal:ot},St=await Xe(bt),vt=St?.data||St;if(console.debug("Payment create response:",vt),!(St?.status===200||St?.status===201||vt?.success)&&(!vt||!vt._id&&!vt.id&&!vt.data))throw new Error("Payment creation failed");try{typeof Ag=="function"?await Ag(de,{status:"paid"}):await pt.put(`${jr}/invoices/${de}`,{status:"paid"})}catch(ut){console.warn("updateInvoice failed (non-fatal):",ut)}const Bn=vt.data?vt.data:(vt._id,vt),dt=ht(Bn);if(Array.isArray(dt.items)&&dt.items.length===0&&Te&&Te.length>0&&(dt.items=Te),(!dt.subtotal||dt.subtotal===0)&&(dt.subtotal=ot),!dt.patientId&&bt.patientId&&(dt.patientId=bt.patientId),(!dt.patientName||dt.patientName==="")&&bt.patientName&&(dt.patientName=bt.patientName),Ue==="cash"){const ut=Number(q||0);dt.cashReceived=dt.cashReceived||ut;const Lt=Number(dt.amount||dt.subtotal||0);dt.change=Math.max(0,ut-Lt)}V(ut=>[dt,...ut]),O(dt),await $e(),await Oe(),ce.success("Payment processed"),X(!1),l(!1),Y(!0)}catch(P){console.error("process payment error",P),ce.error("Payment failed")}},Ze=()=>{if(!z){ce.error("No processed payment to print");return}const P=document.getElementById("payment-receipt-print");if(!P){ce.error("Receipt content not found");return}const de=window.open("","_blank");de&&(de.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="utf-8" />
          <title>Payment Receipt - MediCare Hospital</title>
          <style>
            @page { size: A4 landscape; margin: 18mm; }
            /* Printed typography tuned to match hospital receipt */
            body {
              font-family: 'Times New Roman', Georgia, serif;
              color: #000;
              background: #fff;
              font-size: 12px;
              margin: 0;
              padding: 0;
              -webkit-print-color-adjust: exact;
            }
            .receipt-container {
              max-width: 1100px;
              margin: 0 auto;
              padding: 8px 12px;
            }
            header .hospital-name { font-size: 22px; font-weight: 700; letter-spacing: 0.5px; }
            header .hospital-meta { font-size: 11px; color: #333; margin-top: 4px; }

            table { width: 100%; border-collapse: collapse; margin-top: 10px; }
            thead th { padding: 8px 6px; border-bottom: 2px solid #000; font-weight: 700; text-transform: uppercase; font-size: 12px; }
            tbody td { padding: 8px 6px; border-bottom: 1px solid #ddd; vertical-align: middle; }
            td.description { font-size: 12px; }
            td.amount, .text-right { text-align: right; }

            .category-row td { font-weight: 600; }
            .totals-row td { font-weight: 700; border-top: 2px solid #000; }

            .grand-total { margin-top: 10px; text-align: right; font-size: 18px; font-weight: 800; }

            .meta-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
            .meta-grid .left, .meta-grid .right { font-size: 12px; }

            .payment-details { margin-top: 14px; border-top: 1px solid #ccc; padding-top: 8px; font-size: 12px; }
            .payment-details .label { color: #333; font-weight: 600; }
            .payment-details .value { text-align: right; }

            .footer { margin-top: 18px; text-align: center; font-size: 11px; color: #333; }
          </style>
        </head>
        <body>
          <div class="receipt-container small" style="max-width:1100px; margin:0 auto;">
            ${P.innerHTML}
          </div>
        </body>
      </html>
    `),de.document.close(),de.focus(),setTimeout(()=>{de.print(),de.close()},300))},Nt=async()=>{if(he)try{const P=await nt(he);P?.data?.success||P.status===200||P.status===204?(V(Re=>Re.filter(Ue=>(Ue._id||Ue.id)!==he)),ce.success("Payment deleted")):ce.error("Failed to delete payment")}catch(P){console.error("Delete error",P),ce.error("Server error while deleting payment")}finally{Je(!1),Ne(null)}},At=U.filter(P=>{const de=(P.invoiceNumber||"").toLowerCase().includes(d.toLowerCase())||(P.patientName||"").toLowerCase().includes(d.toLowerCase())||(P.reference||"").toLowerCase().includes(d.toLowerCase()),Re=x==="all"||P.status===x;return de&&Re}),Pt=P=>{switch(P){case"completed":return"bg-green-100 text-green-800";case"processing":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-100 text-blue-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Ht=P=>{switch(P){case"completed":return e.jsx(Wr,{className:"text-green-600",size:16});case"processing":return e.jsx(ws,{className:"text-yellow-600",size:16});case"pending":return e.jsx(ws,{className:"text-blue-600",size:16});case"failed":return e.jsx(Qi,{className:"text-red-600",size:16});default:return e.jsx(ws,{className:"text-gray-600",size:16})}},Qn=P=>{if(!P||typeof P!="object")return!1;const de=(P.category||"").toLowerCase();return!["consultation","laboratory","diagnostic","service","procedure"].some(Ue=>de.includes(Ue))},$t=P=>{const de=Ex.find(Ue=>Ue.id===P);if(!de)return e.jsx(zn,{className:"text-gray-600",size:20});const Re=de.icon;return e.jsx(Re,{className:de.color,size:20})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(je,{children:e.jsx(Se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Payments"}),e.jsxs("p",{className:"text-2xl font-bold",children:["",be.toLocaleString()]})]}),e.jsx(zn,{className:"text-[#358E83]",size:32})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:Be.length})]}),e.jsx(Wr,{className:"text-green-600",size:32})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Processing"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:He.length})]}),e.jsx(ws,{className:"text-yellow-600",size:32})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Failed"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:ft.length})]}),e.jsx(Qi,{className:"text-red-600",size:32})]})})})]}),!o&&e.jsx("div",{className:"flex justify-end",children:e.jsxs(oe,{onClick:()=>l(!0),className:"bg-[#E94D61] hover:bg-[#E94D61]/90 text-white",children:[e.jsx(Ya,{className:"mr-2",size:16})," Process New Payment"]})}),!o&&e.jsxs(je,{children:[e.jsx(st,{className:"bg-[#358E83] text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(at,{className:"flex items-center",children:[e.jsx(zn,{className:"mr-2",size:20})," Recent Payments"]}),e.jsx(dn,{className:"text-white/80",children:"View and manage payment transactions"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx(Ce,{placeholder:"Search payments...",value:d,onChange:P=>u(P.target.value),className:"pl-10 w-64 bg-white"}),e.jsx("span",{className:"ml-3 text-sm text-white/80 bg-black/10 px-2 py-1 rounded",children:x==="all"?"All":x})]}),e.jsxs(qt,{value:x,onValueChange:v,children:[e.jsx(Kt,{className:"w-40 bg-white",children:e.jsx(Gt,{placeholder:"Filter by status"})}),e.jsxs(Yt,{children:[e.jsx(Ke,{value:"all",children:"All Status"}),e.jsx(Ke,{value:"completed",children:"Completed"}),e.jsx(Ke,{value:"processing",children:"Processing"}),e.jsx(Ke,{value:"pending",children:"Pending"}),e.jsx(Ke,{value:"failed",children:"Failed"})]})]})]})]})}),e.jsx(Se,{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:At.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(zn,{className:"mx-auto mb-3 opacity-50",size:48}),e.jsx("p",{children:"No payments found"})]}):At.map(P=>e.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[$t(P.method),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:P.invoiceNumber}),e.jsxs("p",{className:"text-sm text-gray-600",children:[P.patientName," (",P.patientId,")"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Amount"}),e.jsxs("p",{className:"font-semibold",children:["",P.amount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Method"}),e.jsx("p",{className:"font-medium capitalize",children:P.method})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Date & Time"}),e.jsxs("p",{className:"font-medium",children:[new Date(P.date).toLocaleDateString("en-PH")," ",P.time]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Reference"}),e.jsx("p",{className:"font-medium",children:P.reference})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2 ml-4",children:[e.jsx(ct,{className:Pt(P.status),children:e.jsxs("span",{className:"flex items-center space-x-1",children:[Ht(P.status),e.jsx("span",{className:"ml-1 capitalize",children:P.status})]})}),e.jsx("div",{className:"flex space-x-2",children:e.jsx(oe,{variant:"outline",size:"sm",onClick:()=>{O(P),Y(!0)},children:e.jsx(Hr,{className:"h-4 w-4"})})})]})]})},P._id||P.id||P.reference))})})]}),o&&e.jsxs(je,{children:[e.jsxs(st,{className:"bg-[#358E83] text-white",children:[e.jsxs(at,{className:"flex items-center",children:[e.jsx(js,{className:"mr-2",size:20})," Process Payment"]}),e.jsx(dn,{className:"text-white/80",children:"Accept payment for patient invoices"})]}),e.jsxs(Se,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(ue,{children:"Select Invoice"}),e.jsxs(jm,{open:b,onOpenChange:j,children:[e.jsx(bm,{asChild:!0,children:e.jsxs(oe,{variant:"outline",role:"combobox","aria-expanded":b,className:"w-full justify-between",children:[(()=>{const P=C.find(de=>de.number===ie||de.invoiceNumber===ie||de._id===ie);if(P){const de=typeof P.amount=="number"?P.amount.toLocaleString():P.amount?String(P.amount):"0.00",Re=P.patientName||P.patient||"";return`${P.number||P.invoiceNumber||P._id||""} - ${Re} (${de})`}return"Search and select an invoice..."})(),e.jsx(Xx,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(Nm,{className:"w-screen max-w-[95vw] p-0 left-1/2 transform -translate-x-1/2",children:e.jsxs(xm,{children:[e.jsx(ym,{className:"w-full text-lg py-3",placeholder:"Search by invoice number or patient...",value:f,onChange:P=>y(P.target.value)}),e.jsxs(vm,{children:[e.jsx(wm,{children:"No invoice found."}),e.jsx(ql,{children:C.filter(P=>{const de=(f||"").toLowerCase(),Re=(P.number||P.invoiceNumber||P._id||"").toString().toLowerCase(),Ue=(P.patientName||P.patient||"").toString().toLowerCase();return de===""||Re.includes(de)||Ue.includes(de)}).map(P=>e.jsxs(Gl,{value:`${P.number||P.invoiceNumber||P._id||""} ${P.patientName||P.patient||""}`,onSelect:()=>{const de=P.number||P.invoiceNumber||P.invoiceNo||P._id||P.id||"",Re=P.patientId||P.patient||P.accountId||"",Ue=P.patientName||P.patient||"";le(de),T(Te=>({...Te,invoiceNumber:de,patientName:Ue,patientId:Re}));const Le=(Te=>Te==null?0:Te.subtotal!==void 0&&Te.subtotal!==null?Number(Te.subtotal):Te.amount!==void 0&&Te.amount!==null?Number(Te.amount):Array.isArray(Te.items)&&Te.items.length>0?Te.items.reduce((ot,bt)=>ot+Number(bt.totalPrice??bt.amount??bt.price??0),0):Array.isArray(Te.lines)&&Te.lines.length>0?Te.lines.reduce((ot,bt)=>ot+Number(bt.totalPrice??bt.amount??bt.price??0),0):0)(P);Le&&Le>0?(K(String(Le)),T(Te=>({...Te,amount:String(Le)}))):(K(""),T(Te=>({...Te,amount:""}))),P.discount&&P.discount>0?(P.discountPercentage?(fe("percentage"),se(String(P.discountPercentage))):(fe("fixed"),se(String(P.discount))),L(P.discountType||"")):(se(""),L("")),j(!1),y(""),ce.success(`Invoice ${de} selected`)},children:[e.jsx(Lm,{className:`mr-2 h-4 w-4 ${ie===(P.number||P.invoiceNumber||P._id||"")?"opacity-100":"opacity-0"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:P.number||P.invoiceNumber||P._id}),e.jsxs("div",{className:"text-sm text-gray-500",children:[P.patientName||P.patient&&(typeof P.patient=="string"?P.patient:P.patient.name)," (",P.patientId||"",") - ",(P.subtotal!==void 0&&P.subtotal!==null?Number(P.subtotal):P.amount!==void 0&&P.amount!==null?Number(P.amount):Array.isArray(P.items)?P.items.reduce((Re,Ue)=>Re+Number(Ue.totalPrice??Ue.amount??Ue.price??0),0):0).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]},P.number||P.invoiceNumber||P._id||P.id))})]})]})})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Search from ",C.length," available invoices"]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Patient Name"}),e.jsx(Ce,{value:A.patientName,disabled:!0,placeholder:"Auto-filled from invoice",className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Subtotal Amount ()"}),e.jsx(Ce,{type:"number",value:k,onChange:P=>K(P.target.value),placeholder:"Enter subtotal amount"})]})]}),k&&k!==""&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-4",children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"Payment Breakdown"}),e.jsxs("div",{children:[e.jsx(ue,{children:"Select Discount/Promotion"}),e.jsxs(jm,{open:E,onOpenChange:I,children:[e.jsx(bm,{asChild:!0,children:e.jsx(oe,{variant:"outline",role:"combobox","aria-expanded":E,className:"w-full justify-between bg-white",children:M?`${M.name} (${M.type==="percentage"?`${M.value}%`:`${M.value}`})`:"Search discounts (PWD, Senior, etc.)..."})}),e.jsx(Nm,{className:"w-full p-0",children:e.jsxs(xm,{children:[e.jsx(ym,{placeholder:"Search by name, code, or category..."}),e.jsxs(vm,{children:[e.jsx(wm,{children:"No discount found."}),e.jsx(ql,{children:H.map(P=>e.jsx(Gl,{value:`${P.name} ${P.code}`,onSelect:()=>{D(P),I(!1),ce.success(`${P.name} selected`)},children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:P.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[P.code,"  ",P.description]})]}),e.jsx("div",{className:"font-semibold text-green-600",children:P.type==="percentage"?`${P.value}%`:`${P.value}`})]})},P.id))}),e.jsx(ql,{children:e.jsxs(Gl,{value:"custom-discount-manual-entry",onSelect:()=>{D(null),se(""),L(""),I(!1),ce.info("Enter custom discount manually")},children:[e.jsx(Gi,{className:"mr-2 h-4 w-4 text-gray-500"}),e.jsx("span",{children:"Enter Custom Discount"})]})})]})]})})]})]}),e.jsxs("div",{className:"border-t border-blue-300 pt-3 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-700",children:"Subtotal:"}),e.jsxs("span",{className:"font-medium",children:["",parseFloat(k||"0").toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),me&&me!==""&&e.jsxs("div",{className:"flex justify-between text-sm text-green-700",children:[e.jsxs("span",{children:["Discount",te?` (${te})`:"",ne==="percentage"?` - ${me}%`:"",":"]}),e.jsxs("span",{className:"font-medium",children:["-",(()=>{const P=parseFloat(k)||0;return(ne==="percentage"?P*parseFloat(me)/100:parseFloat(me)).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})})()]})]}),e.jsx("div",{className:"border-t border-blue-300 pt-2 mt-2"}),e.jsxs("div",{className:"flex justify-between font-semibold text-blue-900",children:[e.jsx("span",{children:"Total Amount to Pay:"}),e.jsxs("span",{className:"text-lg",children:["",parseFloat(A.amount||"0").toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]}),e.jsx(br,{}),e.jsxs("div",{children:[e.jsx(ue,{className:"mb-3 block",children:"Select Payment Method"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-3",children:Ex.map(P=>{const de=P.icon;return e.jsxs("button",{onClick:()=>a(P.id),className:`p-4 border-2 rounded-lg transition-all ${s===P.id?"border-[#E94D61] bg-[#E94D61]/5":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(de,{className:`mx-auto mb-2 ${P.color}`,size:32}),e.jsx("p",{className:"text-sm font-medium text-center",children:P.name})]},P.id)})})]}),s==="cash"&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 space-y-3",children:[e.jsx("h4",{className:"font-medium text-green-900",children:"Cash Payment Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Amount to Pay ()"}),e.jsx(Ce,{type:"number",value:A.amount,disabled:!0,className:"bg-white"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Cash Received ()"}),e.jsx(Ce,{type:"number",value:q,onChange:P=>Q(P.target.value),placeholder:"Enter cash received",className:"bg-white"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Change ()"}),e.jsx(Ce,{type:"number",value:q&&A.amount?Math.max(0,parseFloat(q)-parseFloat(A.amount)).toFixed(2):"0.00",disabled:!0,className:"bg-white font-semibold text-green-600"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(oe,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(oe,{onClick:zt,disabled:g||!s||!A.amount,className:"bg-[#358E83] hover:bg-[#358E83]/90 text-white",children:"Confirm Payment"})]})]})]}),e.jsx(Es,{open:R,onOpenChange:X,children:e.jsxs(Ds,{children:[e.jsx(ks,{children:e.jsx(Rs,{children:"Confirm Payment Processing"})}),e.jsxs("div",{className:"px-6 pb-4 text-sm",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Please review the payment details before confirming:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[e.jsx("div",{className:"text-gray-600",children:"Invoice Number:"}),e.jsx("div",{className:"text-right font-medium",children:A.invoiceNumber||ie||z?.invoiceNumber||""}),e.jsx("div",{className:"text-gray-600",children:"Patient:"}),e.jsx("div",{className:"text-right font-medium",children:A.patientName||z?.patientName||""}),e.jsx("div",{className:"text-gray-600",children:"Payment Method:"}),e.jsx("div",{className:"text-right font-medium capitalize",children:s||A.method||"cash"})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"grid grid-cols-2 items-center",children:[e.jsx("div",{className:"text-gray-600",children:"Subtotal:"}),e.jsxs("div",{className:"text-right font-medium",children:["",Number(z?.subtotal||k||A.amount||0).toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"mt-4 flex items-end justify-between",children:[e.jsx("div",{children:e.jsx("div",{className:"text-sm text-gray-600",children:"Amount:"})}),e.jsxs("div",{className:"text-2xl font-bold text-[#358E83]",children:["",Number(A.amount||z?.amount||k||0).toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),s==="cash"&&e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[e.jsx("div",{className:"text-gray-600",children:"Cash Received:"}),e.jsxs("div",{className:"text-right",children:["",Number(q||0).toLocaleString("en-PH",{minimumFractionDigits:2})]}),e.jsx("div",{className:"text-gray-600",children:"Change:"}),e.jsxs("div",{className:"text-right text-green-600 font-medium",children:["",(()=>{const P=Number(A.amount||z?.amount||k||0),de=Number(q||0);return Math.max(0,de-P).toLocaleString("en-PH",{minimumFractionDigits:2})})()]})]})]}),e.jsxs(As,{children:[e.jsx(Is,{onClick:()=>X(!1),children:"Cancel"}),e.jsx(Ts,{onClick:Et,children:g?"Processing...":"Confirm & Process"})]})]})}),e.jsx(an,{open:B,onOpenChange:Y,children:e.jsxs(Zt,{className:"max-w-full w-[min(1100px,80vw)] max-h-[90vh] overflow-y-auto receipt-dialog p-6 mx-auto",children:[e.jsxs(en,{children:[e.jsxs(tn,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Invoice Receipt"}),e.jsxs(oe,{variant:"outline",size:"sm",onClick:Ze,className:"ml-4",children:[e.jsx(Xi,{className:"mr-2 h-4 w-4"}),"Print Receipt"]})]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Receipt generated successfully. Review the details below."})]}),e.jsx("div",{id:"payment-receipt-print",className:"space-y-6 print:p-8",children:z?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center border-b pb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#358E83]",children:"MediCare Hospital"}),e.jsx("p",{className:"text-sm text-gray-600",children:"123 Health Street, Medical District, Philippines"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tel: (02) 1234-5678 | Email: billing@medicare.ph"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Invoice Number:"}),e.jsx("p",{className:"font-semibold",children:z.invoiceNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Date Issued:"}),e.jsx("p",{className:"font-semibold",children:W(z)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Patient Name:"}),e.jsx("p",{className:"font-semibold",children:z.patientName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Patient ID:"}),e.jsx("p",{className:"font-semibold",children:z.patientId||z.id||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Age / Sex:"}),e.jsxs("p",{className:"font-semibold",children:[jt(z).age," / ",jt(z).sex]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Payment Status:"}),e.jsx(ct,{className:Pt(z.status),children:(z.status||"paid").toUpperCase()})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Services Rendered"}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-center",children:"Qty"}),e.jsx("th",{className:"px-4 py-2 text-right",children:"Rate"}),e.jsx("th",{className:"px-4 py-2 text-right",children:"Amount"})]})}),e.jsx("tbody",{children:Array.isArray(z.items)&&z.items.length>0?z.items.map((P,de)=>e.jsxs("tr",{className:"border-t",children:[e.jsxs("td",{className:"px-4 py-2",children:[e.jsx("div",{children:P.description||P.name||P.medicationName||"Item"}),e.jsx("div",{className:"text-xs text-gray-500",children:P.category||P.group||""})]}),e.jsx("td",{className:"px-4 py-2 text-center",children:P.quantity??P.qty??1}),e.jsxs("td",{className:"px-4 py-2 text-right",children:["",Number(P.rate??P.unitPrice??P.price??P.totalPrice??0).toLocaleString("en-PH",{minimumFractionDigits:2})]}),e.jsxs("td",{className:"px-4 py-2 text-right",children:["",Number(P.amount??P.totalPrice??(P.quantity??1)*(P.rate??P.unitPrice??P.price??0)).toLocaleString("en-PH",{minimumFractionDigits:2})]})]},P.id||de)):e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:"No items"}),e.jsx("td",{className:"px-4 py-2"}),e.jsx("td",{className:"px-4 py-2"}),e.jsx("td",{className:"px-4 py-2 text-right",children:"0.00"})]})})]})})]}),e.jsx("div",{className:"border-t pt-4",children:e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"w-96 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal:"}),e.jsxs("span",{children:["",Number(z.subtotal||z.amount||0).toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),z.discount&&Number(z.discount)>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount:"}),e.jsxs("span",{children:["-",Number(z.discount).toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),z.tax&&Number(z.tax)>0&&e.jsxs("div",{className:"flex justify-between text-blue-600 text-sm",children:[e.jsx("span",{children:"VAT on Medicines (12%):"}),e.jsxs("span",{children:["",Number(z.tax).toLocaleString("en-PH",{minimumFractionDigits:2})]})]}),e.jsx("div",{className:"border-t my-2"}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total Amount Paid:"}),e.jsxs("span",{children:["",Number(z.amount||z.subtotal||0).toLocaleString("en-PH",{minimumFractionDigits:2})]})]})]})})}),e.jsx("div",{className:"border-t pt-4 space-y-3",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Processed By:"}),e.jsx("p",{className:"font-semibold",children:z.createdBy||r?.name||"System"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Processed At:"}),e.jsx("p",{className:"font-semibold",children:new Date(z.date||z.createdAt||Date.now()).toLocaleString("en-PH")})]})]})}),e.jsxs("div",{className:"text-center text-sm text-gray-600 border-t pt-4",children:[e.jsx("p",{children:"Thank you for choosing MediCare Hospital!"}),e.jsx("p",{className:"mt-2",children:"For inquiries, please contact our billing department."}),e.jsxs("p",{className:"mt-4",children:["Generated on ",new Date().toLocaleString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]}):e.jsx("p",{children:"No receipt available."})}),e.jsxs("div",{className:"flex justify-end space-x-3 print:hidden",children:[e.jsx(oe,{variant:"outline",onClick:()=>Y(!1),children:"Close"}),e.jsxs(oe,{className:"bg-[#E94D61] hover:bg-[#E94D61]/90 text-white",onClick:Ze,children:[e.jsx(Xi,{className:"mr-2 h-4 w-4"}),"Print"]})]})]})}),e.jsx(an,{open:Qe,onOpenChange:Je,children:e.jsxs(Zt,{children:[e.jsx(en,{children:e.jsx(tn,{children:"Confirm Delete"})}),e.jsx("p",{children:"Are you sure you want to delete this payment?"}),e.jsxs(F0,{children:[e.jsx(oe,{variant:"outline",onClick:()=>Je(!1),children:"Cancel"}),e.jsx(oe,{className:"bg-red-500 text-white",onClick:Nt,children:"Delete"})]})]})})]})}class HA{records=[];listeners=[];constructor(){this.records=[{id:"1",type:"invoice",number:"INV-2025-001",patientName:"Maria Santos",patientId:"P001",date:"2025-01-05",time:"10:30 AM",amount:13800,status:"completed",description:"General Consultation, Blood Test, X-Ray",department:"Outpatient"},{id:"2",type:"payment",number:"PAY-2025-001",patientName:"Maria Santos",patientId:"P001",date:"2025-01-05",time:"10:45 AM",amount:13800,status:"completed",description:"Payment for INV-2025-001",paymentMethod:"GCash",reference:"GCH-20250105-001"},{id:"3",type:"pharmacy",number:"PH-2025-001",patientName:"Juan Dela Cruz",patientId:"P002",date:"2025-01-04",time:"2:15 PM",amount:2500,status:"completed",description:"Prescription Medications (Amoxicillin, Paracetamol)",department:"Pharmacy",items:[{id:"med1",description:"Amoxicillin 500mg Capsules x30",quantity:30,unitPrice:25,totalPrice:750},{id:"med2",description:"Paracetamol 500mg Tablets x20",quantity:20,unitPrice:5,totalPrice:100},{id:"med3",description:"Cough Syrup 120ml",quantity:1,unitPrice:150,totalPrice:150}]},{id:"4",type:"invoice",number:"INV-2025-002",patientName:"Juan Dela Cruz",patientId:"P002",date:"2025-01-05",time:"11:15 AM",amount:7820,status:"pending",description:"Follow-up Consultation, Medication",department:"Outpatient"},{id:"5",type:"invoice",number:"INV-2025-003",patientName:"Anna Reyes",patientId:"P003",date:"2025-01-04",time:"9:30 AM",amount:11040,status:"pending",description:"Laboratory Tests, Consultation",department:"Laboratory"},{id:"6",type:"invoice",number:"INV-2025-004",patientName:"Roberto Cruz",patientId:"P004",date:"2025-01-04",time:"3:45 PM",amount:28e3,status:"pending",description:"X-Ray, Physical Therapy Sessions",department:"Radiology"},{id:"7",type:"service",number:"SRV-2025-001",patientName:"Carmen Flores",patientId:"P005",date:"2025-01-03",time:"1:00 PM",amount:15600,status:"pending",description:"CT Scan, Blood Chemistry Panel",department:"Radiology"},{id:"8",type:"invoice",number:"INV-2025-005",patientName:"Carlos Miguel",patientId:"P004",date:"2025-01-03",time:"8:30 AM",amount:45e3,status:"completed",description:"Minor Surgery, Anesthesia, Recovery Room",department:"Surgery"},{id:"9",type:"payment",number:"PAY-2025-002",patientName:"Carlos Miguel",patientId:"P004",date:"2025-01-03",time:"4:15 PM",amount:45e3,status:"completed",description:"Payment for INV-2025-005",paymentMethod:"Credit Card",reference:"CC-20250103-001"}]}subscribe(s){return this.listeners.push(s),s(this.records),()=>{this.listeners=this.listeners.filter(a=>a!==s)}}notifyListeners(){this.listeners.forEach(s=>s([...this.records]))}getAllRecords(){return[...this.records]}addRecord(s){this.records.push(s),this.notifyListeners()}addPaymentRecord(s){const a=`PAY-${Date.now()}`,o={id:Date.now().toString(),type:"payment",number:a,patientName:s.patientName,patientId:s.patientId,date:s.date,time:s.time,amount:s.amount,status:s.status==="processing"?"pending":s.status==="failed"?"cancelled":s.status,description:`Payment for ${s.invoiceNumber}`,paymentMethod:this.formatPaymentMethod(s.method),reference:s.reference};return this.addRecord(o),o}addInvoiceRecord(s){const a={id:Date.now().toString(),type:"invoice",number:s.invoiceNumber,patientName:s.patientName,patientId:s.patientId,date:s.date,time:s.time,amount:s.amount,status:"pending",description:s.description,department:s.department,subtotal:s.subtotal,discount:s.discount,discountType:s.discountType,discountPercentage:s.discountPercentage,tax:s.tax,taxRate:s.taxRate,totalBeforeTax:s.totalBeforeTax,items:s.items};return this.addRecord(a),a}updateRecordStatus(s,a){const o=this.records.findIndex(l=>l.id===s);o!==-1&&(this.records[o].status=a,this.notifyListeners())}formatPaymentMethod(s){return{cash:"Cash",card:"Credit Card",gcash:"GCash",paymaya:"PayMaya",bank:"Bank Transfer"}[s]||s}getRecordsByPatient(s){return this.records.filter(a=>a.patientId===s)}getRecordsByType(s){return this.records.filter(a=>a.type===s)}getRecordsByDateRange(s,a){return this.records.filter(o=>o.date>=s&&o.date<=a)}}const VA=new HA;function WA({onNavigateToView:r}){const[s,a]=p.useState("all"),[o,l]=p.useState(""),[d,u]=p.useState([]);p.useEffect(()=>{f()},[]);const f=()=>{const K=My.getAllPatients().map(A=>({id:A.id,name:A.name,fullDisplay:`${A.name} (${A.id})`}));u(K)},[y,x]=p.useState(""),[v,g]=p.useState([]),[S,C]=p.useState(!1),[N,b]=p.useState(!1),[j,E]=p.useState([]),[I,M]=p.useState(!1),[D,q]=p.useState(null);p.useEffect(()=>{const k=VA.subscribe(K=>{E(K)});return()=>k()},[]),p.useEffect(()=>{(async()=>{try{if(C(!0),$r.getStatus().connected){b(!0);const A=await $r.getTransactions(y||void 0);g(A)}}catch(K){console.error("Failed to load pharmacy data:",K),b(!1)}finally{C(!1)}})()},[y]);const Q=()=>{const k=[...j];if(N&&v.length>0){const K=v.map(A=>({id:`pharmacy_${A.id}`,type:"pharmacy",number:A.transactionId,patientName:A.patientName,patientId:A.patientId,date:A.transactionDate,time:A.transactionTime,amount:A.totalAmount,status:A.paymentStatus==="Paid"?"completed":A.paymentStatus==="Pending"?"pending":"cancelled",description:`Pharmacy Purchase - ${A.pharmacyName}`,department:"Pharmacy",paymentMethod:A.paymentMethod,pharmacyData:A,items:A.items.map(T=>({id:T.id,description:`${T.medicationName} (${T.strength}) - ${T.brand}`,quantity:T.quantity,unitPrice:T.unitPrice,totalPrice:T.totalPrice}))}));k.push(...K)}return k.sort((K,A)=>new Date(A.date).getTime()-new Date(K.date).getTime())},U=k=>{switch(k){case"invoice":return e.jsx(bs,{className:"text-blue-600",size:20});case"payment":return e.jsx(js,{className:"text-green-600",size:20});case"pharmacy":return e.jsx(Nr,{className:"text-purple-600",size:20});case"service":return e.jsx(zn,{className:"text-orange-600",size:20});default:return e.jsx(zn,{className:"text-gray-600",size:20})}},V=k=>{switch(k){case"invoice":return"bg-blue-100 text-blue-800";case"payment":return"bg-green-100 text-green-800";case"pharmacy":return"bg-purple-100 text-purple-800";case"service":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},ie=k=>{switch(k){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";case"refunded":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},le=Q().filter(k=>{const K=o===""||k.patientName.toLowerCase().includes(o.toLowerCase())||k.number.toLowerCase().includes(o.toLowerCase())||k.patientId.toLowerCase().includes(o.toLowerCase()),A=s==="all"||k.type===s,T=y===""||k.patientId===y;return K&&A&&T}),we=Q(),Z=we.filter(k=>k.status==="completed"&&(k.type==="invoice"||k.type==="service"||k.type==="pharmacy")).reduce((k,K)=>k+K.amount,0),ne=we.filter(k=>k.status==="completed"&&k.type==="payment").reduce((k,K)=>k+K.amount,0),fe=we.filter(k=>k.status==="pending").reduce((k,K)=>k+K.amount,0),me=we.filter(k=>k.status==="completed"&&k.type==="pharmacy").reduce((k,K)=>k+K.amount,0),se=()=>{try{const K=[["Date","Time","Transaction #","Type","Patient Name","Patient ID","Description","Department","Payment Method","Amount","Status"].join(",")];le.forEach(R=>{const X=[new Date(R.date).toLocaleDateString("en-PH"),R.time||"",R.number,R.type.charAt(0).toUpperCase()+R.type.slice(1),`"${R.patientName}"`,R.patientId,`"${R.description}"`,R.department||"",R.paymentMethod||"",R.amount.toFixed(2),R.status.charAt(0).toUpperCase()+R.status.slice(1)];K.push(X.join(","))});const A=K.join(`
`),T=new Blob([A],{type:"text/csv;charset=utf-8;"}),z=document.createElement("a"),O=URL.createObjectURL(T);z.setAttribute("href",O),z.setAttribute("download",`billing_history_${new Date().toISOString().split("T")[0]}.csv`),z.style.visibility="hidden",document.body.appendChild(z),z.click(),document.body.removeChild(z)}catch(k){console.error("Export failed:",k),alert("Failed to export data. Please try again.")}},te=()=>{try{const k=new Date().toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),K=`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="UTF-8">
          <title>Billing History Report - ${k}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 40px;
              color: #333;
            }
            .header {
              text-align: center;
              margin-bottom: 40px;
              padding-bottom: 20px;
              border-bottom: 3px solid #358E83;
            }
            .header h1 {
              color: #358E83;
              margin: 0;
            }
            .header p {
              margin: 5px 0;
              color: #666;
            }
            .summary {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
              gap: 20px;
              margin-bottom: 40px;
            }
            .summary-card {
              padding: 20px;
              border: 2px solid #e5e7eb;
              border-radius: 8px;
              background: #f9fafb;
            }
            .summary-card h3 {
              margin: 0 0 10px 0;
              color: #666;
              font-size: 14px;
              text-transform: uppercase;
            }
            .summary-card .value {
              font-size: 24px;
              font-weight: bold;
              color: #358E83;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 40px;
            }
            th {
              background: #358E83;
              color: white;
              padding: 12px;
              text-align: left;
              font-weight: 600;
            }
            td {
              padding: 10px 12px;
              border-bottom: 1px solid #e5e7eb;
            }
            tr:hover {
              background: #f9fafb;
            }
            .badge {
              display: inline-block;
              padding: 4px 8px;
              border-radius: 4px;
              font-size: 12px;
              font-weight: 600;
            }
            .badge-completed { background: #dcfce7; color: #166534; }
            .badge-pending { background: #fef3c7; color: #92400e; }
            .badge-cancelled { background: #fee2e2; color: #991b1b; }
            .badge-refunded { background: #f3f4f6; color: #374151; }
            .badge-invoice { background: #dbeafe; color: #1e40af; }
            .badge-payment { background: #dcfce7; color: #166534; }
            .badge-pharmacy { background: #f3e8ff; color: #6b21a8; }
            .badge-service { background: #fed7aa; color: #9a3412; }
            .footer {
              text-align: center;
              margin-top: 40px;
              padding-top: 20px;
              border-top: 2px solid #e5e7eb;
              color: #666;
              font-size: 12px;
            }
            @media print {
              body { margin: 20px; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>MEDICARE HOSPITAL</h1>
            <p>Billing History Report</p>
            <p>Generated on: ${k}</p>
            ${y?`<p>Patient Filter: ${d.find(T=>T.id===y)?.fullDisplay||"Unknown"}</p>`:""}
            ${s!=="all"?`<p>Type Filter: ${s.charAt(0).toUpperCase()+s.slice(1)}</p>`:""}
          </div>

          <div class="summary">
            <div class="summary-card">
              <h3>Total Revenue</h3>
              <div class="value">${Z.toLocaleString("en-PH",{minimumFractionDigits:2})}</div>
            </div>
            <div class="summary-card">
              <h3>Payments Received</h3>
              <div class="value">${ne.toLocaleString("en-PH",{minimumFractionDigits:2})}</div>
            </div>
            <div class="summary-card">
              <h3>Pending Amount</h3>
              <div class="value">${fe.toLocaleString("en-PH",{minimumFractionDigits:2})}</div>
            </div>
            <div class="summary-card">
              <h3>Pharmacy Revenue</h3>
              <div class="value">${me.toLocaleString("en-PH",{minimumFractionDigits:2})}</div>
            </div>
            <div class="summary-card">
              <h3>Total Transactions</h3>
              <div class="value">${le.length}</div>
            </div>
          </div>

          <h2 style="color: #358E83; margin-bottom: 20px;">Transaction Details</h2>
          <table>
            <thead>
              <tr>
                <th>Date</th>
                <th>Transaction #</th>
                <th>Type</th>
                <th>Patient</th>
                <th>Description</th>
                <th>Amount</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              ${le.map(T=>`
                <tr>
                  <td>${new Date(T.date).toLocaleDateString("en-PH")}${T.time?` ${T.time}`:""}</td>
                  <td>${T.number}</td>
                  <td><span class="badge badge-${T.type}">${T.type.charAt(0).toUpperCase()+T.type.slice(1)}</span></td>
                  <td>${T.patientName}<br/><small style="color: #666;">${T.patientId}</small></td>
                  <td>${T.description}${T.department?`<br/><small style="color: #666;">${T.department}</small>`:""}</td>
                  <td style="font-weight: 600;">${T.amount.toLocaleString("en-PH",{minimumFractionDigits:2})}</td>
                  <td><span class="badge badge-${T.status}">${T.status.charAt(0).toUpperCase()+T.status.slice(1)}</span></td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <div class="footer">
            <p>This is a computer-generated report from Medicare Hospital Billing System</p>
            <p>Report generated on ${new Date().toLocaleString("en-PH")}</p>
          </div>

          <div class="no-print" style="text-align: center; margin-top: 30px;">
            <button onclick="window.print()" style="
              background: #358E83;
              color: white;
              padding: 12px 24px;
              border: none;
              border-radius: 6px;
              font-size: 16px;
              cursor: pointer;
              margin-right: 10px;
            ">Print Report</button>
            <button onclick="window.close()" style="
              background: #6b7280;
              color: white;
              padding: 12px 24px;
              border: none;
              border-radius: 6px;
              font-size: 16px;
              cursor: pointer;
            ">Close</button>
          </div>
        </body>
        </html>
      `,A=window.open("","_blank");A?(A.document.write(K),A.document.close()):alert("Please allow pop-ups to generate the report.")}catch(k){console.error("Report generation failed:",k),alert("Failed to generate report. Please try again.")}},L=()=>{if(!D)return;const k=window.open("","_blank");if(!k)return;const K=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Transaction Record - ${D.number}</title>
          <style>
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: Arial, sans-serif;
              padding: 40px;
              color: #333;
            }
            .header {
              text-align: center;
              margin-bottom: 30px;
              padding-bottom: 20px;
              border-bottom: 3px solid #358E83;
            }
            .header h1 {
              color: #358E83;
              font-size: 28px;
              margin-bottom: 5px;
            }
            .header p {
              color: #666;
              font-size: 14px;
              margin: 2px 0;
            }
            .section {
              margin-bottom: 25px;
            }
            .section-title {
              font-size: 16px;
              font-weight: 600;
              color: #358E83;
              margin-bottom: 12px;
              padding-bottom: 8px;
              border-bottom: 2px solid #e5e7eb;
            }
            .info-grid {
              display: grid;
              grid-template-columns: repeat(2, 1fr);
              gap: 15px;
              margin-bottom: 15px;
            }
            .info-item {
              display: flex;
              flex-direction: column;
            }
            .info-label {
              font-size: 12px;
              color: #666;
              margin-bottom: 4px;
            }
            .info-value {
              font-size: 14px;
              font-weight: 600;
              color: #333;
            }
            .badge {
              display: inline-block;
              padding: 4px 10px;
              border-radius: 4px;
              font-size: 12px;
              font-weight: 600;
            }
            .badge-completed { background: #dcfce7; color: #166534; }
            .badge-pending { background: #fef3c7; color: #92400e; }
            .badge-cancelled { background: #fee2e2; color: #991b1b; }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-top: 10px;
            }
            th {
              background: #f3f4f6;
              padding: 10px;
              text-align: left;
              font-size: 12px;
              font-weight: 600;
              color: #374151;
              border: 1px solid #e5e7eb;
            }
            td {
              padding: 10px;
              font-size: 13px;
              border: 1px solid #e5e7eb;
            }
            .amount-summary {
              background: #f9fafb;
              padding: 15px;
              border-radius: 8px;
              margin-top: 20px;
            }
            .amount-row {
              display: flex;
              justify-between;
              padding: 6px 0;
              font-size: 14px;
            }
            .amount-total {
              font-size: 18px;
              font-weight: bold;
              color: #358E83;
              padding-top: 10px;
              margin-top: 10px;
              border-top: 2px solid #e5e7eb;
            }
            .footer {
              margin-top: 40px;
              padding-top: 20px;
              border-top: 2px solid #e5e7eb;
              text-align: center;
              font-size: 11px;
              color: #666;
            }
            @media print {
              body { padding: 20px; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>MEDICARE HOSPITAL</h1>
            <p>123 Health Street, Medical District, Philippines</p>
            <p>Tel: (02) 1234-5678 | Email: billing@medicare.ph</p>
            <p style="margin-top: 10px; font-weight: 600; font-size: 16px;">Transaction Record</p>
          </div>

          <div class="section">
            <div class="section-title">Transaction Information</div>
            <div class="info-grid">
              <div class="info-item">
                <span class="info-label">Transaction Number</span>
                <span class="info-value">${D.number}</span>
              </div>
              <div class="info-item">
                <span class="info-label">Type</span>
                <span class="info-value">${D.type.charAt(0).toUpperCase()+D.type.slice(1)}</span>
              </div>
              <div class="info-item">
                <span class="info-label">Date & Time</span>
                <span class="info-value">${new Date(D.date).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"})}${D.time?`  ${D.time}`:""}</span>
              </div>
              <div class="info-item">
                <span class="info-label">Status</span>
                <span class="badge badge-${D.status}">${D.status.charAt(0).toUpperCase()+D.status.slice(1)}</span>
              </div>
            </div>
          </div>

          <div class="section">
            <div class="section-title">Patient Information</div>
            <div class="info-grid">
              <div class="info-item">
                <span class="info-label">Patient Name</span>
                <span class="info-value">${D.patientName}</span>
              </div>
              <div class="info-item">
                <span class="info-label">Patient ID</span>
                <span class="info-value">${D.patientId}</span>
              </div>
              ${D.department?`
                <div class="info-item">
                  <span class="info-label">Department</span>
                  <span class="info-value">${D.department}</span>
                </div>
              `:""}
              ${D.paymentMethod?`
                <div class="info-item">
                  <span class="info-label">Payment Method</span>
                  <span class="info-value">${D.paymentMethod}</span>
                </div>
              `:""}
            </div>
          </div>

          <div class="section">
            <div class="section-title">Description</div>
            <p style="font-size: 14px; color: #333;">${D.description}</p>
          </div>

          ${D.items&&D.items.length>0?`
            <div class="section">
              <div class="section-title">Items / Services</div>
              <table>
                <thead>
                  <tr>
                    <th>Description</th>
                    <th style="text-align: right;">Qty</th>
                    <th style="text-align: right;">Unit Price</th>
                    <th style="text-align: right;">Total</th>
                  </tr>
                </thead>
                <tbody>
                  ${D.items.map(A=>`
                    <tr>
                      <td>${A.description}</td>
                      <td style="text-align: right;">${A.quantity}</td>
                      <td style="text-align: right;">${A.unitPrice.toLocaleString("en-PH",{minimumFractionDigits:2})}</td>
                      <td style="text-align: right; font-weight: 600;">${A.totalPrice.toLocaleString("en-PH",{minimumFractionDigits:2})}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          `:""}

          ${D.pharmacyData?`
            <div class="section">
              <div class="section-title">Pharmacy Information</div>
              <div class="info-grid">
                <div class="info-item">
                  <span class="info-label">Pharmacy Name</span>
                  <span class="info-value">${D.pharmacyData.pharmacyName}</span>
                </div>
                ${D.pharmacyData.doctorName?`
                  <div class="info-item">
                    <span class="info-label">Prescribed By</span>
                    <span class="info-value">${D.pharmacyData.doctorName}</span>
                  </div>
                `:""}
                <div class="info-item">
                  <span class="info-label">Tax (VAT)</span>
                  <span class="info-value">${D.pharmacyData.tax.toFixed(2)}</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Payment Status</span>
                  <span class="info-value">${D.pharmacyData.paymentStatus}</span>
                </div>
              </div>
            </div>
          `:""}

          <div class="amount-summary">
            ${D.subtotal?`
              <div class="amount-row">
                <span>Subtotal:</span>
                <span style="font-weight: 600;">${D.subtotal.toLocaleString("en-PH",{minimumFractionDigits:2})}</span>
              </div>
            `:""}
            ${D.discount&&D.discount>0?`
              <div class="amount-row" style="color: #16a34a;">
                <span>Discount ${D.discountType?`(${D.discountType})`:""}:</span>
                <span style="font-weight: 600;">
                  -${D.discount.toLocaleString("en-PH",{minimumFractionDigits:2})}
                  ${D.discountPercentage?` (${D.discountPercentage}%)`:""}
                </span>
              </div>
            `:""}
            ${D.tax&&D.tax>0?`
              <div class="amount-row">
                <span>VAT ${D.taxRate?`(${D.taxRate}%)`:"(12%)"}:</span>
                <span style="font-weight: 600;">${D.tax.toLocaleString("en-PH",{minimumFractionDigits:2})}</span>
              </div>
            `:""}
            <div class="amount-row amount-total">
              <span>Total Amount:</span>
              <span>${D.amount.toLocaleString("en-PH",{minimumFractionDigits:2})}</span>
            </div>
          </div>

          <div class="footer">
            <p>This is a computer-generated document from Medicare Hospital Billing System</p>
            <p>Printed on: ${new Date().toLocaleString("en-PH")}</p>
          </div>
        </body>
      </html>
    `;k.document.write(K),k.document.close(),k.focus(),setTimeout(()=>{k.print(),k.close()},250)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(oe,{variant:"outline",onClick:se,children:[e.jsx(Fm,{className:"mr-2",size:16}),"Export"]}),e.jsxs(oe,{className:"bg-[#E94D61] hover:bg-[#E94D61]/90 text-white",onClick:te,children:[e.jsx(bs,{className:"mr-2",size:16}),"Generate Report"]})]})}),N&&e.jsx(je,{children:e.jsx(Se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(sa,{className:"text-[#358E83]",size:20}),e.jsx("span",{className:"font-medium",children:"Integration Status:"}),e.jsx(ct,{className:"bg-green-100 text-green-800",children:"Pharmacy Connected"})]}),e.jsx("div",{className:"flex-1",children:e.jsxs(qt,{value:y,onValueChange:x,children:[e.jsx(Kt,{className:"w-60",children:e.jsx(Gt,{placeholder:"Filter by patient (optional)"})}),e.jsxs(Yt,{children:[e.jsx(Ke,{value:"",children:"All Patients"}),d.map(k=>e.jsx(Ke,{value:k.id,children:k.fullDisplay},k.id))]})]})}),S&&e.jsx(ct,{className:"bg-blue-100 text-blue-800",children:"Syncing..."})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(je,{children:e.jsx(Se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",Z.toLocaleString()]})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:e.jsx(zn,{className:"text-green-600",size:24})})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Payments Received"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",ne.toLocaleString()]})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(js,{className:"text-blue-600",size:24})})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending Amount"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:["",fe.toLocaleString()]})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:e.jsx(em,{className:"text-yellow-600",size:24})})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pharmacy Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["",me.toLocaleString()]})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:e.jsx(Nr,{className:"text-purple-600",size:24})})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Transactions"}),e.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:we.length})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-full",children:e.jsx(bs,{className:"text-indigo-600",size:24})})]})})})]}),e.jsxs(je,{children:[e.jsx(st,{children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx(at,{children:"Transaction History"}),e.jsx(dn,{children:"Complete record of all billing transactions"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[e.jsxs("div",{className:"flex items-center bg-white border rounded-lg px-3 py-2",children:[e.jsx(Ms,{className:"mr-2 text-gray-400",size:16}),e.jsx(Ce,{placeholder:"Search records...",className:"border-0 p-0 focus-visible:ring-0",value:o,onChange:k=>l(k.target.value)})]}),e.jsxs(qt,{value:s,onValueChange:a,children:[e.jsx(Kt,{className:"w-40",children:e.jsx(Gt,{placeholder:"Filter by type"})}),e.jsxs(Yt,{children:[e.jsx(Ke,{value:"all",children:"All Types"}),e.jsx(Ke,{value:"invoice",children:"Invoices"}),e.jsx(Ke,{value:"payment",children:"Payments"}),e.jsx(Ke,{value:"pharmacy",children:"Pharmacy"}),e.jsx(Ke,{value:"service",children:"Services"})]})]})]})]})}),e.jsx(Se,{children:e.jsxs(Rc,{defaultValue:"list",className:"space-y-6",children:[e.jsxs(Tc,{children:[e.jsx(ir,{value:"list",children:"List View"}),e.jsx(ir,{value:"summary",children:"Monthly Summary"})]}),e.jsx(or,{value:"list",children:e.jsxs("div",{className:"space-y-4",children:[le.map(k=>e.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-[#358E83]/10 rounded-lg",children:U(k.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold",children:k.number}),e.jsx(ct,{className:V(k.type),children:k.type.charAt(0).toUpperCase()+k.type.slice(1)}),e.jsx(ct,{className:ie(k.status),children:k.status.charAt(0).toUpperCase()+k.status.slice(1)})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(tc,{size:14}),e.jsxs("span",{children:[k.patientName," (",k.patientId,")"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Wa,{size:14}),e.jsxs("span",{children:[new Date(k.date).toLocaleDateString(),k.time&&e.jsxs("span",{className:"ml-1 text-gray-500",children:[" ",k.time]})]})]}),k.department&&e.jsx(ct,{variant:"outline",children:k.department}),k.paymentMethod&&e.jsx(ct,{variant:"outline",children:k.paymentMethod})]}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:k.description}),k.type==="pharmacy"&&k.items&&k.items.length>0&&e.jsxs("div",{className:"mt-3 p-3 bg-purple-50 rounded-lg",children:[e.jsxs("h4",{className:"font-medium text-purple-800 mb-2 flex items-center gap-1",children:[e.jsx(Nr,{size:14}),"Medications Purchased:"]}),e.jsx("div",{className:"space-y-1",children:k.items.map(K=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-purple-700",children:[K.description," (Qty: ",K.quantity,")"]}),e.jsxs("span",{className:"font-medium text-purple-800",children:["",K.totalPrice.toLocaleString()]})]},K.id))}),k.pharmacyData&&e.jsx("div",{className:"mt-2 pt-2 border-t border-purple-200",children:e.jsxs("div",{className:"flex justify-between text-xs text-purple-600",children:[e.jsxs("span",{children:["Pharmacy: ",k.pharmacyData.pharmacyName]}),k.pharmacyData.doctorName&&e.jsxs("span",{children:["Prescribed by: ",k.pharmacyData.doctorName]})]})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold text-lg",children:["",k.amount.toLocaleString()]}),k.type==="pharmacy"&&k.pharmacyData&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Tax: ",k.pharmacyData.tax.toFixed(2)]})]}),e.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>{q(k),M(!0)},children:e.jsx(Hr,{size:16})})]})]})},k.id)),le.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(em,{className:"mx-auto text-gray-400 mb-4",size:48}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No records found"}),e.jsx("p",{className:"text-gray-600",children:y?"No billing records found for the selected patient.":"Try adjusting your search criteria or filters."}),N&&S&&e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[e.jsx(sa,{className:"animate-spin text-[#358E83]",size:16}),e.jsx("span",{className:"text-sm text-gray-600",children:"Loading pharmacy data..."})]})]})]})}),e.jsx(or,{value:"summary",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(je,{children:[e.jsxs(st,{children:[e.jsx(at,{children:"Monthly Revenue Trend"}),e.jsx(dn,{children:"Revenue comparison over time"})]}),e.jsx(Se,{children:e.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx(zn,{className:"mx-auto text-gray-400 mb-2",size:32}),e.jsx("p",{className:"text-gray-600",children:"Chart visualization coming soon"})]})})})]}),e.jsxs(je,{children:[e.jsxs(st,{children:[e.jsx(at,{children:"Payment Methods"}),e.jsx(dn,{children:"Distribution of payment methods used"})]}),e.jsx(Se,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{children:"GCash"})]}),e.jsx("span",{className:"font-medium",children:"45%"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{children:"Credit Card"})]}),e.jsx("span",{className:"font-medium",children:"30%"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsx("span",{children:"Cash"})]}),e.jsx("span",{className:"font-medium",children:"15%"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),e.jsx("span",{children:"PayMaya"})]}),e.jsx("span",{className:"font-medium",children:"10%"})]})]})})]}),e.jsxs(je,{className:"md:col-span-2",children:[e.jsxs(st,{children:[e.jsx(at,{children:"Revenue by Department"}),e.jsx(dn,{children:"Breakdown of revenue by hospital departments"})]}),e.jsx(Se,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"58,800"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Surgery"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"29,400"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Outpatient"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"15,600"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Radiology"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["",me.toLocaleString()]}),e.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-center gap-1",children:[e.jsx(Nr,{size:14}),"Pharmacy",N&&e.jsx(ct,{className:"bg-green-100 text-green-600 text-xs ml-1",children:"Live"})]})]})]})})]})]})})]})})]}),e.jsx(an,{open:I,onOpenChange:M,children:e.jsxs(Zt,{className:"max-w-2xl",children:[e.jsxs(en,{children:[e.jsx(tn,{children:"Transaction Details"}),e.jsx(un,{children:"Complete information about this billing transaction"})]}),D&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Transaction Number"}),e.jsx("p",{className:"font-semibold",children:D.number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Type"}),e.jsx(ct,{className:V(D.type),children:D.type.charAt(0).toUpperCase()+D.type.slice(1)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Patient Name"}),e.jsx("p",{className:"font-semibold",children:D.patientName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Patient ID"}),e.jsx("p",{className:"font-semibold",children:D.patientId})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Date"}),e.jsxs("p",{className:"font-semibold",children:[new Date(D.date).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),D.time&&`  ${D.time}`]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),e.jsx(ct,{className:ie(D.status),children:D.status.charAt(0).toUpperCase()+D.status.slice(1)})]}),D.department&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Department"}),e.jsx("p",{className:"font-semibold",children:D.department})]}),D.paymentMethod&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Payment Method"}),e.jsx("p",{className:"font-semibold",children:D.paymentMethod})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Description"}),e.jsx("p",{className:"text-gray-900",children:D.description})]}),D.items&&D.items.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Items"}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-700",children:"Qty"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-700",children:"Unit Price"}),e.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-700",children:"Total"})]})}),e.jsx("tbody",{children:D.items.map(k=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-2 text-sm",children:k.description}),e.jsx("td",{className:"px-4 py-2 text-sm text-right",children:k.quantity}),e.jsxs("td",{className:"px-4 py-2 text-sm text-right",children:["",k.unitPrice.toLocaleString()]}),e.jsxs("td",{className:"px-4 py-2 text-sm text-right font-medium",children:["",k.totalPrice.toLocaleString()]})]},k.id))})]})})]}),D.pharmacyData&&e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg space-y-2",children:[e.jsxs("h4",{className:"font-semibold text-purple-900 flex items-center gap-2",children:[e.jsx(Nr,{size:16}),"Pharmacy Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-700",children:"Pharmacy Name"}),e.jsx("p",{className:"font-medium text-purple-900",children:D.pharmacyData.pharmacyName})]}),D.pharmacyData.doctorName&&e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-700",children:"Prescribed By"}),e.jsx("p",{className:"font-medium text-purple-900",children:D.pharmacyData.doctorName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-700",children:"Tax"}),e.jsxs("p",{className:"font-medium text-purple-900",children:["",D.pharmacyData.tax.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-700",children:"Payment Status"}),e.jsx("p",{className:"font-medium text-purple-900",children:D.pharmacyData.paymentStatus})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[D.subtotal&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-700",children:"Subtotal:"}),e.jsxs("span",{className:"font-medium",children:["",D.subtotal.toLocaleString()]})]}),D.discount&&D.discount>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-700",children:["Discount ",D.discountType&&`(${D.discountType})`,":"]}),e.jsxs("span",{className:"font-medium text-green-600",children:["-",D.discount.toLocaleString(),D.discountPercentage&&` (${D.discountPercentage}%)`]})]}),D.tax&&D.tax>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-700",children:["VAT ",D.taxRate&&`(${D.taxRate}%)`,":"]}),e.jsxs("span",{className:"font-medium",children:["",D.tax.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[e.jsx("span",{className:"text-gray-900 font-medium",children:"Total Amount:"}),e.jsxs("span",{className:"font-bold text-lg text-[#358E83]",children:["",D.amount.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsxs(oe,{className:"bg-[#358E83] hover:bg-[#358E83]/90 text-white",onClick:()=>{try{if(D){const k=D.number||D.id||D.number;window.localStorage.setItem("selectedInvoiceForProcessing",String(k))}}catch{}r&&r("payment-processing")},children:[e.jsx(js,{className:"mr-2",size:16}),"Process"]}),e.jsxs(oe,{className:"bg-[#E94D61] hover:bg-[#E94D61]/90 text-white",onClick:L,children:[e.jsx(Xi,{className:"mr-2",size:16}),"Print Record"]})]})]})]})})]})}const Bl=[{value:"senior",label:"Senior Citizen",color:"bg-blue-100 text-blue-800"},{value:"pwd",label:"PWD",color:"bg-green-100 text-green-800"},{value:"employee",label:"Employee",color:"bg-purple-100 text-purple-800"},{value:"insurance",label:"Insurance",color:"bg-orange-100 text-orange-800"},{value:"promotional",label:"Promotional",color:"bg-pink-100 text-pink-800"},{value:"seasonal",label:"Seasonal",color:"bg-yellow-100 text-yellow-800"}],Dx=[{id:"P001",name:"Maria Santos",fullDisplay:"Maria Santos (P001)"},{id:"P002",name:"Juan Dela Cruz",fullDisplay:"Juan Dela Cruz (P002)"},{id:"P003",name:"Anna Reyes",fullDisplay:"Anna Reyes (P003)"},{id:"P004",name:"Roberto Cruz",fullDisplay:"Roberto Cruz (P004)"},{id:"P005",name:"Carmen Flores",fullDisplay:"Carmen Flores (P005)"},{id:"P006",name:"Miguel Torres",fullDisplay:"Miguel Torres (P006)"},{id:"P007",name:"Sofia Garcia",fullDisplay:"Sofia Garcia (P007)"},{id:"P008",name:"Pedro Gonzales",fullDisplay:"Pedro Gonzales (P008)"},{id:"P009",name:"Elena Ramirez",fullDisplay:"Elena Ramirez (P009)"},{id:"P010",name:"Carlos Mendoza",fullDisplay:"Carlos Mendoza (P010)"}];function qA({onNavigateToView:r}){const[s,a]=p.useState(!1),[o,l]=p.useState(!1),[d,u]=p.useState(!1),[f,y]=p.useState(""),[x,v]=p.useState("all"),[g,S]=p.useState(!1),[C,N]=p.useState(null),[b,j]=p.useState(!1),[E,I]=p.useState(null),[M,D]=p.useState(!1),[q,Q]=p.useState(!1),[U,V]=p.useState([{id:"1",code:"SENIOR20",name:"Senior Citizen Discount",type:"percentage",value:20,description:"20% discount for senior citizens (60 years and above)",category:"senior",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!0,usageCount:145,conditions:"Valid ID required. Cannot be combined with other offers."},{id:"2",code:"PWD20",name:"PWD Discount",type:"percentage",value:20,description:"20% discount for Persons with Disabilities",category:"pwd",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!0,usageCount:89,conditions:"Valid PWD ID required."},{id:"3",code:"EMP15",name:"Employee Discount",type:"percentage",value:15,description:"15% discount for hospital employees and their families",category:"employee",startDate:"2025-01-01",endDate:"2025-12-31",isActive:!0,usageCount:67,conditions:"Valid employee ID required."},{id:"4",code:"NEWYEAR2025",name:"New Year Health Check",type:"percentage",value:30,description:"30% off all diagnostic tests for January",category:"seasonal",startDate:"2025-01-01",endDate:"2025-01-31",isActive:!0,usageCount:23,maxUsage:100,applicableServices:["Blood Test","X-Ray","ECG","Ultrasound"]}]),[ie,le]=p.useState([{id:"app_001",discountCode:"SENIOR20",patientId:"P001",patientName:"Maria Santos",originalAmount:5e3,discountAmount:1e3,finalAmount:4e3,appliedDate:"2025-01-05",invoiceNumber:"INV-2025-001",status:"applied"},{id:"app_002",discountCode:"PWD20",patientId:"P003",patientName:"Anna Reyes",originalAmount:3500,discountAmount:700,finalAmount:2800,appliedDate:"2025-01-04",invoiceNumber:"INV-2025-003",status:"applied"}]),[we,Z]=p.useState([{id:"1",title:"New Year Health Package",description:"Start your year right with our comprehensive health check package at 30% off!",discountCode:"NEWYEAR2025",validFrom:"2025-01-01",validTo:"2025-01-31",isActive:!0,targetAudience:"General Public"},{id:"2",title:"Valentine's Couple Checkup",description:"Bring your loved one for a health screening and save 25% on both consultations.",discountCode:"VALENTINE25",validFrom:"2025-02-01",validTo:"2025-02-28",isActive:!1,targetAudience:"Couples"}]),[ne,fe]=p.useState({code:"",name:"",type:"percentage",value:0,description:"",category:"",startDate:"",endDate:"",conditions:""}),[me,se]=p.useState({patientId:"",discountCode:"",originalAmount:"",invoiceNumber:""}),[te,L]=p.useState({title:"",description:"",discountCode:"",validFrom:"",validTo:"",targetAudience:""}),k=H=>{V(U.map(Ge=>Ge.id===H?{...Ge,isActive:!Ge.isActive}:Ge))},K=()=>{if(!ne.code||!ne.name||!ne.category||!ne.startDate||!ne.endDate){alert("Please fill in all required fields");return}const H={id:Date.now().toString(),code:ne.code,name:ne.name,type:ne.type,value:ne.value,description:ne.description,category:ne.category,startDate:ne.startDate,endDate:ne.endDate,isActive:!0,usageCount:0,conditions:ne.conditions};V([...U,H]),fe({code:"",name:"",type:"percentage",value:0,description:"",category:"",startDate:"",endDate:"",conditions:""}),a(!1),alert(`Discount code "${H.code}" created successfully!`)},A=H=>{N(H),S(!0)},T=()=>{C&&(V(U.filter(H=>H.id!==C)),ce.success("Discount deleted successfully"),S(!1),N(null))},z=()=>{if(!me.patientId||!me.discountCode||!me.originalAmount){ce.error("Please fill in all required fields");return}const H=U.find(Oe=>Oe.code===me.discountCode&&Oe.isActive);if(!H){ce.error("Invalid or inactive discount code");return}const Ge=parseFloat(me.originalAmount);if(Ge<=0){ce.error("Please enter a valid amount");return}const ht=Dx.find(Oe=>Oe.id===me.patientId);if(!ht){ce.error("Please select a valid patient");return}let ae=0;H.type==="percentage"?ae=Ge*H.value/100:H.type==="fixed"&&(ae=Math.min(H.value,Ge));const Xe={id:Date.now().toString(),discountCode:H.code,patientId:ht.id,patientName:ht.name,originalAmount:Ge,discountAmount:ae,finalAmount:Ge-ae,appliedDate:new Date().toISOString().split("T")[0],invoiceNumber:me.invoiceNumber||`INV-${Date.now()}`,status:"applied"};le([...ie,Xe]),V(U.map(Oe=>Oe.id===H.id?{...Oe,usageCount:Oe.usageCount+1}:Oe)),se({patientId:"",discountCode:"",originalAmount:"",invoiceNumber:""}),u(!1),ce.success(`Discount applied successfully! Saved ${ae.toLocaleString()}`)},O=()=>{if(!me.discountCode||!me.originalAmount)return null;const H=U.find(ae=>ae.code===me.discountCode&&ae.isActive);if(!H)return null;const Ge=parseFloat(me.originalAmount);if(Ge<=0)return null;let ht=0;return H.type==="percentage"?ht=Ge*H.value/100:H.type==="fixed"&&(ht=Math.min(H.value,Ge)),{original:Ge,discount:ht,final:Ge-ht}},R=async()=>{if(!te.title||!te.discountCode||!te.validFrom||!te.validTo){ce.error("Please fill in all required fields");return}Q(!0),await new Promise(Ge=>setTimeout(Ge,1500));const H={id:Date.now().toString(),title:te.title,description:te.description,discountCode:te.discountCode,validFrom:te.validFrom,validTo:te.validTo,isActive:new Date(te.validFrom)<=new Date&&new Date(te.validTo)>=new Date,targetAudience:te.targetAudience};Z([...we,H]),L({title:"",description:"",discountCode:"",validFrom:"",validTo:"",targetAudience:""}),Q(!1),l(!1),ce.success(`Promotion "${H.title}" created successfully!`)},X=H=>{I(H),j(!0)},B=()=>{E&&(Z(we.filter(H=>H.id!==E)),ce.success("Promotion deleted successfully"),j(!1),I(null))},Y=H=>Bl.find(Ge=>Ge.value===H)||Bl[0],he=U.filter(H=>{const Ge=H.code.toLowerCase().includes(f.toLowerCase())||H.name.toLowerCase().includes(f.toLowerCase())||H.description.toLowerCase().includes(f.toLowerCase()),ht=x==="all"||H.category===x;return Ge&&ht}),Ne=H=>{switch(H.type){case"percentage":return`${H.value}%`;case"fixed":return`${H.value.toLocaleString()}`;case"service":return"Service Specific";default:return H.value.toString()}},Qe=U.filter(H=>H.isActive).length,Je=U.reduce((H,Ge)=>H+Ge.usageCount,0),yt=U.reduce((H,Ge)=>H+(Ge.type==="percentage"?Ge.value:0),0)/U.filter(H=>H.type==="percentage").length,kt=ie.reduce((H,Ge)=>H+Ge.discountAmount,0);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(oe,{onClick:()=>u(!0),variant:"outline",className:"border-[#358E83] text-[#358E83] hover:bg-[#358E83] hover:text-white",children:[e.jsx(Gi,{className:"mr-2",size:16}),"Apply Discount"]}),e.jsxs(oe,{onClick:()=>l(!0),variant:"outline",className:"border-[#E94D61] text-[#E94D61] hover:bg-[#E94D61] hover:text-white",children:[e.jsx(na,{className:"mr-2",size:16}),"Create Promotion"]}),e.jsxs(oe,{onClick:()=>a(!0),className:"bg-[#E94D61] hover:bg-[#E94D61]/90 text-white",children:[e.jsx(Ya,{className:"mr-2",size:16}),"Create Discount"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(je,{children:e.jsx(Se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Discounts"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:Qe})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:e.jsx(Sr,{className:"text-green-600",size:24})})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Usage"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Je})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(yn,{className:"text-blue-600",size:24})})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Discount"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[yt.toFixed(1),"%"]})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:e.jsx(Jx,{className:"text-purple-600",size:24})})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Savings"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",kt.toLocaleString()]})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:e.jsx(Gi,{className:"text-green-600",size:24})})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Promos"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:we.filter(H=>H.isActive).length})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:e.jsx(na,{className:"text-orange-600",size:24})})]})})})]}),e.jsx(an,{open:d,onOpenChange:u,children:e.jsxs(Zt,{className:"max-w-md",children:[e.jsxs(en,{children:[e.jsxs(tn,{className:"flex items-center gap-2",children:[e.jsx(Gi,{className:"text-[#358E83]",size:20}),"Apply Discount"]}),e.jsx(un,{children:"Apply a discount code to a patient's bill"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"patientSelect",children:"Select Patient"}),e.jsxs(qt,{value:me.patientId,onValueChange:H=>se({...me,patientId:H}),children:[e.jsx(Kt,{children:e.jsx(Gt,{placeholder:"Select a patient"})}),e.jsx(Yt,{children:Dx.map(H=>e.jsx(Ke,{value:H.id,children:H.fullDisplay},H.id))})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"discountCodeSelect",children:"Discount Code"}),e.jsxs(qt,{value:me.discountCode,onValueChange:H=>se({...me,discountCode:H}),children:[e.jsx(Kt,{children:e.jsx(Gt,{placeholder:"Select discount code"})}),e.jsx(Yt,{children:U.filter(H=>H.isActive).map(H=>e.jsxs(Ke,{value:H.code,children:[H.code," - ",Ne(H)," OFF"]},H.code))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"originalAmount",children:"Original Amount ()"}),e.jsx(Ce,{id:"originalAmount",type:"number",min:"0",step:"0.01",value:me.originalAmount,onChange:H=>se({...me,originalAmount:H.target.value}),placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"invoiceNumberApply",children:"Invoice Number"}),e.jsx(Ce,{id:"invoiceNumberApply",value:me.invoiceNumber,onChange:H=>se({...me,invoiceNumber:H.target.value}),placeholder:"INV-XXXX-XXX"})]})]}),(()=>{const H=O();return H?e.jsxs("div",{className:"bg-[#358E83]/10 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-[#358E83] mb-2",children:"Discount Preview:"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Original Amount:"}),e.jsxs("span",{children:["",H.original.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount:"}),e.jsxs("span",{children:["-",H.discount.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-1",children:[e.jsx("span",{children:"Final Amount:"}),e.jsxs("span",{children:["",H.final.toLocaleString()]})]})]})]}):null})(),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(oe,{className:"bg-[#358E83] hover:bg-[#358E83]/90 flex-1",onClick:z,children:"Apply Discount"}),e.jsx(oe,{variant:"outline",onClick:()=>u(!1),children:"Cancel"})]})]})]})}),o&&e.jsxs(je,{children:[e.jsxs(st,{className:"bg-[#E94D61] text-white",children:[e.jsxs(at,{className:"flex items-center",children:[e.jsx(na,{className:"mr-2",size:20}),"Create New Promotion"]}),e.jsx(dn,{className:"text-white/80",children:"Set up a new promotional campaign"})]}),e.jsxs(Se,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"promotionTitle",children:"Promotion Title"}),e.jsx(Ce,{id:"promotionTitle",value:te.title,onChange:H=>L({...te,title:H.target.value}),placeholder:"e.g., New Year Health Package"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"targetAudience",children:"Target Audience"}),e.jsx(Ce,{id:"targetAudience",value:te.targetAudience,onChange:H=>L({...te,targetAudience:H.target.value}),placeholder:"e.g., General Public, Couples"})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"promotionDescription",children:"Description"}),e.jsx(aa,{id:"promotionDescription",value:te.description,onChange:H=>L({...te,description:H.target.value}),placeholder:"Describe the promotional offer and its benefits",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"promotionDiscountCode",children:"Associated Discount Code"}),e.jsxs(qt,{value:te.discountCode,onValueChange:H=>L({...te,discountCode:H}),children:[e.jsx(Kt,{children:e.jsx(Gt,{placeholder:"Select discount code"})}),e.jsx(Yt,{children:U.map(H=>e.jsxs(Ke,{value:H.code,children:[H.code," - ",Ne(H)," OFF"]},H.code))})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"promotionValidFrom",children:"Valid From"}),e.jsx(Ce,{id:"promotionValidFrom",type:"date",value:te.validFrom,onChange:H=>L({...te,validFrom:H.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"promotionValidTo",children:"Valid To"}),e.jsx(Ce,{id:"promotionValidTo",type:"date",value:te.validTo,onChange:H=>L({...te,validTo:H.target.value})})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(oe,{className:"bg-[#E94D61] hover:bg-[#E94D61]/90",onClick:R,children:"Create Promotion"}),e.jsx(oe,{variant:"outline",onClick:()=>l(!1),children:"Cancel"})]})]})]}),s&&e.jsxs(je,{children:[e.jsxs(st,{className:"bg-[#358E83] text-white",children:[e.jsxs(at,{className:"flex items-center",children:[e.jsx(Sr,{className:"mr-2",size:20}),"Create New Discount"]}),e.jsx(dn,{className:"text-white/80",children:"Set up a new discount code for patients"})]}),e.jsxs(Se,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"discountCode",children:"Discount Code"}),e.jsx(Ce,{id:"discountCode",value:ne.code,onChange:H=>fe({...ne,code:H.target.value.toUpperCase()}),placeholder:"e.g., SENIOR20, PWD15"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"discountName",children:"Discount Name"}),e.jsx(Ce,{id:"discountName",value:ne.name,onChange:H=>fe({...ne,name:H.target.value}),placeholder:"e.g., Senior Citizen Discount"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"discountCategory",children:"Category"}),e.jsxs(qt,{value:ne.category,onValueChange:H=>fe({...ne,category:H}),children:[e.jsx(Kt,{children:e.jsx(Gt,{placeholder:"Select category"})}),e.jsx(Yt,{children:Bl.map(H=>e.jsx(Ke,{value:H.value,children:H.label},H.value))})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"discountType",children:"Discount Type"}),e.jsxs(qt,{value:ne.type,onValueChange:H=>fe({...ne,type:H}),children:[e.jsx(Kt,{children:e.jsx(Gt,{placeholder:"Select type"})}),e.jsxs(Yt,{children:[e.jsx(Ke,{value:"percentage",children:"Percentage (%)"}),e.jsx(Ke,{value:"fixed",children:"Fixed Amount ()"}),e.jsx(Ke,{value:"service",children:"Service Specific"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"discountValue",children:ne.type==="percentage"?"Percentage (%)":ne.type==="fixed"?"Amount ()":"Value"}),e.jsx(Ce,{id:"discountValue",type:"number",min:"0",max:ne.type==="percentage"?"100":void 0,value:ne.value,onChange:H=>fe({...ne,value:parseFloat(H.target.value)||0}),placeholder:ne.type==="percentage"?"20":"1000"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"startDate",children:"Start Date"}),e.jsx(Ce,{id:"startDate",type:"date",value:ne.startDate,onChange:H=>fe({...ne,startDate:H.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"endDate",children:"End Date"}),e.jsx(Ce,{id:"endDate",type:"date",value:ne.endDate,onChange:H=>fe({...ne,endDate:H.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"description",children:"Description"}),e.jsx(aa,{id:"description",value:ne.description,onChange:H=>fe({...ne,description:H.target.value}),placeholder:"Describe the discount and its purpose",rows:3})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"conditions",children:"Terms & Conditions"}),e.jsx(aa,{id:"conditions",value:ne.conditions,onChange:H=>fe({...ne,conditions:H.target.value}),placeholder:"List any conditions or requirements for this discount",rows:2})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(oe,{className:"bg-[#358E83] hover:bg-[#358E83]/90",onClick:K,children:"Create Discount"}),e.jsx(oe,{variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]})]}),e.jsxs(Rc,{defaultValue:"discounts",className:"space-y-6",children:[e.jsxs(Tc,{children:[e.jsx(ir,{value:"discounts",children:"Discount Codes"}),e.jsx(ir,{value:"applications",children:"Applications"}),e.jsx(ir,{value:"promotions",children:"Promotions"})]}),e.jsx(or,{value:"discounts",children:e.jsxs(je,{children:[e.jsx(st,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(at,{children:"Discount Codes"}),e.jsx(dn,{children:"Manage available discount codes and their usage"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center bg-white border rounded-lg px-3 py-2",children:[e.jsx(Ms,{className:"mr-2 text-gray-400",size:16}),e.jsx(Ce,{placeholder:"Search discounts...",className:"border-0 p-0 focus-visible:ring-0",value:f,onChange:H=>y(H.target.value)})]}),e.jsxs(qt,{value:x,onValueChange:v,children:[e.jsx(Kt,{className:"w-40",children:e.jsx(Gt,{placeholder:"All Categories"})}),e.jsxs(Yt,{children:[e.jsx(Ke,{value:"all",children:"All Categories"}),Bl.map(H=>e.jsx(Ke,{value:H.value,children:H.label},H.value))]})]})]})]})}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-4",children:he.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Sr,{className:"mx-auto mb-4 text-gray-400",size:48}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No discounts found"}),e.jsx("p",{className:"text-gray-600",children:f||x!=="all"?"Try adjusting your search criteria or filters.":"Create your first discount code to get started."})]}):he.map(H=>{const Ge=Y(H.category);return e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-[#358E83]/10 rounded-lg",children:e.jsx(Sr,{className:"text-[#358E83]",size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:H.code}),e.jsx(ct,{className:Ge.color,children:Ge.label}),e.jsxs(ct,{variant:"outline",className:"font-bold",children:[Ne(H)," OFF"]}),H.isActive?e.jsx(ct,{className:"bg-green-100 text-green-800",children:"Active"}):e.jsx(ct,{className:"bg-gray-100 text-gray-800",children:"Inactive"})]}),e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:H.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:H.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Wa,{size:12}),e.jsxs("span",{children:[new Date(H.startDate).toLocaleDateString()," - ",new Date(H.endDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(yn,{size:12}),e.jsxs("span",{children:["Used ",H.usageCount," times"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{htmlFor:`toggle-${H.id}`,className:"text-sm",children:H.isActive?"Active":"Inactive"}),e.jsx(Ur,{id:`toggle-${H.id}`,checked:H.isActive,onCheckedChange:()=>k(H.id)})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(oe,{variant:"ghost",size:"sm",children:e.jsx(Hr,{size:16})}),e.jsx(oe,{variant:"ghost",size:"sm",children:e.jsx(ec,{size:16})}),e.jsx(oe,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-800",onClick:()=>A(H.id),children:e.jsx(qr,{size:16})})]})]})]})},H.id)})})})]})}),e.jsx(or,{value:"applications",children:e.jsxs(je,{children:[e.jsx(st,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(at,{children:"Discount Applications"}),e.jsx(dn,{children:"Track applied discounts and patient savings"})]})})}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-4",children:ie.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(gN,{className:"mx-auto mb-4 text-gray-400",size:48}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No discount applications"}),e.jsx("p",{className:"text-gray-600",children:"Start applying discounts to patient bills to see them here."})]}):ie.map(H=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-[#358E83]/10 rounded-lg",children:e.jsx(Gi,{className:"text-[#358E83]",size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:H.discountCode}),e.jsx(ct,{className:"bg-green-100 text-green-800",children:"Applied"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(tc,{size:14}),e.jsxs("span",{children:[H.patientName," (",H.patientId,")"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Wa,{size:14}),e.jsx("span",{children:new Date(H.appliedDate).toLocaleDateString()})]}),e.jsx(ct,{variant:"outline",children:H.invoiceNumber})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Original:"}),e.jsxs("div",{className:"font-medium",children:["",H.originalAmount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Discount:"}),e.jsxs("div",{className:"font-medium text-green-600",children:["-",H.discountAmount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Final:"}),e.jsxs("div",{className:"font-bold",children:["",H.finalAmount.toLocaleString()]})]})]})]})]}),e.jsx("div",{className:"flex gap-1",children:e.jsx(oe,{variant:"ghost",size:"sm",children:e.jsx(Hr,{size:16})})})]})},H.id))})})]})}),e.jsx(or,{value:"promotions",children:e.jsxs(je,{children:[e.jsx(st,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(at,{children:"Active Promotions"}),e.jsx(dn,{children:"Manage promotional campaigns and offers"})]})})}),e.jsx(Se,{children:e.jsx("div",{className:"space-y-4",children:we.map(H=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-[#E94D61]/10 rounded-lg",children:e.jsx(na,{className:"text-[#E94D61]",size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:H.title}),H.isActive?e.jsx(ct,{className:"bg-green-100 text-green-800",children:"Active"}):e.jsx(ct,{className:"bg-gray-100 text-gray-800",children:"Scheduled"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:H.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Sr,{size:12}),e.jsxs("span",{children:["Code: ",H.discountCode]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Wa,{size:12}),e.jsxs("span",{children:[new Date(H.validFrom).toLocaleDateString()," - ",new Date(H.validTo).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(yn,{size:12}),e.jsx("span",{children:H.targetAudience})]})]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(oe,{variant:"ghost",size:"sm",children:e.jsx(Hr,{size:16})}),e.jsx(oe,{variant:"ghost",size:"sm",children:e.jsx(ec,{size:16})}),e.jsx(oe,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-800",onClick:()=>X(H.id),children:e.jsx(qr,{size:16})})]})]})},H.id))})})]})})]}),e.jsx(Es,{open:g,onOpenChange:S,children:e.jsxs(Ds,{children:[e.jsxs(ks,{children:[e.jsx(Rs,{children:"Delete Discount"}),e.jsx(ua,{children:"Are you sure you want to delete this discount code? This action cannot be undone and may affect existing applications."})]}),e.jsxs(As,{children:[e.jsx(Is,{children:"Cancel"}),e.jsx(Ts,{onClick:T,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})}),e.jsx(Es,{open:b,onOpenChange:j,children:e.jsxs(Ds,{children:[e.jsxs(ks,{children:[e.jsx(Rs,{children:"Delete Promotion"}),e.jsx(ua,{children:"Are you sure you want to delete this promotion? This action cannot be undone."})]}),e.jsxs(As,{children:[e.jsx(Is,{children:"Cancel"}),e.jsx(Ts,{onClick:B,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})}),e.jsx(an,{open:M,onOpenChange:()=>{},children:e.jsxs(Zt,{className:"sm:max-w-md [&>button]:hidden",children:[e.jsxs(en,{children:[e.jsx(tn,{className:"sr-only",children:"Creating Discount"}),e.jsx(un,{className:"sr-only",children:"Please wait while we create the discount code"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-[#358E83] border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Creating Discount"}),e.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Please wait while we create the discount code..."})]})]})}),e.jsx(an,{open:q,onOpenChange:()=>{},children:e.jsxs(Zt,{className:"sm:max-w-md [&>button]:hidden",children:[e.jsxs(en,{children:[e.jsx(tn,{className:"sr-only",children:"Creating Promotion"}),e.jsx(un,{className:"sr-only",children:"Please wait while we create the promotion"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-[#E94D61] border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Creating Promotion"}),e.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Please wait while we create the promotion..."})]})]})})]})}const Qu=[{value:"senior",label:"Senior Citizen",color:"bg-blue-100 text-blue-800"},{value:"pwd",label:"PWD",color:"bg-green-100 text-green-800"},{value:"employee",label:"Employee",color:"bg-purple-100 text-purple-800"},{value:"insurance",label:"Insurance",color:"bg-orange-100 text-orange-800"},{value:"promotional",label:"Promotional",color:"bg-pink-100 text-pink-800"},{value:"seasonal",label:"Seasonal",color:"bg-yellow-100 text-yellow-800"}];function GA({onNavigateToView:r}){const[s,a]=p.useState(!1),[o,l]=p.useState(!1),[d,u]=p.useState(""),[f,y]=p.useState("all"),[x,v]=p.useState(!1),[g,S]=p.useState(null),[C,N]=p.useState(!1),[b,j]=p.useState(null),[E,I]=p.useState(!1),[M,D]=p.useState(!1),[q,Q]=p.useState([]),[U,V]=p.useState([]);p.useEffect(()=>{ie()},[]);const ie=()=>{Q(bn.getAllDiscounts()),V(bn.getAllPromotions())},[le,we]=p.useState({code:"",name:"",type:"percentage",value:0,description:"",startDate:"",endDate:"",conditions:""}),[Z,ne]=p.useState({title:"",description:"",discountCode:"",validFrom:"",validTo:"",targetAudience:""}),fe=O=>{try{bn.toggleDiscountStatus(O),ie(),ce.success("Discount status updated")}catch{ce.error("Failed to update discount status")}},me=()=>{if(!le.code||!le.name||!le.startDate||!le.endDate){ce.error("Please fill in all required fields");return}I(!0);try{const O=bn.createDiscount({code:le.code,name:le.name,type:le.type,value:le.value,description:le.description,category:le.category||"promotional",startDate:le.startDate,endDate:le.endDate,isActive:!0,conditions:le.conditions},"Admin");ie(),we({code:"",name:"",type:"percentage",value:0,description:"",startDate:"",endDate:"",conditions:""}),a(!1),ce.success(`Discount code "${O.code}" created successfully!`)}catch(O){ce.error(O.message||"Failed to create discount")}finally{I(!1)}},se=O=>{S(O),v(!0)},te=()=>{if(g){try{bn.deleteDiscount(g),ie(),ce.success("Discount deleted successfully")}catch{ce.error("Failed to delete discount")}S(null)}v(!1)},L=()=>{if(!Z.title||!Z.discountCode||!Z.validFrom||!Z.validTo){ce.error("Please fill in all required fields");return}D(!0);try{bn.createPromotion({title:Z.title,description:Z.description,discountCode:Z.discountCode,validFrom:Z.validFrom,validTo:Z.validTo,isActive:!0,targetAudience:Z.targetAudience},"Admin"),ie(),ne({title:"",description:"",discountCode:"",validFrom:"",validTo:"",targetAudience:""}),l(!1),ce.success("Promotion created successfully!")}catch(O){ce.error(O.message||"Failed to create promotion")}finally{D(!1)}},k=O=>{j(O),N(!0)},K=()=>{if(b){try{bn.deletePromotion(b),ie(),ce.success("Promotion deleted successfully")}catch{ce.error("Failed to delete promotion")}j(null)}N(!1)},A=O=>{try{bn.togglePromotionStatus(O),ie(),ce.success("Promotion status updated")}catch{ce.error("Failed to update promotion status")}},T=q.filter(O=>{const R=O.code.toLowerCase().includes(d.toLowerCase())||O.name.toLowerCase().includes(d.toLowerCase())||O.description.toLowerCase().includes(d.toLowerCase()),X=f==="all"||O.category===f;return R&&X}),z=O=>{const R=Qu.find(X=>X.value===O);return R?R.color:"bg-gray-100 text-gray-800"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(je,{children:e.jsx(Se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Discounts"}),e.jsx("p",{className:"text-2xl font-bold",children:q.length})]}),e.jsx(Sr,{className:"text-[#358E83]",size:32})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Discounts"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:q.filter(O=>O.isActive).length})]}),e.jsx(a2,{className:"text-green-600",size:32})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Usage"}),e.jsx("p",{className:"text-2xl font-bold",children:q.reduce((O,R)=>O+R.usageCount,0)})]}),e.jsx(yn,{className:"text-blue-600",size:32})]})})}),e.jsx(je,{children:e.jsx(Se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Promotions"}),e.jsx("p",{className:"text-2xl font-bold",children:U.length})]}),e.jsx(na,{className:"text-purple-600",size:32})]})})})]}),e.jsxs(Rc,{defaultValue:"discounts",className:"space-y-6",children:[e.jsxs(Tc,{className:"grid w-full grid-cols-2",children:[e.jsx(ir,{value:"discounts",children:"Discount Codes"}),e.jsx(ir,{value:"promotions",children:"Promotional Campaigns"})]}),e.jsx(or,{value:"discounts",className:"space-y-4",children:e.jsxs(je,{children:[e.jsx(st,{className:"bg-[#358E83] text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(at,{className:"flex items-center",children:[e.jsx(Sr,{className:"mr-2",size:20}),"Discount Management"]}),e.jsx(dn,{className:"text-white/80",children:"Create, manage, and track discount codes"})]}),e.jsxs(oe,{onClick:()=>a(!0),className:"bg-white text-[#358E83] hover:bg-gray-100",children:[e.jsx(Ya,{className:"mr-2",size:16}),"Create Discount"]})]})}),e.jsxs(Se,{className:"p-6",children:[e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx(Ce,{placeholder:"Search discounts...",value:d,onChange:O=>u(O.target.value),className:"pl-10"})]}),e.jsxs(qt,{value:f,onValueChange:y,children:[e.jsx(Kt,{className:"w-48",children:e.jsx(Gt,{placeholder:"Filter by category"})}),e.jsxs(Yt,{children:[e.jsx(Ke,{value:"all",children:"All Categories"}),Qu.map(O=>e.jsx(Ke,{value:O.value,children:O.label},O.value))]})]})]}),e.jsx("div",{className:"space-y-3",children:T.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Sr,{className:"mx-auto mb-3 opacity-50",size:48}),e.jsx("p",{children:"No discounts found"})]}):T.map(O=>e.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h4",{className:"font-semibold",children:O.name}),e.jsx(ct,{className:z(O.category),children:Qu.find(R=>R.value===O.category)?.label}),O.isActive?e.jsx(ct,{className:"bg-green-100 text-green-800",children:"Active"}):e.jsx(ct,{variant:"secondary",children:"Inactive"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Code"}),e.jsx("p",{className:"font-mono font-semibold",children:O.code})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Discount"}),e.jsx("p",{className:"font-semibold",children:O.type==="percentage"?`${O.value}%`:`${O.value}`})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Usage"}),e.jsxs("p",{className:"font-semibold",children:[O.usageCount," times"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Valid Until"}),e.jsx("p",{className:"font-semibold",children:new Date(O.endDate).toLocaleDateString("en-PH")})]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:O.description}),O.conditions&&e.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:O.conditions})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx(Ur,{checked:O.isActive,onCheckedChange:()=>fe(O.id)}),e.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>se(O.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(qr,{size:16})})]})]})},O.id))})]})]})}),e.jsx(or,{value:"promotions",className:"space-y-4",children:e.jsxs(je,{children:[e.jsx(st,{className:"bg-[#358E83] text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(at,{className:"flex items-center",children:[e.jsx(na,{className:"mr-2",size:20}),"Promotional Campaigns"]}),e.jsx(dn,{className:"text-white/80",children:"Manage marketing promotions and campaigns"})]}),e.jsxs(oe,{onClick:()=>l(!0),className:"bg-white text-[#358E83] hover:bg-gray-100",children:[e.jsx(Ya,{className:"mr-2",size:16}),"Create Promotion"]})]})}),e.jsx(Se,{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:U.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(na,{className:"mx-auto mb-3 opacity-50",size:48}),e.jsx("p",{children:"No promotions found"})]}):U.map(O=>e.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h4",{className:"font-semibold",children:O.title}),O.isActive?e.jsx(ct,{className:"bg-green-100 text-green-800",children:"Active"}):e.jsx(ct,{variant:"secondary",children:"Inactive"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:O.description}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Discount Code"}),e.jsx("p",{className:"font-mono font-semibold",children:O.discountCode})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Valid Period"}),e.jsxs("p",{className:"font-semibold",children:[new Date(O.validFrom).toLocaleDateString("en-PH")," - ",new Date(O.validTo).toLocaleDateString("en-PH")]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Target Audience"}),e.jsx("p",{className:"font-semibold",children:O.targetAudience})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx(Ur,{checked:O.isActive,onCheckedChange:()=>A(O.id)}),e.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>k(O.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(qr,{size:16})})]})]})},O.id))})})]})})]}),e.jsx(an,{open:s,onOpenChange:a,children:e.jsxs(Zt,{className:"max-w-2xl",children:[e.jsxs(en,{children:[e.jsx(tn,{children:"Create New Discount"}),e.jsx(un,{children:"Set up a new discount code for patients"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"discount-code",children:"Discount Code *"}),e.jsx(Ce,{id:"discount-code",placeholder:"e.g., SENIOR20",value:le.code,onChange:O=>we({...le,code:O.target.value.toUpperCase()})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"discount-name",children:"Discount Name *"}),e.jsx(Ce,{id:"discount-name",placeholder:"e.g., Senior Citizen Discount",value:le.name,onChange:O=>we({...le,name:O.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"discount-type",children:"Type *"}),e.jsxs(qt,{value:le.type,onValueChange:O=>we({...le,type:O}),children:[e.jsx(Kt,{children:e.jsx(Gt,{})}),e.jsxs(Yt,{children:[e.jsx(Ke,{value:"percentage",children:"Percentage"}),e.jsx(Ke,{value:"fixed",children:"Fixed Amount"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"discount-value",children:"Value *"}),e.jsx(Ce,{id:"discount-value",type:"number",placeholder:le.type==="percentage"?"20":"500",value:le.value||"",onChange:O=>we({...le,value:parseFloat(O.target.value)||0})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"discount-description",children:"Description"}),e.jsx(aa,{id:"discount-description",placeholder:"Describe the discount...",value:le.description,onChange:O=>we({...le,description:O.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"start-date",children:"Start Date *"}),e.jsx(Ce,{id:"start-date",type:"date",value:le.startDate,onChange:O=>we({...le,startDate:O.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"end-date",children:"End Date *"}),e.jsx(Ce,{id:"end-date",type:"date",value:le.endDate,onChange:O=>we({...le,endDate:O.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"conditions",children:"Terms and Conditions"}),e.jsx(aa,{id:"conditions",placeholder:"Enter any conditions or restrictions...",value:le.conditions,onChange:O=>we({...le,conditions:O.target.value})})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(oe,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(oe,{onClick:me,disabled:E,className:"bg-[#358E83] hover:bg-[#358E83]/90",children:E?"Creating...":"Create Discount"})]})]})]})}),e.jsx(an,{open:o,onOpenChange:l,children:e.jsxs(Zt,{className:"max-w-2xl",children:[e.jsxs(en,{children:[e.jsx(tn,{children:"Create New Promotion"}),e.jsx(un,{children:"Set up a promotional campaign"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"promo-title",children:"Promotion Title *"}),e.jsx(Ce,{id:"promo-title",placeholder:"e.g., New Year Health Package",value:Z.title,onChange:O=>ne({...Z,title:O.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"promo-description",children:"Description *"}),e.jsx(aa,{id:"promo-description",placeholder:"Describe the promotion...",value:Z.description,onChange:O=>ne({...Z,description:O.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"promo-code",children:"Discount Code *"}),e.jsx(Ce,{id:"promo-code",placeholder:"e.g., NEWYEAR2025",value:Z.discountCode,onChange:O=>ne({...Z,discountCode:O.target.value.toUpperCase()})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"target-audience",children:"Target Audience"}),e.jsx(Ce,{id:"target-audience",placeholder:"e.g., General Public",value:Z.targetAudience,onChange:O=>ne({...Z,targetAudience:O.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"promo-start",children:"Valid From *"}),e.jsx(Ce,{id:"promo-start",type:"date",value:Z.validFrom,onChange:O=>ne({...Z,validFrom:O.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ue,{htmlFor:"promo-end",children:"Valid To *"}),e.jsx(Ce,{id:"promo-end",type:"date",value:Z.validTo,onChange:O=>ne({...Z,validTo:O.target.value})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(oe,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(oe,{onClick:L,disabled:M,className:"bg-[#358E83] hover:bg-[#358E83]/90",children:M?"Creating...":"Create Promotion"})]})]})]})}),e.jsx(Es,{open:x,onOpenChange:v,children:e.jsxs(Ds,{children:[e.jsxs(ks,{children:[e.jsx(Rs,{children:"Delete Discount?"}),e.jsx(ua,{children:"This will permanently delete this discount code. This action cannot be undone."})]}),e.jsxs(As,{children:[e.jsx(Is,{children:"Cancel"}),e.jsx(Ts,{onClick:te,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})}),e.jsx(Es,{open:C,onOpenChange:N,children:e.jsxs(Ds,{children:[e.jsxs(ks,{children:[e.jsx(Rs,{children:"Delete Promotion?"}),e.jsx(ua,{children:"This will permanently delete this promotional campaign. This action cannot be undone."})]}),e.jsxs(As,{children:[e.jsx(Is,{children:"Cancel"}),e.jsx(Ts,{onClick:K,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}function KA({className:r,...s}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:Ye("w-full caption-bottom text-sm",r),...s})})}function YA({className:r,...s}){return e.jsx("thead",{"data-slot":"table-header",className:Ye("[&_tr]:border-b",r),...s})}function QA({className:r,...s}){return e.jsx("tbody",{"data-slot":"table-body",className:Ye("[&_tr:last-child]:border-0",r),...s})}function kx({className:r,...s}){return e.jsx("tr",{"data-slot":"table-row",className:Ye("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",r),...s})}function ea({className:r,...s}){return e.jsx("th",{"data-slot":"table-head",className:Ye("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})}function ta({className:r,...s}){return e.jsx("td",{"data-slot":"table-cell",className:Ye("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})}var km=["Enter"," "],XA=["ArrowDown","PageUp","Home"],iw=["ArrowUp","PageDown","End"],JA=[...XA,...iw],ZA={ltr:[...km,"ArrowRight"],rtl:[...km,"ArrowLeft"]},e5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yo="Menu",[no,t5,n5]=Gm(yo),[pa,ow]=dr(yo,[n5,si,kc]),Bc=si(),lw=kc(),[r5,ha]=pa(yo),[s5,vo]=pa(yo),cw=r=>{const{__scopeMenu:s,open:a=!1,children:o,dir:l,onOpenChange:d,modal:u=!0}=r,f=Bc(s),[y,x]=p.useState(null),v=p.useRef(!1),g=Dr(d),S=wc(l);return p.useEffect(()=>{const C=()=>{v.current=!0,document.addEventListener("pointerdown",N,{capture:!0,once:!0}),document.addEventListener("pointermove",N,{capture:!0,once:!0})},N=()=>v.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",N,{capture:!0}),document.removeEventListener("pointermove",N,{capture:!0})}},[]),e.jsx(nf,{...f,children:e.jsx(r5,{scope:s,open:a,onOpenChange:g,content:y,onContentChange:x,children:e.jsx(s5,{scope:s,onClose:p.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:v,dir:S,modal:u,children:o})})})};cw.displayName=yo;var a5="MenuAnchor",ff=p.forwardRef((r,s)=>{const{__scopeMenu:a,...o}=r,l=Bc(a);return e.jsx(Cc,{...l,...o,ref:s})});ff.displayName=a5;var pf="MenuPortal",[i5,dw]=pa(pf,{forceMount:void 0}),uw=r=>{const{__scopeMenu:s,forceMount:a,children:o,container:l}=r,d=ha(pf,s);return e.jsx(i5,{scope:s,forceMount:a,children:e.jsx(ur,{present:a||d.open,children:e.jsx(oo,{asChild:!0,container:l,children:o})})})};uw.displayName=pf;var Yn="MenuContent",[o5,hf]=pa(Yn),mw=p.forwardRef((r,s)=>{const a=dw(Yn,r.__scopeMenu),{forceMount:o=a.forceMount,...l}=r,d=ha(Yn,r.__scopeMenu),u=vo(Yn,r.__scopeMenu);return e.jsx(no.Provider,{scope:r.__scopeMenu,children:e.jsx(ur,{present:o||d.open,children:e.jsx(no.Slot,{scope:r.__scopeMenu,children:u.modal?e.jsx(l5,{...l,ref:s}):e.jsx(c5,{...l,ref:s})})})})}),l5=p.forwardRef((r,s)=>{const a=ha(Yn,r.__scopeMenu),o=p.useRef(null),l=xt(s,o);return p.useEffect(()=>{const d=o.current;if(d)return gc(d)},[]),e.jsx(gf,{...r,ref:l,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:Ae(r.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),c5=p.forwardRef((r,s)=>{const a=ha(Yn,r.__scopeMenu);return e.jsx(gf,{...r,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),d5=Ns("MenuContent.ScrollLock"),gf=p.forwardRef((r,s)=>{const{__scopeMenu:a,loop:o=!1,trapFocus:l,onOpenAutoFocus:d,onCloseAutoFocus:u,disableOutsidePointerEvents:f,onEntryFocus:y,onEscapeKeyDown:x,onPointerDownOutside:v,onFocusOutside:g,onInteractOutside:S,onDismiss:C,disableOutsideScroll:N,...b}=r,j=ha(Yn,a),E=vo(Yn,a),I=Bc(a),M=lw(a),D=t5(a),[q,Q]=p.useState(null),U=p.useRef(null),V=xt(s,U,j.onContentChange),ie=p.useRef(0),le=p.useRef(""),we=p.useRef(0),Z=p.useRef(null),ne=p.useRef("right"),fe=p.useRef(0),me=N?lo:p.Fragment,se=N?{as:d5,allowPinchZoom:!0}:void 0,te=k=>{const K=le.current+k,A=D().filter(B=>!B.disabled),T=document.activeElement,z=A.find(B=>B.ref.current===T)?.textValue,O=A.map(B=>B.textValue),R=b5(O,K,z),X=A.find(B=>B.textValue===R)?.ref.current;(function B(Y){le.current=Y,window.clearTimeout(ie.current),Y!==""&&(ie.current=window.setTimeout(()=>B(""),1e3))})(K),X&&setTimeout(()=>X.focus())};p.useEffect(()=>()=>window.clearTimeout(ie.current),[]),pc();const L=p.useCallback(k=>ne.current===Z.current?.side&&S5(k,Z.current?.area),[]);return e.jsx(o5,{scope:a,searchRef:le,onItemEnter:p.useCallback(k=>{L(k)&&k.preventDefault()},[L]),onItemLeave:p.useCallback(k=>{L(k)||(U.current?.focus(),Q(null))},[L]),onTriggerLeave:p.useCallback(k=>{L(k)&&k.preventDefault()},[L]),pointerGraceTimerRef:we,onPointerGraceIntentChange:p.useCallback(k=>{Z.current=k},[]),children:e.jsx(me,{...se,children:e.jsx(io,{asChild:!0,trapped:l,onMountAutoFocus:Ae(d,k=>{k.preventDefault(),U.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:e.jsx(ao,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:x,onPointerDownOutside:v,onFocusOutside:g,onInteractOutside:S,onDismiss:C,children:e.jsx(By,{asChild:!0,...M,dir:E.dir,orientation:"vertical",loop:o,currentTabStopId:q,onCurrentTabStopIdChange:Q,onEntryFocus:Ae(y,k=>{E.isUsingKeyboardRef.current||k.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(rf,{role:"menu","aria-orientation":"vertical","data-state":Dw(j.open),"data-radix-menu-content":"",dir:E.dir,...I,...b,ref:V,style:{outline:"none",...b.style},onKeyDown:Ae(b.onKeyDown,k=>{const A=k.target.closest("[data-radix-menu-content]")===k.currentTarget,T=k.ctrlKey||k.altKey||k.metaKey,z=k.key.length===1;A&&(k.key==="Tab"&&k.preventDefault(),!T&&z&&te(k.key));const O=U.current;if(k.target!==O||!JA.includes(k.key))return;k.preventDefault();const X=D().filter(B=>!B.disabled).map(B=>B.ref.current);iw.includes(k.key)&&X.reverse(),w5(X)}),onBlur:Ae(r.onBlur,k=>{k.currentTarget.contains(k.target)||(window.clearTimeout(ie.current),le.current="")}),onPointerMove:Ae(r.onPointerMove,ro(k=>{const K=k.target,A=fe.current!==k.clientX;if(k.currentTarget.contains(K)&&A){const T=k.clientX>fe.current?"right":"left";ne.current=T,fe.current=k.clientX}}))})})})})})})});mw.displayName=Yn;var u5="MenuGroup",xf=p.forwardRef((r,s)=>{const{__scopeMenu:a,...o}=r;return e.jsx(qe.div,{role:"group",...o,ref:s})});xf.displayName=u5;var m5="MenuLabel",fw=p.forwardRef((r,s)=>{const{__scopeMenu:a,...o}=r;return e.jsx(qe.div,{...o,ref:s})});fw.displayName=m5;var dc="MenuItem",Ax="menu.itemSelect",Uc=p.forwardRef((r,s)=>{const{disabled:a=!1,onSelect:o,...l}=r,d=p.useRef(null),u=vo(dc,r.__scopeMenu),f=hf(dc,r.__scopeMenu),y=xt(s,d),x=p.useRef(!1),v=()=>{const g=d.current;if(!a&&g){const S=new CustomEvent(Ax,{bubbles:!0,cancelable:!0});g.addEventListener(Ax,C=>o?.(C),{once:!0}),a0(g,S),S.defaultPrevented?x.current=!1:u.onClose()}};return e.jsx(pw,{...l,ref:y,disabled:a,onClick:Ae(r.onClick,v),onPointerDown:g=>{r.onPointerDown?.(g),x.current=!0},onPointerUp:Ae(r.onPointerUp,g=>{x.current||g.currentTarget?.click()}),onKeyDown:Ae(r.onKeyDown,g=>{const S=f.searchRef.current!=="";a||S&&g.key===" "||km.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Uc.displayName=dc;var pw=p.forwardRef((r,s)=>{const{__scopeMenu:a,disabled:o=!1,textValue:l,...d}=r,u=hf(dc,a),f=lw(a),y=p.useRef(null),x=xt(s,y),[v,g]=p.useState(!1),[S,C]=p.useState("");return p.useEffect(()=>{const N=y.current;N&&C((N.textContent??"").trim())},[d.children]),e.jsx(no.ItemSlot,{scope:a,disabled:o,textValue:l??S,children:e.jsx(Uy,{asChild:!0,...f,focusable:!o,children:e.jsx(qe.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...d,ref:x,onPointerMove:Ae(r.onPointerMove,ro(N=>{o?u.onItemLeave(N):(u.onItemEnter(N),N.defaultPrevented||N.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ae(r.onPointerLeave,ro(N=>u.onItemLeave(N))),onFocus:Ae(r.onFocus,()=>g(!0)),onBlur:Ae(r.onBlur,()=>g(!1))})})})}),f5="MenuCheckboxItem",hw=p.forwardRef((r,s)=>{const{checked:a=!1,onCheckedChange:o,...l}=r;return e.jsx(ww,{scope:r.__scopeMenu,checked:a,children:e.jsx(Uc,{role:"menuitemcheckbox","aria-checked":uc(a)?"mixed":a,...l,ref:s,"data-state":vf(a),onSelect:Ae(l.onSelect,()=>o?.(uc(a)?!0:!a),{checkForDefaultPrevented:!1})})})});hw.displayName=f5;var gw="MenuRadioGroup",[p5,h5]=pa(gw,{value:void 0,onValueChange:()=>{}}),xw=p.forwardRef((r,s)=>{const{value:a,onValueChange:o,...l}=r,d=Dr(o);return e.jsx(p5,{scope:r.__scopeMenu,value:a,onValueChange:d,children:e.jsx(xf,{...l,ref:s})})});xw.displayName=gw;var yw="MenuRadioItem",vw=p.forwardRef((r,s)=>{const{value:a,...o}=r,l=h5(yw,r.__scopeMenu),d=a===l.value;return e.jsx(ww,{scope:r.__scopeMenu,checked:d,children:e.jsx(Uc,{role:"menuitemradio","aria-checked":d,...o,ref:s,"data-state":vf(d),onSelect:Ae(o.onSelect,()=>l.onValueChange?.(a),{checkForDefaultPrevented:!1})})})});vw.displayName=yw;var yf="MenuItemIndicator",[ww,g5]=pa(yf,{checked:!1}),jw=p.forwardRef((r,s)=>{const{__scopeMenu:a,forceMount:o,...l}=r,d=g5(yf,a);return e.jsx(ur,{present:o||uc(d.checked)||d.checked===!0,children:e.jsx(qe.span,{...l,ref:s,"data-state":vf(d.checked)})})});jw.displayName=yf;var x5="MenuSeparator",bw=p.forwardRef((r,s)=>{const{__scopeMenu:a,...o}=r;return e.jsx(qe.div,{role:"separator","aria-orientation":"horizontal",...o,ref:s})});bw.displayName=x5;var y5="MenuArrow",Nw=p.forwardRef((r,s)=>{const{__scopeMenu:a,...o}=r,l=Bc(a);return e.jsx(sf,{...l,...o,ref:s})});Nw.displayName=y5;var v5="MenuSub",[W4,Sw]=pa(v5),Yi="MenuSubTrigger",Cw=p.forwardRef((r,s)=>{const a=ha(Yi,r.__scopeMenu),o=vo(Yi,r.__scopeMenu),l=Sw(Yi,r.__scopeMenu),d=hf(Yi,r.__scopeMenu),u=p.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:y}=d,x={__scopeMenu:r.__scopeMenu},v=p.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return p.useEffect(()=>v,[v]),p.useEffect(()=>{const g=f.current;return()=>{window.clearTimeout(g),y(null)}},[f,y]),e.jsx(ff,{asChild:!0,...x,children:e.jsx(pw,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":l.contentId,"data-state":Dw(a.open),...r,ref:Vr(s,l.onTriggerChange),onClick:g=>{r.onClick?.(g),!(r.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:Ae(r.onPointerMove,ro(g=>{d.onItemEnter(g),!g.defaultPrevented&&!r.disabled&&!a.open&&!u.current&&(d.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{a.onOpenChange(!0),v()},100))})),onPointerLeave:Ae(r.onPointerLeave,ro(g=>{v();const S=a.content?.getBoundingClientRect();if(S){const C=a.content?.dataset.side,N=C==="right",b=N?-5:5,j=S[N?"left":"right"],E=S[N?"right":"left"];d.onPointerGraceIntentChange({area:[{x:g.clientX+b,y:g.clientY},{x:j,y:S.top},{x:E,y:S.top},{x:E,y:S.bottom},{x:j,y:S.bottom}],side:C}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>d.onPointerGraceIntentChange(null),300)}else{if(d.onTriggerLeave(g),g.defaultPrevented)return;d.onPointerGraceIntentChange(null)}})),onKeyDown:Ae(r.onKeyDown,g=>{const S=d.searchRef.current!=="";r.disabled||S&&g.key===" "||ZA[o.dir].includes(g.key)&&(a.onOpenChange(!0),a.content?.focus(),g.preventDefault())})})})});Cw.displayName=Yi;var Pw="MenuSubContent",Ew=p.forwardRef((r,s)=>{const a=dw(Yn,r.__scopeMenu),{forceMount:o=a.forceMount,...l}=r,d=ha(Yn,r.__scopeMenu),u=vo(Yn,r.__scopeMenu),f=Sw(Pw,r.__scopeMenu),y=p.useRef(null),x=xt(s,y);return e.jsx(no.Provider,{scope:r.__scopeMenu,children:e.jsx(ur,{present:o||d.open,children:e.jsx(no.Slot,{scope:r.__scopeMenu,children:e.jsx(gf,{id:f.contentId,"aria-labelledby":f.triggerId,...l,ref:x,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{u.isUsingKeyboardRef.current&&y.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Ae(r.onFocusOutside,v=>{v.target!==f.trigger&&d.onOpenChange(!1)}),onEscapeKeyDown:Ae(r.onEscapeKeyDown,v=>{u.onClose(),v.preventDefault()}),onKeyDown:Ae(r.onKeyDown,v=>{const g=v.currentTarget.contains(v.target),S=e5[u.dir].includes(v.key);g&&S&&(d.onOpenChange(!1),f.trigger?.focus(),v.preventDefault())})})})})})});Ew.displayName=Pw;function Dw(r){return r?"open":"closed"}function uc(r){return r==="indeterminate"}function vf(r){return uc(r)?"indeterminate":r?"checked":"unchecked"}function w5(r){const s=document.activeElement;for(const a of r)if(a===s||(a.focus(),document.activeElement!==s))return}function j5(r,s){return r.map((a,o)=>r[(s+o)%r.length])}function b5(r,s,a){const l=s.length>1&&Array.from(s).every(x=>x===s[0])?s[0]:s,d=a?r.indexOf(a):-1;let u=j5(r,Math.max(d,0));l.length===1&&(u=u.filter(x=>x!==a));const y=u.find(x=>x.toLowerCase().startsWith(l.toLowerCase()));return y!==a?y:void 0}function N5(r,s){const{x:a,y:o}=r;let l=!1;for(let d=0,u=s.length-1;d<s.length;u=d++){const f=s[d],y=s[u],x=f.x,v=f.y,g=y.x,S=y.y;v>o!=S>o&&a<(g-x)*(o-v)/(S-v)+x&&(l=!l)}return l}function S5(r,s){if(!s)return!1;const a={x:r.clientX,y:r.clientY};return N5(a,s)}function ro(r){return s=>s.pointerType==="mouse"?r(s):void 0}var C5=cw,P5=ff,E5=uw,D5=mw,k5=xf,A5=fw,R5=Uc,T5=hw,I5=xw,_5=vw,M5=jw,O5=bw,L5=Nw,F5=Cw,z5=Ew,Hc="DropdownMenu",[$5]=dr(Hc,[ow]),Nn=ow(),[B5,kw]=$5(Hc),Aw=r=>{const{__scopeDropdownMenu:s,children:a,dir:o,open:l,defaultOpen:d,onOpenChange:u,modal:f=!0}=r,y=Nn(s),x=p.useRef(null),[v,g]=Ss({prop:l,defaultProp:d??!1,onChange:u,caller:Hc});return e.jsx(B5,{scope:s,triggerId:mn(),triggerRef:x,contentId:mn(),open:v,onOpenChange:g,onOpenToggle:p.useCallback(()=>g(S=>!S),[g]),modal:f,children:e.jsx(C5,{...y,open:v,onOpenChange:g,dir:o,modal:f,children:a})})};Aw.displayName=Hc;var Rw="DropdownMenuTrigger",Tw=p.forwardRef((r,s)=>{const{__scopeDropdownMenu:a,disabled:o=!1,...l}=r,d=kw(Rw,a),u=Nn(a);return e.jsx(P5,{asChild:!0,...u,children:e.jsx(qe.button,{type:"button",id:d.triggerId,"aria-haspopup":"menu","aria-expanded":d.open,"aria-controls":d.open?d.contentId:void 0,"data-state":d.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...l,ref:Vr(s,d.triggerRef),onPointerDown:Ae(r.onPointerDown,f=>{!o&&f.button===0&&f.ctrlKey===!1&&(d.onOpenToggle(),d.open||f.preventDefault())}),onKeyDown:Ae(r.onKeyDown,f=>{o||(["Enter"," "].includes(f.key)&&d.onOpenToggle(),f.key==="ArrowDown"&&d.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});Tw.displayName=Rw;var U5="DropdownMenuPortal",Iw=r=>{const{__scopeDropdownMenu:s,...a}=r,o=Nn(s);return e.jsx(E5,{...o,...a})};Iw.displayName=U5;var _w="DropdownMenuContent",Mw=p.forwardRef((r,s)=>{const{__scopeDropdownMenu:a,...o}=r,l=kw(_w,a),d=Nn(a),u=p.useRef(!1);return e.jsx(D5,{id:l.contentId,"aria-labelledby":l.triggerId,...d,...o,ref:s,onCloseAutoFocus:Ae(r.onCloseAutoFocus,f=>{u.current||l.triggerRef.current?.focus(),u.current=!1,f.preventDefault()}),onInteractOutside:Ae(r.onInteractOutside,f=>{const y=f.detail.originalEvent,x=y.button===0&&y.ctrlKey===!0,v=y.button===2||x;(!l.modal||v)&&(u.current=!0)}),style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Mw.displayName=_w;var H5="DropdownMenuGroup",V5=p.forwardRef((r,s)=>{const{__scopeDropdownMenu:a,...o}=r,l=Nn(a);return e.jsx(k5,{...l,...o,ref:s})});V5.displayName=H5;var W5="DropdownMenuLabel",q5=p.forwardRef((r,s)=>{const{__scopeDropdownMenu:a,...o}=r,l=Nn(a);return e.jsx(A5,{...l,...o,ref:s})});q5.displayName=W5;var G5="DropdownMenuItem",Ow=p.forwardRef((r,s)=>{const{__scopeDropdownMenu:a,...o}=r,l=Nn(a);return e.jsx(R5,{...l,...o,ref:s})});Ow.displayName=G5;var K5="DropdownMenuCheckboxItem",Y5=p.forwardRef((r,s)=>{const{__scopeDropdownMenu:a,...o}=r,l=Nn(a);return e.jsx(T5,{...l,...o,ref:s})});Y5.displayName=K5;var Q5="DropdownMenuRadioGroup",X5=p.forwardRef((r,s)=>{const{__scopeDropdownMenu:a,...o}=r,l=Nn(a);return e.jsx(I5,{...l,...o,ref:s})});X5.displayName=Q5;var J5="DropdownMenuRadioItem",Z5=p.forwardRef((r,s)=>{const{__scopeDropdownMenu:a,...o}=r,l=Nn(a);return e.jsx(_5,{...l,...o,ref:s})});Z5.displayName=J5;var e4="DropdownMenuItemIndicator",t4=p.forwardRef((r,s)=>{const{__scopeDropdownMenu:a,...o}=r,l=Nn(a);return e.jsx(M5,{...l,...o,ref:s})});t4.displayName=e4;var n4="DropdownMenuSeparator",r4=p.forwardRef((r,s)=>{const{__scopeDropdownMenu:a,...o}=r,l=Nn(a);return e.jsx(O5,{...l,...o,ref:s})});r4.displayName=n4;var s4="DropdownMenuArrow",a4=p.forwardRef((r,s)=>{const{__scopeDropdownMenu:a,...o}=r,l=Nn(a);return e.jsx(L5,{...l,...o,ref:s})});a4.displayName=s4;var i4="DropdownMenuSubTrigger",o4=p.forwardRef((r,s)=>{const{__scopeDropdownMenu:a,...o}=r,l=Nn(a);return e.jsx(F5,{...l,...o,ref:s})});o4.displayName=i4;var l4="DropdownMenuSubContent",c4=p.forwardRef((r,s)=>{const{__scopeDropdownMenu:a,...o}=r,l=Nn(a);return e.jsx(z5,{...l,...o,ref:s,style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});c4.displayName=l4;var d4=Aw,u4=Tw,m4=Iw,f4=Mw,p4=Ow;function Am({...r}){return e.jsx(d4,{"data-slot":"dropdown-menu",...r})}function Rm({...r}){return e.jsx(u4,{"data-slot":"dropdown-menu-trigger",...r})}function Tm({className:r,sideOffset:s=4,...a}){return e.jsx(m4,{children:e.jsx(f4,{"data-slot":"dropdown-menu-content",sideOffset:s,className:Ye("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",r),...a})})}function Br({className:r,inset:s,variant:a="default",...o}){return e.jsx(p4,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":a,className:Ye("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...o})}function h4({onNavigateToView:r}){const[s,a]=p.useState(""),[o,l]=p.useState("all"),[d,u]=p.useState("all"),[f,y]=p.useState(!1),[x,v]=p.useState(!1),[g,S]=p.useState(null),[C,N]=p.useState({newPassword:"",confirmPassword:""}),[b,j]=p.useState([]),[E,I]=p.useState(!1),[M,D]=p.useState(!1),[q,Q]=p.useState(null),[U,V]=p.useState(!1),[ie,le]=p.useState(null),[we,Z]=p.useState([]),[ne,fe]=p.useState(!1),[me,se]=p.useState(!1),[te,L]=p.useState([]),[k,K]=p.useState({name:"",email:"",password:"",confirmPassword:"",role:"Cashier",permissions:[]}),A=te.filter(ae=>{const Xe=ae.email.toLowerCase().includes(s.toLowerCase())||ae.role.toLowerCase().includes(s.toLowerCase())||ae.name.toLowerCase().includes(s.toLowerCase()),Oe=o==="all"||ae.role===o,$e=d==="all"||ae.status===d;return Xe&&Oe&&$e}),T={Admin:["Full Access","User Management","System Settings","Billing Management","Invoice Generation","Payment Processing","Reports","Discounts Management"],Cashier:["Billing Management","Invoice Generation","Payment Processing","Reports"]},z=p.useCallback(async()=>{D(!0),Q(null);try{const ae=await fetch("/api/users"),Xe=await ae.text(),Oe=(ae.headers.get("content-type")||"").toLowerCase();if(!ae.ok){const tt=Xe?Xe.substring(0,400):"";throw new Error(`Server returned ${ae.status}: ${tt}`)}if(!Oe.includes("application/json")){const tt=Xe?Xe.substring(0,400):"";throw new Error(`Expected JSON but server returned '${Oe}'. Response snippet: ${tt}`)}let $e;try{$e=JSON.parse(Xe)}catch(tt){throw new Error(`Failed to parse JSON response: ${tt instanceof Error?tt.message:String(tt)}. Response snippet: ${Xe.substring(0,400)}`)}const rt=(Array.isArray($e)?$e:$e.users||$e.data||[]).map((tt,jt)=>({id:tt._id&&String(tt._id)||tt.id&&String(tt.id)||String(Date.now()+jt),name:tt.name||tt.fullName||tt.displayName||(tt.email?tt.email.split("@")[0]:"Unknown"),email:tt.email||"",role:tt.role==="Admin"?"Admin":"Cashier",status:tt.status==="Inactive"?"Inactive":"Active",lastLogin:tt.lastLogin||"Never",createdAt:tt.createdAt?new Date(tt.createdAt).toISOString().split("T")[0]:tt.createdAt||new Date().toISOString().split("T")[0],permissions:tt.permissions||[]}));L(rt)}catch(ae){Q(ae?.message||"Failed to fetch users"),ce.error(ae?.message||"Failed to fetch users")}finally{D(!1)}},[]);p.useEffect(()=>{z()},[z]);const O=()=>{if(!k.name)return ce.error("Name is required");if(!k.email)return ce.error("Email is required");if(!k.password)return ce.error("Password is required");if(k.password.length<8)return ce.error("Password must be at least 8 characters long");if(k.password!==k.confirmPassword)return ce.error("Passwords do not match");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k.email))return ce.error("Please enter a valid email address");if(te.some($e=>$e.email.toLowerCase()===k.email.toLowerCase()))return ce.error("User with this email already exists");const Oe={name:k.name,email:k.email.toLowerCase(),password:k.password,role:k.role.toLowerCase(),status:"Active"};fe(!0),(async()=>{try{const $e=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Oe)}),nt=await $e.text(),rt=($e.headers.get("content-type")||"").toLowerCase();if(!$e.ok)throw new Error(nt||`Server returned ${$e.status}`);const tt=rt.includes("application/json")&&nt?JSON.parse(nt):{},jt=tt.data||tt,W={id:jt._id&&String(jt._id)||jt.id&&String(jt.id)||String(Date.now()),name:jt.name||Oe.name,email:jt.email||Oe.email,role:jt.role&&(jt.role==="admin"?"Admin":"Cashier")||(Oe.role==="admin"?"Admin":"Cashier"),status:jt.status||"Active",lastLogin:jt.lastLogin||"Never",createdAt:jt.createdAt?new Date(jt.createdAt).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],permissions:jt.permissions||(Oe.role==="admin"?T.Admin:T.Cashier)};L(be=>[...be,W]),K({name:"",email:"",password:"",confirmPassword:"",role:"Cashier",permissions:[]}),y(!1),ce.success(tt?.message||"User created successfully")}catch($e){ce.error($e?.message||"Failed to create user")}finally{fe(!1)}})()},R=ae=>{S(ae),N({newPassword:"",confirmPassword:""}),v(!0)},X=()=>{if(g){if(C.newPassword){if(C.newPassword.length<8)return ce.error("Password must be at least 8 characters long");if(C.newPassword!==C.confirmPassword)return ce.error("Passwords do not match")}se(!0),(async()=>{try{const ae={name:g.name,email:g.email,role:g.role.toLowerCase(),status:g.status};C.newPassword&&(ae.password=C.newPassword);const Xe=await fetch(`/api/users/${g.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)}),Oe=await Xe.text(),$e=(Xe.headers.get("content-type")||"").toLowerCase();if(!Xe.ok)throw new Error(Oe||`Server returned ${Xe.status}`);const nt=$e.includes("application/json")&&Oe?JSON.parse(Oe):{},rt=nt.data||nt,tt={id:rt._id&&String(rt._id)||rt.id&&String(rt.id)||g.id,name:rt.name||g.name,email:rt.email||g.email,role:rt.role&&(rt.role==="admin"?"Admin":"Cashier")||g.role,status:rt.status||g.status,lastLogin:rt.lastLogin||g.lastLogin,createdAt:rt.createdAt?new Date(rt.createdAt).toISOString().split("T")[0]:g.createdAt,permissions:rt.permissions||g.permissions};L(jt=>jt.map(W=>W.id===tt.id?tt:W)),v(!1),S(null),N({newPassword:"",confirmPassword:""}),ce.success(nt?.message||"User updated successfully")}catch(ae){ce.error(ae?.message||"Failed to update user")}finally{se(!1)}})()}},B=ae=>{const Xe=te.find(Oe=>Oe.id===ae);if(Xe&&Xe.role==="Admin"&&Xe.status==="Active"&&te.filter($e=>$e.role==="Admin"&&$e.status==="Active").length<=1){ce.error("Cannot deactivate the last active admin user");return}L(te.map(Oe=>{if(Oe.id===ae){const $e=Oe.status==="Active"?"Inactive":"Active";return ce.success(`User ${Oe.email} ${$e.toLowerCase()}`),{...Oe,status:$e}}return Oe}))},Y=async ae=>{if(!te.find($e=>$e.id===ae))return;const Oe=te;L($e=>$e.filter(nt=>nt.id!==ae)),Z($e=>[...$e,ae]);try{const $e=await fetch(`/api/users/${ae}`,{method:"DELETE"}),nt=await $e.text(),rt=($e.headers.get("content-type")||"").toLowerCase();if(!$e.ok){const jt=nt?nt.substring(0,400):"";throw new Error(`Server returned ${$e.status}: ${jt}`)}let tt={};if(rt.includes("application/json")&&nt)try{tt=JSON.parse(nt)}catch{}ce.success(tt?.message||"User deleted successfully")}catch($e){L(Oe),ce.error($e?.message||"Failed to delete user")}finally{Z($e=>$e.filter(nt=>nt!==ae)),le(null),V(!1)}},he=ae=>ae==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",Ne=ae=>ae==="Admin"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800",Qe=ae=>{j(Xe=>Xe.includes(ae)?Xe.filter(Oe=>Oe!==ae):[...Xe,ae])},Je=()=>{b.length===A.length?j([]):j(A.map(ae=>ae.id))},yt=()=>{L(te.map(ae=>b.includes(ae.id)?{...ae,status:"Active"}:ae)),j([]),ce.success(`${b.length} users activated`)},kt=()=>{const ae=te.filter(Oe=>Oe.role==="Admin"&&Oe.status==="Active").map(Oe=>Oe.id);if(b.filter(Oe=>ae.includes(Oe)).length===ae.length&&ae.length>0){ce.error("Cannot deactivate all admin users");return}L(te.map(Oe=>b.includes(Oe.id)?{...Oe,status:"Inactive"}:Oe)),j([]),ce.success(`${b.length} users deactivated`)},H=()=>{const Xe=[["Name","Email","Role","Status","Last Login","Created","Permissions"],...A.map(rt=>[rt.name,rt.email,rt.role,rt.status,rt.lastLogin,rt.createdAt,rt.permissions.join("; ")])].map(rt=>rt.join(",")).join(`
`),Oe=new Blob([Xe],{type:"text/csv"}),$e=URL.createObjectURL(Oe),nt=document.createElement("a");nt.href=$e,nt.download="users-export.csv",nt.click(),URL.revokeObjectURL($e),ce.success("User data exported successfully")},Ge=ae=>{ce.success(`Password reset email sent to ${ae.email}`)},ht=ae=>{ce.success(`Invitation email sent to ${ae.email}`)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-[#358E83] rounded-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-white",children:"User Management"}),e.jsx("p",{className:"text-white/90 mt-1",children:"Manage system users, roles, and permissions"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{variant:"outline",className:"text-white border-white/30",onClick:z,disabled:M,children:M?"Refreshing...":"Refresh"}),e.jsxs(an,{open:f,onOpenChange:y,children:[e.jsx(kC,{asChild:!0,children:e.jsxs(oe,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30",children:[e.jsx(n0,{className:"h-4 w-4 mr-2"}),"Add User"]})}),e.jsxs(Zt,{className:"sm:max-w-md",children:[e.jsxs(en,{children:[e.jsx(tn,{children:"Create New User"}),e.jsx(un,{children:"Add a new user to the billing system with appropriate role and permissions."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"name",children:"Full Name"}),e.jsx(Ce,{id:"name",type:"text",value:k.name,onChange:ae=>K({...k,name:ae.target.value}),placeholder:"Enter full name"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"email",children:"Email"}),e.jsx(Ce,{id:"email",type:"email",value:k.email,onChange:ae=>K({...k,email:ae.target.value}),placeholder:"user@hospital.com"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"password",children:"Password"}),e.jsx(Ce,{id:"password",type:"password",value:k.password,onChange:ae=>K({...k,password:ae.target.value}),placeholder:"Enter a secure password"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 8 characters long"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx(Ce,{id:"confirmPassword",type:"password",value:k.confirmPassword,onChange:ae=>K({...k,confirmPassword:ae.target.value}),placeholder:"Confirm your password"})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"role",children:"Role"}),e.jsxs(qt,{value:k.role,onValueChange:ae=>K({...k,role:ae}),children:[e.jsx(Kt,{children:e.jsx(Gt,{})}),e.jsxs(Yt,{children:[e.jsx(Ke,{value:"Admin",children:"Admin"}),e.jsx(Ke,{value:"Cashier",children:"Cashier"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(oe,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),e.jsx(oe,{className:"bg-[#358E83] hover:bg-[#2a6f66]",onClick:O,children:"Create User"})]})]})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(je,{children:[e.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(at,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(yn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:te.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+1 from last month"})]})]}),e.jsxs(je,{children:[e.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(at,{className:"text-sm font-medium",children:"Active Users"}),e.jsx(yn,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(Se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:te.filter(ae=>ae.status==="Active").length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(te.filter(ae=>ae.status==="Active").length/te.length*100),"% of total"]})]})]}),e.jsxs(je,{children:[e.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(at,{className:"text-sm font-medium",children:"Admins"}),e.jsx(yn,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(Se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:te.filter(ae=>ae.role==="Admin").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Full system access"})]})]}),e.jsxs(je,{children:[e.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(at,{className:"text-sm font-medium",children:"Cashiers"}),e.jsx(yn,{className:"h-4 w-4 text-purple-600"})]}),e.jsxs(Se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:te.filter(ae=>ae.role==="Cashier").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Billing system access"})]})]})]}),e.jsxs(je,{children:[e.jsxs(st,{children:[e.jsx(at,{children:"User Directory"}),e.jsx(dn,{children:"Search and filter users in the system"})]}),e.jsxs(Se,{children:[q&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"text-sm text-red-800",children:q}),e.jsx("div",{children:e.jsx(oe,{size:"sm",variant:"outline",onClick:z,children:"Retry"})})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Ce,{placeholder:"Search users by name, email, or role...",value:s,onChange:ae=>a(ae.target.value),className:"pl-10"})]}),e.jsxs(qt,{value:o,onValueChange:l,children:[e.jsx(Kt,{className:"w-full sm:w-40",children:e.jsx(Gt,{placeholder:"Filter by role"})}),e.jsxs(Yt,{children:[e.jsx(Ke,{value:"all",children:"All Roles"}),e.jsx(Ke,{value:"Admin",children:"Admin"}),e.jsx(Ke,{value:"Cashier",children:"Cashier"})]})]}),e.jsxs(qt,{value:d,onValueChange:u,children:[e.jsx(Kt,{className:"w-full sm:w-40",children:e.jsx(Gt,{placeholder:"Filter by status"})}),e.jsxs(Yt,{children:[e.jsx(Ke,{value:"all",children:"All Status"}),e.jsx(Ke,{value:"Active",children:"Active"}),e.jsx(Ke,{value:"Inactive",children:"Inactive"})]})]}),e.jsxs(oe,{variant:"outline",onClick:H,children:[e.jsx(Fm,{className:"h-4 w-4 mr-2"}),"Export"]})]}),b.length>0&&e.jsx("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-blue-800",children:[b.length," user",b.length>1?"s":""," selected"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(oe,{size:"sm",variant:"outline",onClick:yt,children:[e.jsx(h2,{className:"h-4 w-4 mr-1"}),"Activate"]}),e.jsxs(oe,{size:"sm",variant:"outline",onClick:kt,children:[e.jsx(v2,{className:"h-4 w-4 mr-1"}),"Deactivate"]}),e.jsx(oe,{size:"sm",variant:"outline",onClick:()=>j([]),children:"Clear"})]})]})}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(KA,{children:[e.jsx(YA,{children:e.jsxs(kx,{children:[e.jsx(ea,{className:"w-12",children:e.jsx(oe,{variant:"ghost",size:"sm",onClick:Je,className:"h-8 w-8 p-0",children:b.length===A.length&&A.length>0?e.jsx(Ng,{className:"h-4 w-4"}):e.jsx(Sg,{className:"h-4 w-4"})})}),e.jsx(ea,{children:"User"}),e.jsx(ea,{children:"Role"}),e.jsx(ea,{children:"Status"}),e.jsx(ea,{children:"Last Login"}),e.jsx(ea,{children:"Created"}),e.jsx(ea,{className:"text-right",children:"Actions"})]})}),e.jsx(QA,{children:A.map(ae=>e.jsxs(kx,{children:[e.jsx(ta,{children:e.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>Qe(ae.id),className:"h-8 w-8 p-0",children:b.includes(ae.id)?e.jsx(Ng,{className:"h-4 w-4"}):e.jsx(Sg,{className:"h-4 w-4"})})}),e.jsx(ta,{children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-[#358E83] rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-medium",children:ae.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:ae.name}),e.jsx("div",{className:"text-sm text-gray-500",children:ae.email})]})]})}),e.jsx(ta,{children:e.jsx(ct,{className:Ne(ae.role),children:ae.role})}),e.jsx(ta,{children:e.jsx(ct,{className:he(ae.status),children:ae.status})}),e.jsx(ta,{className:"text-sm text-gray-600",children:ae.lastLogin}),e.jsx(ta,{className:"text-sm text-gray-600",children:ae.createdAt}),e.jsx(ta,{className:"text-right",children:e.jsxs(Am,{children:[e.jsx(Rm,{asChild:!0,children:e.jsx(oe,{variant:"ghost",size:"sm",children:e.jsx(dN,{className:"h-4 w-4"})})}),e.jsxs(Tm,{align:"end",children:[e.jsxs(Br,{onClick:()=>R(ae),children:[e.jsx(MN,{className:"mr-2 h-4 w-4"}),"Edit User"]}),e.jsxs(Br,{onClick:()=>B(ae.id),children:[e.jsx(Hr,{className:"mr-2 h-4 w-4"}),ae.status==="Active"?"Deactivate":"Activate"]}),e.jsxs(Br,{onClick:()=>Ge(ae),children:[e.jsx(PN,{className:"mr-2 h-4 w-4"}),"Reset Password"]}),e.jsxs(Br,{onClick:()=>ht(ae),children:[e.jsx(Zx,{className:"mr-2 h-4 w-4"}),"Send Invitation"]}),we.includes(ae.id)?e.jsxs(Br,{className:"text-red-600 opacity-70",disabled:!0,children:[e.jsx(DN,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):e.jsxs(Br,{onClick:()=>{le(ae),V(!0)},className:"text-red-600",children:[e.jsx(qr,{className:"mr-2 h-4 w-4"}),"Delete User"]})]})]})})]},ae.id))})]})})]})]}),e.jsx(an,{open:U,onOpenChange:V,children:e.jsxs(Zt,{className:"sm:max-w-md",children:[e.jsxs(en,{children:[e.jsx(tn,{children:"Confirm Delete"}),e.jsx(un,{children:"Are you sure you want to permanently delete this user? This action cannot be undone."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-gray-700",children:ie?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"font-medium",children:[ie.name," (",ie.email,")"]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Role: ",ie.role,"  Status: ",ie.status]})]}):e.jsx("div",{className:"text-sm",children:"No user selected"})}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(oe,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),e.jsx(oe,{className:"bg-red-600 hover:bg-red-700",onClick:()=>ie&&Y(ie.id),children:"Delete"})]})]})]})}),e.jsx(an,{open:x,onOpenChange:v,children:e.jsxs(Zt,{className:"sm:max-w-md",children:[e.jsxs(en,{children:[e.jsx(tn,{children:"Edit User"}),e.jsx(un,{children:"Update user information and permissions."})]}),g&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"edit-name",children:"Full Name"}),e.jsx(Ce,{id:"edit-name",type:"text",value:g.name,onChange:ae=>S({...g,name:ae.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"edit-email",children:"Email"}),e.jsx(Ce,{id:"edit-email",type:"email",value:g.email,onChange:ae=>S({...g,email:ae.target.value})})]}),e.jsxs("div",{children:[e.jsx(ue,{htmlFor:"edit-role",children:"Role"}),e.jsxs(qt,{value:g.role,onValueChange:ae=>{const Xe=ae==="Admin"?T.Admin:T.Cashier;S({...g,role:ae,permissions:Xe})},children:[e.jsx(Kt,{children:e.jsx(Gt,{})}),e.jsxs(Yt,{children:[e.jsx(Ke,{value:"Admin",children:"Admin"}),e.jsx(Ke,{value:"Cashier",children:"Cashier"})]})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Status"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(Ur,{checked:g.status==="Active",onCheckedChange:ae=>S({...g,status:ae?"Active":"Inactive"})}),e.jsx("span",{className:"text-sm",children:g.status})]})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Permissions"}),e.jsx("div",{className:"mt-2 space-y-1",children:g.permissions.map((ae,Xe)=>e.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-[#358E83] rounded-full mr-2"}),ae]},Xe))})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(oe,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsx(oe,{className:"bg-[#358E83] hover:bg-[#2a6f66]",onClick:X,children:"Update User"})]})]})]})})]})}function g4({children:r,currentView:s,onNavigateToView:a,pageTitle:o,pageDescription:l,userSession:d}){const[u,f]=p.useState(!1),y=d?.system==="billing"||["medicare-billing","invoice","payment","history","discounts","user-management","discount-management","patients-management"].includes(s),x=()=>{const I=[];return d?.role==="admin"?(I.push({id:"patients-management",label:"Patient Management",icon:Ji,description:"Manage patient records"}),I.push({id:"discount-management",label:"Discount Management",icon:Sr,description:"Manage discount codes and promotions"}),I.push({id:"user-management",label:"User Management",icon:yn,description:"Manage system users and roles"}),I.push({id:"settings",label:"Settings",icon:Qa,description:"System configuration"}),I):(I.push({id:"medicare-billing",label:"Dashboard",icon:sa,description:"Billing overview and metrics"},{id:"invoice",label:"Invoice Generation",icon:bs,description:"Create and manage invoices"},{id:"payment",label:"Payment Processing",icon:js,description:"Process payments and transactions"},{id:"history",label:"Billing History",icon:em,description:"View billing records and reports"},{id:"patients-management",label:"Patient Management",icon:Ji,description:"View patient records and billing"},{id:"settings",label:"Settings",icon:Qa,description:"System configuration"}),I)},g=d?.system==="pharmacy"?[{id:"pharmacy",label:"Pharmacy"},{id:"settings",label:"Settings"}]:d?.system==="emr"?[{id:"emr",label:"EMR"},{id:"settings",label:"Settings"}]:[{id:"dashboard",label:"Dashboard"},{id:"emr",label:"EMR"},{id:"pharmacy",label:"Pharmacy"},{id:"billing",label:"Billing"},{id:"settings",label:"Settings"}],S=x(),C=I=>!!(I==="dashboard"&&s==="dashboard"||I==="emr"&&(s==="patients"||s==="appointments")||I==="pharmacy"&&s==="pharmacy"||I==="billing"&&["medicare-billing","invoice","payment","history","discounts","user-management","discount-management","patients-management"].includes(s)||I==="settings"&&s==="settings"),N=I=>s===I,b=I=>{if(!(d?.system==="billing"&&I!=="billing"&&I!=="settings")){{if(d?.system==="pharmacy"&&I!=="pharmacy"&&I!=="settings")return;if(d?.system==="emr"&&I!=="emr"&&I!=="settings")return}a(I==="dashboard"?"dashboard":I==="emr"?"patients":I==="pharmacy"?"pharmacy":I==="billing"?"medicare-billing":I)}},j=I=>{a(I)},E=()=>{a("dashboard")};return y?e.jsxs("div",{className:"min-h-screen bg-[#F7FAFC] flex",children:[e.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-[#358E83] rounded-md flex items-center justify-center",children:e.jsx(sa,{className:"h-5 w-5 text-white"})}),e.jsx("div",{children:e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"HIMS"})}),e.jsxs(oe,{variant:"ghost",size:"sm",className:"ml-auto text-gray-400 hover:text-gray-600",onClick:E,children:[e.jsx(X1,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs ml-1",children:"Back to HIMS"})]})]})}),e.jsx("div",{className:"flex-1 p-4",children:e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-3",children:"NAVIGATION"}),e.jsx("nav",{className:"space-y-1",children:S.map(I=>{const M=I.icon,D=N(I.id);return e.jsxs("button",{onClick:()=>j(I.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${D?"text-white":"text-gray-700 hover:bg-gray-100"}`,style:D?{backgroundColor:"#358E83"}:{},children:[e.jsx(M,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium",children:I.label})]},I.id)})})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-medium text-gray-900 mb-1",children:o||"Billing System"}),e.jsx("p",{className:"text-gray-600",children:l||"Comprehensive billing management for hospital services"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(Am,{children:[e.jsx(Rm,{asChild:!0,children:e.jsxs(oe,{variant:"ghost",className:"flex items-center space-x-2 hover:bg-gray-100",children:[e.jsx("div",{className:"w-8 h-8 bg-[#358E83] rounded-full flex items-center justify-center",children:e.jsx(tc,{className:"h-5 w-5 text-white"})}),d&&e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.role}),e.jsx("div",{className:"text-xs text-gray-500",children:d.system})]}),e.jsx(Xl,{className:"h-4 w-4 text-gray-400"})]})}),e.jsxs(Tm,{align:"end",className:"w-56",children:[d&&e.jsxs("div",{className:"px-3 py-2 border-b",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.email}),e.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:[d.role," - ",d.system]})]}),e.jsxs(Br,{onClick:()=>f(!0),className:"text-red-600 hover:text-red-700",children:[e.jsx(jg,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})]})})]})}),e.jsx("main",{className:"flex-1 p-6 overflow-auto",children:r})]}),e.jsx(Es,{open:u,onOpenChange:f,children:e.jsxs(Ds,{children:[e.jsxs(ks,{children:[e.jsx(Rs,{children:"Confirm Logout"}),e.jsx(ua,{children:"Are you sure you want to sign out? Any unsaved changes will be lost."})]}),e.jsxs(As,{children:[e.jsx(Is,{children:"Cancel"}),e.jsx(Ts,{onClick:()=>a("logout"),className:"bg-red-600 hover:bg-red-700",children:"Sign Out"})]})]})})]}):e.jsxs("div",{className:"min-h-screen bg-[#F7FAFC]",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-[#358E83] rounded-md flex items-center justify-center",children:e.jsx(sa,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xl font-semibold text-gray-900",children:"HIMS"}),d?.system&&e.jsx("span",{className:"text-xs text-[#358E83] capitalize font-medium",children:d.system==="emr"?"EMR System":`${d.system} System`})]})]}),e.jsx("nav",{className:"hidden md:flex space-x-6",children:g.map(I=>e.jsx("button",{onClick:()=>b(I.id),className:`px-3 py-2 text-sm font-medium transition-colors ${C(I.id)?"text-[#358E83] border-b-2 border-[#358E83]":"text-gray-600 hover:text-gray-900"}`,children:I.label},I.id))})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(Am,{children:[e.jsx(Rm,{asChild:!0,children:e.jsxs(oe,{variant:"ghost",className:"flex items-center space-x-2 hover:bg-gray-100",children:[e.jsx("div",{className:"w-8 h-8 bg-[#358E83] rounded-full flex items-center justify-center",children:e.jsx(tc,{className:"h-5 w-5 text-white"})}),d&&e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.role}),e.jsx("div",{className:"text-xs text-gray-500",children:d.system})]}),e.jsx(Xl,{className:"h-4 w-4 text-gray-400"})]})}),e.jsxs(Tm,{align:"end",className:"w-56",children:[d&&e.jsxs("div",{className:"px-3 py-2 border-b",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.email}),e.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:[d.role," - ",d.system]})]}),!d?.system&&e.jsx(Br,{onClick:()=>a("settings"),children:"Settings"}),e.jsxs(Br,{onClick:()=>f(!0),className:"text-red-600 hover:text-red-700",children:[e.jsx(jg,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})]})})]})})}),e.jsxs("main",{className:"px-6 py-8",children:[o&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mb-2",children:o}),l&&e.jsx("p",{className:"text-gray-600",children:l})]}),r]}),e.jsx(Es,{open:u,onOpenChange:f,children:e.jsxs(Ds,{children:[e.jsxs(ks,{children:[e.jsx(Rs,{children:"Confirm Logout"}),e.jsx(ua,{children:"Are you sure you want to sign out? Any unsaved changes will be lost."})]}),e.jsxs(As,{children:[e.jsx(Is,{children:"Cancel"}),e.jsx(Ts,{onClick:()=>a("logout"),className:"bg-red-600 hover:bg-red-700",children:"Sign Out"})]})]})})]})}function x4({currentView:r,userSession:s,onNavigateToView:a}){const o=()=>{switch(r){case"dashboard":return{title:"Dashboard",description:"Welcome to the Hospital Information Management System (HIMS). This dashboard provides an overview of the system's key functionalities."};case"patients":return{title:"Patient Records",description:"Manage patient information, medical histories, and electronic medical records."};case"patients-management":return{title:"Patient Management",description:"View patient information, services, and pharmacy purchases with complete billing details."};case"appointments":return{title:"Appointments",description:"Schedule, manage, and track patient appointments with healthcare providers."};case"pharmacy":return{title:"Pharmacy Integration",description:"Manage integrated pharmacy systems, medication inventory, and patient prescriptions."};case"medicare-billing":return{title:"Billing Dashboard",description:"Overview of billing operations and key performance metrics"};case"invoice":return{title:"Invoice Generation",description:"Create and manage patient invoices for services rendered."};case"payment":return{title:"Payment Processing",description:"Process patient payments through various payment methods."};case"history":return{title:"Billing History",description:"View billing records, payment history, and pharmacy transactions."};case"discounts":return{title:"Discounts & Promotions",description:"Manage discount codes, promotional offers, and special pricing."};case"discount-management":return{title:"Discount Management",description:"Manage discount codes, promotional offers, and special pricing (Admin Only)."};case"user-management":return{title:"User Management",description:"Manage system users, roles, and permissions."};case"settings":return{title:"Settings",description:"Configure system settings and user preferences."};default:return{title:"HIMS",description:"Hospital Information Management System."}}},l=["medicare-billing","invoice","payment","history","discounts"],d=["discount-management","user-management"],u=["patients-management"],f=l.includes(r),y=d.includes(r),x=u.includes(r),v=()=>{if(s.role==="admin")return e.jsx(Al,{onNavigateToModule:a});switch(r){case"medicare-billing":return e.jsx(kg,{onNavigateToView:a});case"invoice":return e.jsx(BA,{onNavigateToView:a,userSession:s});case"payment":return e.jsx(UA,{onNavigateToView:a,userSession:s});case"history":return e.jsx(WA,{onNavigateToView:a});case"discounts":return e.jsx(qA,{onNavigateToView:a});default:return e.jsx(kg,{onNavigateToView:a})}},g=()=>{switch(r){case"discount-management":return e.jsx(GA,{onNavigateToView:a});case"user-management":return e.jsx(h4,{onNavigateToView:a});case"patients-management":return e.jsx(rx,{onNavigateToView:a,userSession:s});default:return e.jsx(Al,{onNavigateToModule:a})}},S=()=>{if(x)return e.jsx(rx,{onNavigateToView:a,userSession:s});if(y&&s.role==="admin")return g();if(f)return v();switch(r){case"dashboard":return s.role==="admin"?e.jsx(Al,{onNavigateToModule:a}):e.jsx(Rg,{onNavigateToModule:a});case"patients":return e.jsx(eS,{onNavigateToView:a});case"appointments":return e.jsx(FE,{onNavigateToView:a});case"pharmacy":return e.jsx(cD,{onNavigateToView:a});case"settings":return e.jsx(lD,{onNavigateToView:a});default:return s.role==="admin"?e.jsx(Al,{onNavigateToModule:a}):e.jsx(Rg,{onNavigateToModule:a})}},C=o();return e.jsx(g4,{currentView:r,onNavigateToView:a,pageTitle:C.title,pageDescription:C.description,userSession:s,children:S()})}function y4({onNavigateToLogin:r}){return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[e.jsx("nav",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200/50 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-20",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-[#358E83]/10 rounded-xl",children:e.jsx(wg,{className:"text-[#358E83]",size:28})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold text-xl text-gray-900",children:"HIMS"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Hospital Information Management"})]})]}),e.jsxs(oe,{variant:"ghost",className:"text-[#358E83] hover:bg-[#358E83]/10 px-4 py-2 rounded-lg font-medium",children:[e.jsx(Qa,{className:"mr-2",size:18}),"Settings"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-16",children:[e.jsxs("div",{className:"text-center mb-20",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-[#358E83]/10 rounded-2xl mb-8",children:e.jsx(wg,{className:"text-[#358E83]",size:40})}),e.jsxs("h1",{className:"text-5xl font-bold text-gray-900 mb-6 leading-tight",children:["Hospital Information",e.jsx("br",{}),e.jsx("span",{className:"text-[#358E83]",children:"Management System"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Integrated healthcare solutions for modern hospitals. Streamline operations, enhance patient care, and optimize your healthcare workflows."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-16",children:[e.jsx("div",{className:"group bg-white rounded-2xl shadow-sm border border-gray-200/60 p-8 hover:shadow-xl hover:border-[#358E83]/20 transition-all duration-300 transform hover:-translate-y-1",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"p-4 bg-[#358E83]/10 rounded-xl mb-6 group-hover:bg-[#358E83]/20 transition-colors",children:e.jsx(vN,{className:"text-[#358E83]",size:32})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Pharmacy Management"}),e.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"Comprehensive medication management, inventory tracking, prescription processing, and pharmaceutical workflow optimization."}),e.jsx(oe,{onClick:()=>r("pharmacy"),className:"w-full bg-[#358E83] hover:bg-[#358E83]/90 text-white font-semibold py-3 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg",children:"Access Pharmacy"})]})}),e.jsxs("div",{className:"group bg-white rounded-2xl shadow-sm border-2 border-[#358E83] p-8 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 bg-[#358E83] text-white px-3 py-1 text-sm font-medium rounded-bl-xl",children:"Featured"}),e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"p-4 bg-[#358E83]/10 rounded-xl mb-6 group-hover:bg-[#358E83]/20 transition-colors",children:e.jsx(bN,{className:"text-[#358E83]",size:32})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Electronic Medical Records"}),e.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"Secure patient data management, medical history tracking, clinical documentation, and healthcare information systems."}),e.jsx(oe,{onClick:()=>r("emr"),className:"w-full bg-[#358E83] hover:bg-[#358E83]/90 text-white font-semibold py-3 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg",children:"Access EMR"})]})]}),e.jsx("div",{className:"group bg-white rounded-2xl shadow-sm border border-gray-200/60 p-8 hover:shadow-xl hover:border-[#358E83]/20 transition-all duration-300 transform hover:-translate-y-1",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"p-4 bg-[#358E83]/10 rounded-xl mb-6 group-hover:bg-[#358E83]/20 transition-colors",children:e.jsx(js,{className:"text-[#358E83]",size:32})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Billing & Payment"}),e.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"Streamlined financial processes, automated billing, payment processing, and comprehensive financial reporting tools."}),e.jsx(oe,{onClick:()=>r("billing"),className:"w-full bg-[#358E83] hover:bg-[#358E83]/90 text-white font-semibold py-3 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg",children:"Access Billing"})]})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500 text-sm",children:" 2025 Hospital Information Management System. All rights reserved."}),e.jsxs("div",{className:"flex items-center justify-center space-x-6 mt-4",children:[e.jsx("a",{href:"#",className:"text-gray-500 hover:text-[#358E83] text-sm transition-colors",children:"Privacy Policy"}),e.jsx("a",{href:"#",className:"text-gray-500 hover:text-[#358E83] text-sm transition-colors",children:"Terms of Service"}),e.jsx("a",{href:"#",className:"text-gray-500 hover:text-[#358E83] text-sm transition-colors",children:"Support"})]})]})]})]})}function Rx({onNavigateToLogin:r}){return e.jsx(y4,{onNavigateToLogin:r})}function v4({system:r,onLogin:s,onBack:a}){const[o,l]=p.useState(""),[d,u]=p.useState(""),[f,y]=p.useState(!1),[x,v]=p.useState(!1),g="http://localhost:5000/api",S=async b=>{if(b.preventDefault(),!o||!d){ce.error("Please enter both email and password");return}v(!0);try{const E=await(await fetch(`${g}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:d})})).json();E.success?(ce.success(" Login successful"),s({email:o,password:d,system:r,user:E.user})):ce.error(E.message||"Invalid email or password")}catch(j){ce.error("Server connection failed"),console.error(j)}finally{v(!1)}},N=(()=>{switch(r){case"billing":return{title:"Billing & Payment System",subtitle:"Access your financial management dashboard",welcomeTitle:"Welcome to Billing HIMS",welcomeDescription:"Streamline your hospital's financial operations with our comprehensive billing and payment management platform. Handle invoices, process payments, and manage financial workflows efficiently.",department:"Billing & Finance Department"};case"pharmacy":return{title:"Pharmacy Management System",subtitle:"Access your pharmaceutical operations dashboard",welcomeTitle:"Welcome to Pharmacy HIMS",welcomeDescription:"Manage your pharmacy operations with precision and care. Our comprehensive platform handles inventory, prescriptions, dispensing, and pharmaceutical workflows seamlessly.",department:"Pharmacy Department"};case"emr":return{title:"Electronic Medical Records",subtitle:"Access secure patient information system",welcomeTitle:"Welcome to EMR HIMS",welcomeDescription:"Access and manage patient health information securely and efficiently. Our EMR system ensures comprehensive medical record keeping with the highest standards of data protection.",department:"Medical Records Department"};default:return{title:"HIMS Login",subtitle:"Access your hospital management system",welcomeTitle:"Welcome to HIMS",welcomeDescription:"Your comprehensive healthcare management platform.",department:"Hospital Information Management"}}})();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"w-full max-w-6xl bg-white rounded-3xl shadow-2xl overflow-hidden",children:e.jsxs("div",{className:"flex min-h-[600px]",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-[#358E83] to-[#2d7a70] text-white p-12 flex-col justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 border-2 border-white rounded-full"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-24 h-24 border-2 border-white rounded-full"}),e.jsx("div",{className:"absolute top-1/2 right-20 w-16 h-16 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h1",{className:"text-4xl font-bold mb-6 leading-tight",children:N.welcomeTitle}),e.jsx("p",{className:"text-xl opacity-90 leading-relaxed mb-8",children:N.welcomeDescription}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-3"}),e.jsx("span",{className:"text-white/90",children:"Secure Authentication"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-3"}),e.jsx("span",{className:"text-white/90",children:"Email-Based Role Detection"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-3"}),e.jsx("span",{className:"text-white/90",children:"Enterprise Security"})]})]})]})]}),e.jsx("div",{className:"w-full lg:w-1/2 p-8 lg:p-12 flex flex-col justify-center",children:e.jsxs("div",{className:"w-full max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(oe,{variant:"ghost",onClick:a,className:"mb-6 p-0 h-auto text-[#358E83] hover:text-[#358E83]/80 font-medium",children:[e.jsx(Om,{className:"mr-2",size:20}),"Back to System Selection"]}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Sign In"}),e.jsx("p",{className:"text-gray-600",children:N.subtitle}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-blue-800 font-medium",children:N.department})})]})})]}),e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ue,{children:"Email Address"}),e.jsx(Ce,{type:"email",placeholder:"your.email@hospital.com",value:o,onChange:b=>l(b.target.value),required:!0}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Your role will be automatically detected from your email"})]}),e.jsxs("div",{children:[e.jsx(ue,{children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ce,{type:f?"text":"password",placeholder:"Enter your password",value:d,onChange:b=>u(b.target.value),required:!0}),e.jsx("button",{type:"button",onClick:()=>y(!f),className:"absolute inset-y-0 right-0 flex items-center px-4 text-gray-400 hover:text-gray-600",children:f?e.jsx(fN,{size:20}):e.jsx(Hr,{size:20})})]})]}),e.jsx(oe,{type:"submit",disabled:!o||!d||x,className:"w-full bg-[#358E83] hover:bg-[#2b6f68] text-white font-semibold py-3 rounded-xl",children:x?"Signing In...":`Sign In to ${N.title}`})]})]})})]})}),e.jsx(an,{open:x,onOpenChange:()=>{},children:e.jsxs(Zt,{className:"sm:max-w-md [&>button]:hidden",children:[e.jsxs(en,{children:[e.jsx(tn,{className:"sr-only",children:"Signing In"}),e.jsx(un,{className:"sr-only",children:"Please wait while we authenticate your credentials"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-[#358E83] border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Signing In"}),e.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Please wait while we authenticate your credentials..."})]})]})})]})}function w4({system:r,onLogin:s,onBack:a}){return e.jsx(v4,{system:r,onLogin:s,onBack:a})}var j4=(r,s,a,o,l,d,u,f)=>{let y=document.documentElement,x=["light","dark"];function v(C){(Array.isArray(r)?r:[r]).forEach(N=>{let b=N==="class",j=b&&d?l.map(E=>d[E]||E):l;b?(y.classList.remove(...j),y.classList.add(d&&d[C]?d[C]:C)):y.setAttribute(N,C)}),g(C)}function g(C){f&&x.includes(C)&&(y.style.colorScheme=C)}function S(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(o)v(o);else try{let C=localStorage.getItem(s)||a,N=u&&C==="system"?S():C;v(N)}catch{}},b4=p.createContext(void 0),N4={setTheme:r=>{},themes:[]},S4=()=>{var r;return(r=p.useContext(b4))!=null?r:N4};p.memo(({forcedTheme:r,storageKey:s,attribute:a,enableSystem:o,enableColorScheme:l,defaultTheme:d,value:u,themes:f,nonce:y,scriptProps:x})=>{let v=JSON.stringify([a,s,d,r,f,u,o,l]).slice(1,-1);return p.createElement("script",{...x,suppressHydrationWarning:!0,nonce:typeof window>"u"?y:"",dangerouslySetInnerHTML:{__html:`(${j4.toString()})(${v})`}})});const C4=({...r})=>{const{theme:s="system"}=S4();return e.jsx(s0,{theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...r})};function P4(){const[r,s]=p.useState(null),{userSession:a,login:o,logout:l,isAuthenticated:d}=Hb(),{currentView:u,navigateToView:f,navigateToSystem:y,navigateToLanding:x,navigateToLogin:v}=Vb();p.useEffect(()=>((async()=>{try{await dg.initialize()}catch(I){console.error("App initialization failed:",I)}})(),()=>{dg.cleanup()}),[]);const g=E=>{s(E),v()},S=E=>{const I=o(E);y(I),s(null)},C=()=>{l(),x()},N=()=>{s(null),x()},b=E=>{if(E==="logout"){C();return}f(E,a)},j=()=>u==="landing"&&!d?e.jsx(Rx,{onNavigateToLogin:g}):u==="login"&&!d&&r?e.jsx(w4,{system:r,onLogin:S,onBack:N}):d&&a?e.jsx(x4,{currentView:u,userSession:a,onNavigateToView:b}):e.jsx(Rx,{onNavigateToLogin:g});return e.jsxs(e.Fragment,{children:[j(),e.jsx(C4,{})]})}Fb.createRoot(document.getElementById("root")).render(e.jsx(P4,{}));
